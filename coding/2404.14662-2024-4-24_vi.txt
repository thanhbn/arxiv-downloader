# 2404.14662.pdf
# ÄÆ°á»£c chuyá»ƒn Ä‘á»•i tá»« PDF sang TXT
# ÄÆ°á»ng dáº«n nguá»“n: /home/admin88/arxiv-downloader/coding/2404.14662.pdf
# KÃ­ch thÆ°á»›c tá»‡p: 1637298 byte

===============================================
Ná»˜I DUNG Tá»†P PDF
===============================================


--- TRANG 1 ---
2024-4-24
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n
Suy luáº­n vá» Thá»±c thi MÃ£
Ansong Ni1 2, Miltiadis Allamanis1, Arman Cohan2, Yinlin Deng1 3, Kensen Shi1, Charles Sutton1vÃ 
Pengcheng Yin1
1Google DeepMind,2Äáº¡i há»c Yale,3Äáº¡i há»c Illinois táº¡i Urbana-Champaign
Má»™t ká»¹ nÄƒng cÆ¡ báº£n cá»§a cÃ¡c nhÃ  phÃ¡t triá»ƒn con ngÆ°á»i lÃ  kháº£ nÄƒng hiá»ƒu vÃ  suy luáº­n vá» viá»‡c thá»±c thi chÆ°Æ¡ng trÃ¬nh. VÃ­ dá»¥, má»™t láº­p trÃ¬nh viÃªn cÃ³ thá»ƒ mÃ´ phá»ng tinh tháº§n viá»‡c thá»±c thi mÃ£ báº±ng ngÃ´n ngá»¯ tá»± nhiÃªn Ä‘á»ƒ gá»¡ lá»—i vÃ  sá»­a chá»¯a mÃ£ (tá»©c lÃ  gá»¡ lá»—i vá»‹t cao su). Tuy nhiÃªn, cÃ¡c mÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n (LLM) cá»§a mÃ£ thÆ°á»ng Ä‘Æ°á»£c huáº¥n luyá»‡n trÃªn dáº¡ng vÄƒn báº£n bá» máº·t cá»§a chÆ°Æ¡ng trÃ¬nh, do Ä‘Ã³ cÃ³ thá»ƒ thiáº¿u hiá»ƒu biáº¿t ngá»¯ nghÄ©a vá» cÃ¡ch chÆ°Æ¡ng trÃ¬nh thá»±c thi trong thá»i gian cháº¡y. Äá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y, chÃºng tÃ´i Ä‘á» xuáº¥t NE xT, má»™t phÆ°Æ¡ng phÃ¡p dáº¡y LLM kiá»ƒm tra cÃ¡c dáº¥u váº¿t thá»±c thi cá»§a chÆ°Æ¡ng trÃ¬nh (tráº¡ng thÃ¡i biáº¿n cá»§a cÃ¡c dÃ²ng Ä‘Ã£ thá»±c thi) vÃ  suy luáº­n vá» hÃ nh vi thá»i gian cháº¡y cá»§a chÃºng thÃ´ng qua cÃ¡c lÃ½ luáº­n chuá»—i suy nghÄ© (CoT). Cá»¥ thá»ƒ, NE xT sá»­ dá»¥ng tá»± huáº¥n luyá»‡n Ä‘á»ƒ khá»Ÿi táº¡o má»™t táº­p dá»¯ liá»‡u huáº¥n luyá»‡n tá»•ng há»£p cÃ¡c lÃ½ luáº­n nháº­n thá»©c thá»±c thi dáº«n Ä‘áº¿n cÃ¡c giáº£i phÃ¡p nhiá»‡m vá»¥ chÃ­nh xÃ¡c (vÃ­ dá»¥: chÆ°Æ¡ng trÃ¬nh Ä‘Ã£ sá»­a) mÃ  khÃ´ng cáº§n chÃº thÃ­ch thá»§ cÃ´ng tá»‘n cÃ´ng. CÃ¡c thÃ­ nghiá»‡m trÃªn cÃ¡c nhiá»‡m vá»¥ sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh dá»±a trÃªn MbppvÃ HumanEval cho tháº¥y NE xT cáº£i thiá»‡n tá»· lá»‡ sá»­a chá»¯a cá»§a mÃ´ hÃ¬nh PaLM 2 láº§n lÆ°á»£t 26,1% vÃ 14,3%tuyá»‡t Ä‘á»‘i, vá»›i cháº¥t lÆ°á»£ng lÃ½ luáº­n Ä‘Æ°á»£c cáº£i thiá»‡n Ä‘Ã¡ng ká»ƒ Ä‘Æ°á»£c xÃ¡c minh bá»Ÿi cÃ¡c chá»‰ sá»‘ tá»± Ä‘á»™ng vÃ  ngÆ°á»i Ä‘Ã¡nh giÃ¡ con ngÆ°á»i. MÃ´ hÃ¬nh cá»§a chÃºng tÃ´i cÅ©ng cÃ³ thá»ƒ tá»•ng quÃ¡t hÃ³a cho cÃ¡c tÃ¬nh huá»‘ng mÃ  dáº¥u váº¿t chÆ°Æ¡ng trÃ¬nh khÃ´ng cÃ³ trong thá»i gian kiá»ƒm tra.
1. Giá»›i thiá»‡u
Nhá»¯ng nÄƒm gáº§n Ä‘Ã¢y Ä‘Ã£ chá»©ng kiáº¿n sá»± phÃ¡t triá»ƒn máº¡nh máº½ cá»§a cÃ¡c mÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n (LLM) Ä‘Æ°á»£c huáº¥n luyá»‡n trÃªn mÃ£ (Anil et al., 2023; Austin et al., 2021; Chen et al., 2021a; Li et al., 2023; Roziere et al., 2023; Touvron et al., 2023). Trong khi nhá»¯ng LLM nÃ y Ä‘áº¡t Ä‘Æ°á»£c hiá»‡u suáº¥t áº¥n tÆ°á»£ng trong viá»‡c há»— trá»£ cÃ¡c nhÃ  phÃ¡t triá»ƒn viáº¿t (Chen et al., 2021a), chá»‰nh sá»­a (Fakhoury et al., 2023), giáº£i thÃ­ch (Hu et al., 2018), vÃ  xem xÃ©t (Li et al., 2022) mÃ£, chÃºng váº«n gáº·p khÃ³ khÄƒn trong cÃ¡c nhiá»‡m vá»¥ ká»¹ thuáº­t pháº§n má»m phá»©c táº¡p hÆ¡n Ä‘Ã²i há»i suy luáº­n vá» hÃ nh vi thá»±c thi thá»i gian cháº¡y cá»§a chÆ°Æ¡ng trÃ¬nh (Ma et al., 2023). Máº·t khÃ¡c, khÃ´ng pháº£i lÃºc nÃ o cÅ©ng Ä‘á»§ Ä‘á»ƒ mÃ´ hÃ¬nh Ä‘á» xuáº¥t cÃ¡c giáº£i phÃ¡p mÃ£ tá»‘t, mÃ  thÆ°á»ng cáº§n thiáº¿t pháº£i cung cáº¥p lá»i giáº£i thÃ­ch cho cÃ¡c nhÃ  phÃ¡t triá»ƒn Ä‘á»ƒ ghi láº¡i nhá»¯ng gÃ¬ thay Ä‘á»•i vÃ  táº¡i sao cáº§n thiáº¿t. Nhá»¯ng lá»i giáº£i thÃ­ch nÃ y cÃ³ thá»ƒ giÃºp cÃ¡c nhÃ  phÃ¡t triá»ƒn hiá»ƒu rÃµ hÆ¡n cÃ¡c giáº£i phÃ¡p mÃ£ tá»« mÃ´ hÃ¬nh vÃ  Ä‘Æ°a ra quyáº¿t Ä‘á»‹nh cÃ³ thÃ´ng tin hÆ¡n. (Cito et al., 2022; Kang et al., 2023; Ross et al., 2023).

VÃ­ dá»¥, sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh (Chen et al., 2018; Le Goues et al., 2019; Li et al., 2020) lÃ  nhiá»‡m vá»¥ sá»­a lá»—i trong chÆ°Æ¡ng trÃ¬nh. CÃ¡c nhÃ  phÃ¡t triá»ƒn con ngÆ°á»i thÆ°á»ng há»c cÃ¡ch gá»¡ lá»—i vÃ  sá»­a mÃ£ báº±ng cÃ¡ch tÆ°Æ¡ng tÃ¡c vá»›i trÃ¬nh thÃ´ng dá»‹ch mÃ£ hoáº·c trÃ¬nh gá»¡ lá»—i Ä‘á»ƒ kiá»ƒm tra tráº¡ng thÃ¡i biáº¿n cá»§a cÃ¡c dÃ²ng Ä‘Ã£ thá»±c thi (Siegmund et al., 2014). Thá»±c hÃ nh nhÆ° váº­y giÃºp há» cÃ³ Ä‘Æ°á»£c mÃ´ hÃ¬nh tinh tháº§n vá» viá»‡c thá»±c thi chÆ°Æ¡ng trÃ¬nh (Heinonen et al., 2022), Ä‘á»ƒ há» cÃ³ thá»ƒ mÃ´ phá»ng tinh tháº§n viá»‡c thá»±c thi mÃ£ theo cÃ¡ch trá»«u tÆ°á»£ng hÆ¡n báº±ng ngÃ´n ngá»¯ tá»± nhiÃªn nhÆ° trong gá»¡ lá»—i vá»‹t cao su (Hunt and Thomas, 1999). Do Ä‘Ã³, má»™t mÃ´ hÃ¬nh sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh sáº½ há»¯u Ã­ch hÆ¡n cho cÃ¡c nhÃ  phÃ¡t triá»ƒn náº¿u mÃ´ hÃ¬nh cÃ³ thá»ƒ thá»±c hiá»‡n suy luáº­n tÆ°Æ¡ng tá»± vá» viá»‡c thá»±c thi chÆ°Æ¡ng trÃ¬nh Ä‘á»ƒ giáº£i thÃ­ch lá»—i cho cÃ¡c láº­p trÃ¬nh viÃªn.

Vá»›i cáº£m há»©ng nÃ y, má»¥c tiÃªu cá»§a chÃºng tÃ´i lÃ  cáº£i thiá»‡n kháº£ nÄƒng suy luáº­n vá» viá»‡c thá»±c thi chÆ°Æ¡ng trÃ¬nh cá»§a LLM khi giáº£i quyáº¿t cÃ¡c nhiá»‡m vá»¥ láº­p trÃ¬nh. Trong bÃ i bÃ¡o nÃ y, chÃºng tÃ´i Ä‘á» xuáº¥t Äiá»u chá»‰nh Thá»±c thi Tá»± nhiÃªn (NE xT), nháº±m dáº¡y LLM suy luáº­n vá»›i viá»‡c thá»±c thi mÃ£ báº±ng cÃ¡ch kiá»ƒm tra dáº¥u váº¿t thá»±c thi chÆ°Æ¡ng trÃ¬nh vÃ  suy luáº­n vá» hÃ nh vi thá»i gian cháº¡y cá»§a mÃ£ báº±ng ngÃ´n ngá»¯ tá»± nhiÃªn (NL). á» má»©c Ä‘á»™ tá»•ng quÃ¡t, Ä‘á»‘i vá»›i má»™t nhiá»‡m vá»¥ láº­p trÃ¬nh

TÃ¡c giáº£ liÃªn há»‡: Ansong Ni âŸ¨ansong.ni@yale.edu âŸ©, Pengcheng YinâŸ¨pcyin@google.com âŸ©
Â©2024 Google DeepMind. Táº¥t cáº£ quyá»n Ä‘Æ°á»£c báº£o lÆ°uarXiv:2404.14662v1  [cs.LG]  23 Apr 2024

--- TRANG 2 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£
LÃ½ luáº­n CoTâ€¦Äáº§u ra MÃ£def extract_values(string):str_list = string.replace('"','').split(",")return str_listÄáº·c táº£ váº¥n Ä‘á» yÃªu cáº§u trÃ­ch xuáº¥t giÃ¡ trá»‹ giá»¯a dáº¥u ngoáº·c kÃ©p cá»§a má»™t chuá»—i.BÃ¢y giá» hÃ£y xem chÆ°Æ¡ng trÃ¬nh. ChÆ°Æ¡ng trÃ¬nh Ä‘áº§u tiÃªn sá»­ dá»¥ng replace() Ä‘á»ƒ loáº¡i bá» táº¥t cáº£ dáº¥u ngoáº·c kÃ©p, sau Ä‘Ã³ sá»­ dá»¥ng split() Ä‘á»ƒ chia chuá»—i báº±ng dáº¥u pháº©y. Äiá»u nÃ y cÃ³ váº» hoáº¡t Ä‘á»™ng tá»‘t cho kháº³ng Ä‘á»‹nh thá»© hai vÃ  thá»© ba. NhÆ°ng Ä‘á»‘i vá»›i kháº³ng Ä‘á»‹nh Ä‘áº§u tiÃªn, giÃ¡ trá»‹ tráº£ vá» lÃ  ['Python', ' PHP', ' Java'] trong khi Ä‘áº§u ra mong Ä‘á»£i lÃ  ['Python', 'PHP', 'Java'].LÃ½ do lÃ  chuá»—i Ä‘áº§u vÃ o cÃ³ khoáº£ng tráº¯ng trÆ°á»›c vÃ  sau má»—i dáº¥u pháº©y, vÃ  split() sáº½ chia chuá»—i báº±ng dáº¥u pháº©y vÃ  cÅ©ng giá»¯ láº¡i khoáº£ng tráº¯ng.ÄÃ¢y lÃ  phiÃªn báº£n Ä‘Ã£ sá»­a sá»­ dá»¥ng re.findall() Ä‘á»ƒ trÃ­ch xuáº¥t cÃ¡c chuá»—i con giá»¯a dáº¥u ngoáº·c kÃ©p:import redef extract_values(string):str_list = re.findall('"(.*?)"', string)return str_listlá»c tÃ­nh Ä‘Ãºng Ä‘áº¯nhuáº¥n luyá»‡nláº¥y máº«u

Executor ğ“”
LLMs ğ‘·ğœ½(ğ’Š)kiá»ƒm tra
VÃ­ dá»¥ LÃ½ luáº­n + Sá»­a chá»¯a(ÄÆ°á»£c táº¡o bá»Ÿi PaLM-2-L + NExT)NExTVÃ²ng láº·p(Láº¥y máº«u â†¦Lá»c â†¦Huáº¥n luyá»‡n)def extract_values(string): # (0) string='"Python", "PHP", "Java"';str_list = string.replace('"','').split(",") # (1) str_list=['Python', ' PHP', ' Java'];return str_list # (2) __return__=['Python', ' PHP', ' Java'];assert extract_values('"Python", "PHP", "Java"')==['Python', 'PHP', 'Java']\# (3) __exception__ = AssertionError()assert extract_values('"Python", "PHP", "Java"')==['Python', 'PHP', 'Java']# Viáº¿t má»™t hÃ m Ä‘á»ƒ trÃ­ch xuáº¥t giÃ¡ trá»‹ giá»¯a dáº¥u ngoáº·c kÃ©p cá»§a má»™t chuá»—i.HÆ°á»›ng dáº«n NL ğ’™mÃ£ lá»—i ğ’š#trÆ°á»ng há»£p kiá»ƒm tra ğ’•ğŸdáº¥u váº¿tğlÃ½ luáº­nğ’“'
Ä‘áº§u ra mÃ£ ğ’š(PromptÄ‘áº·c táº£ chÆ°Æ¡ng trÃ¬nhmÃ£ lá»—itrÆ°á»ng há»£p kiá»ƒm tradáº¥u váº¿tâ€¦â€¦â€¦â€¦â€¦

HÃ¬nh 1|NExT tinh chá»‰nh má»™t LLM Ä‘á»ƒ tá»± nhiÃªn hÃ³a dáº¥u váº¿t thá»±c thi thÃ nh cÃ¡c lÃ½ luáº­n chuá»—i suy nghÄ© Ä‘á»ƒ giáº£i quyáº¿t cÃ¡c nhiá»‡m vá»¥ láº­p trÃ¬nh. NÃ³ thá»±c hiá»‡n tá»± huáº¥n luyá»‡n láº·p tá»« giÃ¡m sÃ¡t yáº¿u, báº±ng cÃ¡ch há»c tá»« cÃ¡c máº«u dáº«n Ä‘áº¿n giáº£i phÃ¡p nhiá»‡m vá»¥ chÃ­nh xÃ¡c.

nhiá»‡m vá»¥, Ã½ tÆ°á»Ÿng chÃ­nh lÃ  huáº¥n luyá»‡n má»™t mÃ´ hÃ¬nh Ä‘á»ƒ táº¡o ra cÃ¡c lÃ½ luáº­n NL trung gian, nhÆ° trong suy luáº­n chuá»—i suy nghÄ© (Wei et al., 2022a), nhÆ°ng cung cáº¥p cho mÃ´ hÃ¬nh má»™t dáº¥u váº¿t thá»±c thi cá»§a chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c Ä‘á» cáº­p, Ä‘á»ƒ lÃ½ luáº­n cÃ³ thá»ƒ chÃ­nh xÃ¡c hÆ¡n vÃ  dá»±a trÃªn ngá»¯ nghÄ©a chÆ°Æ¡ng trÃ¬nh. Dáº¡y LLM suy luáº­n vá» viá»‡c thá»±c thi chÆ°Æ¡ng trÃ¬nh báº±ng NL khÃ´ng chá»‰ mang láº¡i kháº£ nÄƒng diá»…n giáº£i tá»‘t hÆ¡n, mÃ  cÃ²n cÃ³ thá»ƒ tÄƒng tÃ­nh Ä‘a dáº¡ng cá»§a cÃ¡c giáº£i phÃ¡p Ä‘Æ°á»£c dá»± Ä‘oÃ¡n bá»Ÿi mÃ´ hÃ¬nh (Yin et al., 2023).

HÃ¬nh 1 minh há»a phÆ°Æ¡ng phÃ¡p Ä‘á» xuáº¥t cá»§a chÃºng tÃ´i khi Ã¡p dá»¥ng cho sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh. ÄÆ°á»£c cung cáº¥p má»™t hÆ°á»›ng dáº«n nhiá»‡m vá»¥ NL (ğ‘¥ trong HÃ¬nh 1) vÃ  má»™t chÆ°Æ¡ng trÃ¬nh lá»—i (Ëœğ‘¦), cÅ©ng nhÆ° dáº¥u váº¿t thá»±c thi cá»§a chÆ°Æ¡ng trÃ¬nh (ğœ–), má»™t LLM giáº£i quyáº¿t nhiá»‡m vá»¥ (vÃ­ dá»¥: dá»± Ä‘oÃ¡n mÃ£ Ä‘Ã£ sá»­a Ë†ğ‘¦) báº±ng suy luáº­n chuá»—i suy nghÄ© (CoT) Ä‘á»ƒ táº¡o ra má»™t lÃ½ luáº­n ngÃ´n ngá»¯ tá»± nhiÃªn (Ë†ğ‘Ÿ) táº­n dá»¥ng thÃ´ng tin thá»±c thi1. Trá»±c quan, dáº¥u váº¿t chÆ°Æ¡ng trÃ¬nh mÃ£ hÃ³a thÃ´ng tin gá»¡ lá»—i há»¯u Ã­ch nhÆ° tráº¡ng thÃ¡i biáº¿n tá»«ng dÃ²ng (vÃ­ dá»¥: giÃ¡ trá»‹ cá»§a str_list trong ğœ–, HÃ¬nh 1) hoáº·c báº¥t ká»³ ngoáº¡i lá»‡ nÃ o Ä‘Æ°á»£c nÃ©m ra, cÃ³ thá»ƒ há»¯u Ã­ch cho LLM Ä‘á»ƒ xÃ¡c Ä‘á»‹nh vÃ  sá»­a lá»—i báº±ng cÃ¡ch suy luáº­n trÃªn káº¿t quáº£ thá»±c thi mong Ä‘á»£i vÃ  thá»±c táº¿ (vÃ­ dá»¥: "vÄƒn báº£n Ä‘Æ°á»£c tÃ´ sÃ¡ng" trong Ë†ğ‘Ÿ). Äá»ƒ giÃºp LLM hiá»ƒu dáº¥u váº¿t thá»±c thi, NE xT Ä‘áº¡i diá»‡n cho dáº¥u váº¿t nhÆ° cÃ¡c bÃ¬nh luáº­n mÃ£ ná»™i tuyáº¿n nhá» gá»n (vÃ­ dá»¥: # (1) str_list= ... trong ğœ–, thÃªm trong Â§3), mÃ  khÃ´ng lÃ m giÃ¡n Ä‘oáº¡n cáº¥u trÃºc chÆ°Æ¡ng trÃ¬nh gá»‘c.

Trong khi dáº¥u váº¿t thá»±c thi náº¯m báº¯t hÃ nh vi thá»i gian cháº¡y cÃ³ thÃ´ng tin, chÃºng tÃ´i tháº¥y thÃ¡ch thá»©c Ä‘á»‘i vá»›i LLM Ä‘á»ƒ táº­n dá»¥ng hiá»‡u quáº£ chÃºng ngay láº­p tá»©c thÃ´ng qua prompting CoT (Â§3). Do Ä‘Ã³ chÃºng tÃ´i chá»n tinh chá»‰nh LLM trÃªn cÃ¡c lÃ½ luáº­n CoT cháº¥t lÆ°á»£ng cao suy luáº­n vá» viá»‡c thá»±c thi chÆ°Æ¡ng trÃ¬nh (Â§4). NE xT sá»­ dá»¥ng tá»± huáº¥n luyá»‡n giÃ¡m sÃ¡t yáº¿u (Zelikman et al., 2022) Ä‘á»ƒ khá»Ÿi táº¡o má»™t táº­p huáº¥n luyá»‡n tá»•ng há»£p báº±ng cÃ¡ch láº¥y máº«u cÃ¡c lÃ½ luáº­n dáº«n Ä‘áº¿n giáº£i phÃ¡p nhiá»‡m vá»¥ chÃ­nh xÃ¡c (vÃ­ dá»¥: mÃ£ Ä‘Ã£ sá»­a Ë†ğ‘¦ trong HÃ¬nh 1) Ä‘Æ°á»£c xÃ¡c minh bá»Ÿi cÃ¡c kiá»ƒm tra Ä‘Æ¡n vá»‹ (Ye et al., 2022). Sá»­ dá»¥ng kiá»ƒm tra Ä‘Æ¡n vá»‹ nhÆ° giÃ¡m sÃ¡t yáº¿u, NE xT há»c cÃ¡ch khÃ¡m phÃ¡ cÃ¡c lÃ½ luáº­n NL nháº­n thá»©c thá»±c thi cá»¥ thá»ƒ cho nhiá»‡m vá»¥ mÃ  khÃ´ng cáº§n dá»±a vÃ o chÃº thÃ­ch thá»§ cÃ´ng tá»‘n cÃ´ng cá»§a lÃ½ luáº­n (Chung et al., 2022; Lightman et al., 2023; Longpre et al., 2023) hoáº·c chÆ°ng cáº¥t dá»¯ liá»‡u nhÆ° váº­y tá»« cÃ¡c mÃ´ hÃ¬nh giÃ¡o viÃªn máº¡nh hÆ¡n (Fu et al., 2023; Gunasekar et al., 2023; Mitra et al., 2023; Mukherjee et al., 2023). NE xT thá»±c hiá»‡n vÃ²ng tá»± huáº¥n luyá»‡n nÃ y cho nhiá»u láº§n láº·p (Anthony et al., 2017; Dasigi et al., 2019), giáº£i quyáº¿t cÃ¡c nhiá»‡m vá»¥ thÃ¡ch thá»©c hÆ¡n vá»›i tá»· lá»‡ thÃ nh cÃ´ng vÃ  cháº¥t lÆ°á»£ng lÃ½ luáº­n Ä‘Æ°á»£c cáº£i thiá»‡n (Â§5).

1Trong khi cÃ³ nhiá»u loáº¡i thÃ´ng tin thá»±c thi mÃ  chÃºng ta cÃ³ thá»ƒ cung cáº¥p cho LLM (vÃ­ dá»¥: Ä‘á»c/ghi biáº¿n, mÃ´i trÆ°á»ng thá»i gian cháº¡y), trong cÃ´ng viá»‡c nÃ y chÃºng tÃ´i giá»›i háº¡n thÃ´ng tin thá»±c thi cho tráº¡ng thÃ¡i chÆ°Æ¡ng trÃ¬nh vÃ  giÃ¡ trá»‹ biáº¿n tá»« dáº¥u váº¿t thá»±c thi, Ä‘Ã¢y lÃ  thÃ´ng tin phá»• biáº¿n mÃ  cÃ¡c nhÃ  phÃ¡t triá»ƒn (con ngÆ°á»i) cÅ©ng sá»­ dá»¥ng.
2

--- TRANG 3 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£
1def separate_odd_and_even(lst): # (0) lst=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
2 odd_list = [] # (1) odd_list=[];
3 even_list = [] # (2) even_list=[];
4 for n in lst: # (3) n=1; (5) n=2; (7) n=3; ...; (21) n=10;
5 if n %
6 even_list.append(n) # (4) even_list=[1]; (8) even_list=[1, 3]; ...; (20) even_list=[1, 3, 5, 7, 9];
7 else:
8 odd_list.append(n) # (6) odd_list=[2]; (10) odd_list=[2, 4]; ...; (22) odd_list=[2, 4, 6, 8, 10];
9 return odd_list, even_list # (23) __return__=([2, 4, 6, 8, 10], [1, 3, 5, 7, 9])
10
11separate_odd_and_even([1,2,3,4,5,6,7,8,9,10]) == [1,3,5,7,9], [2,4,6,8,10]

HÃ¬nh 2|NExT Ä‘áº¡i diá»‡n cho dáº¥u váº¿t thá»±c thi nhÆ° cÃ¡c bÃ¬nh luáº­n ná»™i tuyáº¿n. Chi tiáº¿t hÆ¡n trong Â§2 vÃ  Phá»¥ lá»¥c A.1.

ChÃºng tÃ´i Ä‘Ã¡nh giÃ¡ NE xT vá»›i mÃ´ hÃ¬nh PaLM2-L (Anil et al., 2023) trÃªn hai nhiá»‡m vá»¥ sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh Python. CÃ¡c thÃ­ nghiá»‡m (Â§5) cho tháº¥y NE xT cáº£i thiá»‡n Ä‘Ã¡ng ká»ƒ kháº£ nÄƒng suy luáº­n vá» viá»‡c thá»±c thi chÆ°Æ¡ng trÃ¬nh báº±ng ngÃ´n ngá»¯ tá»± nhiÃªn cá»§a PaLM 2, cáº£i thiá»‡n tá»· lá»‡ sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh trÃªn Mbpp-R 26,1% vÃ  HumanEvalFix-Plus 14,3% tuyá»‡t Ä‘á»‘i tÆ°Æ¡ng á»©ng. Khi so sÃ¡nh vá»›i phÆ°Æ¡ng phÃ¡p sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh tá»± huáº¥n luyá»‡n máº¡nh mÃ  khÃ´ng dá»± Ä‘oÃ¡n lÃ½ luáº­n NL (Ye et al., 2022), mÃ´ hÃ¬nh cá»§a chÃºng tÃ´i Ä‘áº¡t Ä‘á»™ chÃ­nh xÃ¡c tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i tÃ­nh Ä‘a dáº¡ng máº«u Ä‘Æ°á»£c cáº£i thiá»‡n Ä‘Ã¡ng ká»ƒ. ThÃº vá»‹ lÃ , trong khi mÃ´ hÃ¬nh cá»§a chÃºng tÃ´i há»c suy luáº­n vá»›i thÃ´ng tin thá»±c thi cÃ³ sáºµn trong dáº¥u váº¿t chÆ°Æ¡ng trÃ¬nh Ä‘áº§u vÃ o, nÃ³ cÅ©ng tá»•ng quÃ¡t hÃ³a cho tÃ¬nh huá»‘ng ngoÃ i phÃ¢n phá»‘i nÆ¡i dáº¥u váº¿t thá»±c thi khÃ´ng cÃ³ sáºµn táº¡i thá»i gian kiá»ƒm tra. Cuá»‘i cÃ¹ng, Ä‘á»ƒ Ä‘o lÆ°á»ng cháº¥t lÆ°á»£ng lÃ½ luáº­n Ä‘Æ°á»£c táº¡o bá»Ÿi mÃ´ hÃ¬nh, chÃºng tÃ´i Ä‘á» xuáº¥t phÆ°Æ¡ng phÃ¡p Ä‘Ã¡nh giÃ¡ dá»±a trÃªn proxy, xáº¥p xá»‰ cháº¥t lÆ°á»£ng lÃ½ luáº­n sá»­ dá»¥ng hiá»‡u suáº¥t cá»§a LLM nhá» hÆ¡n khi Ä‘Æ°á»£c nháº¯c giáº£i quyáº¿t nhiá»‡m vá»¥ gá»‘c theo nhá»¯ng lÃ½ luáº­n Ä‘Ã³ tá»« mÃ´ hÃ¬nh cá»§a chÃºng tÃ´i. ThÃ´ng qua cáº£ Ä‘Ã¡nh giÃ¡ dá»±a trÃªn proxy vÃ  chÃº thÃ­ch con ngÆ°á»i, chÃºng tÃ´i chá»©ng minh ráº±ng NE xT táº¡o ra lÃ½ luáº­n NL há»¯u Ã­ch giáº£i thÃ­ch nguyÃªn nhÃ¢n lá»—i trong khi Ä‘á» xuáº¥t sá»­a chá»¯a tiá»m nÄƒng. CÃ¡c lÃ½ luáº­n Ä‘Æ°á»£c táº¡o cÃ³ cháº¥t lÆ°á»£ng cao hÆ¡n Ä‘Ã¡ng ká»ƒ so vá»›i nhá»¯ng lÃ½ luáº­n tá»« mÃ´ hÃ¬nh PaLM 2-L cÆ¡ sá»Ÿ.

2. Nhiá»‡m vá»¥: Sá»­a chá»¯a ChÆ°Æ¡ng trÃ¬nh vá»›i Dáº¥u váº¿t

á» Ä‘Ã¢y chÃºng tÃ´i giá»›i thiá»‡u nhiá»‡m vá»¥ sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh vá»›i dáº¥u váº¿t thá»±c thi sá»­ dá»¥ng suy luáº­n chuá»—i suy nghÄ©.

Sá»­a chá»¯a ChÆ°Æ¡ng trÃ¬nh vá»›i Dáº¥u váº¿t Thá»±c thi. NhÆ° trong HÃ¬nh 1, Ä‘Æ°á»£c cung cáº¥p má»™t hÆ°á»›ng dáº«n ğ‘¥ vÃ  má»™t giáº£i phÃ¡p mÃ£ lá»—i Ëœğ‘¦, sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh tá»± Ä‘á»™ng (Le Goues et al., 2019) nháº±m táº¡o ra má»™t chÆ°Æ¡ng trÃ¬nh Ä‘Ã£ sá»­a Ë†ğ‘¦ sao cho Ë†ğ‘¦ vÆ°á»£t qua táº¥t cáº£ cÃ¡c trÆ°á»ng há»£p kiá»ƒm tra ğ‘¡âˆˆğ‘‡ trong má»™t executor E, tá»©c lÃ  E(Ë†ğ‘¦,ğ‘‡)=1 trong khi E(Ëœğ‘¦,ğ‘‡)=0. Trong bÃ i bÃ¡o nÃ y chÃºng tÃ´i táº­p trung vÃ o nhiá»‡m vá»¥ sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh sá»­ dá»¥ng dáº¥u váº¿t thá»±c thi (Bouzenia et al., 2023). Cá»¥ thá»ƒ, má»™t dáº¥u váº¿t chÆ°Æ¡ng trÃ¬nh ğœ– lÃ  má»™t chuá»—i cÃ¡c tráº¡ng thÃ¡i biáº¿n trung gian sau khi thá»±c thi má»—i cÃ¢u lá»‡nh trong Ëœğ‘¦ Ä‘á»‘i vá»›i má»™t trÆ°á»ng há»£p kiá»ƒm tra ğ‘¡. Trá»±c quan, dáº¥u váº¿t ghi láº¡i viá»‡c tÃ­nh toÃ¡n cá»§a má»™t chÆ°Æ¡ng trÃ¬nh, vÃ  cÃ³ thá»ƒ cung cáº¥p thÃ´ng tin gá»¡ lá»—i há»¯u Ã­ch (vÃ­ dá»¥: ngoáº¡i lá»‡) Ä‘á»ƒ sá»­a chá»¯a Ëœğ‘¦.

Äá»ƒ sá»­ dá»¥ng LLM sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh vá»›i dáº¥u váº¿t, chÃºng tÃ´i ná»‘i hÆ°á»›ng dáº«n nhiá»‡m vá»¥, mÃ£ lá»—i, cÃ¡c trÆ°á»ng há»£p kiá»ƒm tra, vÃ  dáº¥u váº¿t thá»±c thi cá»§a chÃºng nhÆ° má»™t prompt (HÃ¬nh 1). Äá»ƒ giÃºp LLM hiá»ƒu dáº¥u váº¿t chÆ°Æ¡ng trÃ¬nh, chÃºng tÃ´i thiáº¿t káº¿ má»™t Ä‘áº¡i diá»‡n dáº¥u váº¿t thÃ¢n thiá»‡n vá»›i prompt báº±ng cÃ¡ch Ä‘á»‹nh dáº¡ng ğœ– nhÆ° cÃ¡c bÃ¬nh luáº­n mÃ£ ná»™i tuyáº¿n nhá» gá»n (tá»©c lÃ  ğœ– trong HÃ¬nh 1), nhÆ° Ä‘Ã£ tháº£o luáº­n sau.

Suy luáº­n CoT vá»›i Thá»±c thi. ChÃºng tÃ´i táº­p trung vÃ o sá»­ dá»¥ng suy luáº­n chuá»—i suy nghÄ© (Wei et al., 2022b) Ä‘á»ƒ giáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh báº±ng cÃ¡ch suy luáº­n vá»›i thá»±c thi, trong Ä‘Ã³ má»™t LLM Ä‘Æ°á»£c nháº¯c táº¡o ra má»™t lÃ½ luáº­n NL Ë†ğ‘Ÿ cÃ¹ng vá»›i má»™t chÆ°Æ¡ng trÃ¬nh Ä‘Ã£ sá»­a Ë†ğ‘¦ nhÆ° trong HÃ¬nh 1. Cá»¥ thá»ƒ, chÃºng tÃ´i xem xÃ©t cÃ¡c lÃ½ luáº­n chá»©a cÃ¡c bÆ°á»›c suy luáº­n Ä‘á»ƒ xÃ¡c Ä‘á»‹nh vÃ  giáº£i thÃ­ch lá»—i trong mÃ£ gá»‘c (vÃ­ dá»¥: Ä‘oáº¡n thá»© hai trong Ë†ğ‘Ÿ, HÃ¬nh 1), cÅ©ng nhÆ° Ä‘á» xuáº¥t sá»­a mÃ£ lá»—i (vÃ­ dá»¥: "má»™t phiÃªn báº£n Ä‘Ã£ sá»­a sá»­ dá»¥ng re.findall()" trong Ë†ğ‘Ÿ). VÃ¬ cÃ¡c lÃ½ luáº­n Ä‘Æ°á»£c táº¡o báº±ng dáº¥u váº¿t, chÃºng thÆ°á»ng bao gá»“m suy luáº­n há»¯u Ã­ch vá» viá»‡c thá»±c thi chÆ°Æ¡ng trÃ¬nh giÃºp Ä‘á»‹nh vá»‹ lá»—i, cháº³ng háº¡n nhÆ° xÃ¡c Ä‘á»‹nh má»™t pháº£n thá»±c táº¿ giá»¯a cÃ¡c giÃ¡ trá»‹ biáº¿n mong Ä‘á»£i vÃ  thá»±c táº¿ cá»§a má»™t cÃ¢u lá»‡nh (vÃ­ dá»¥: "vÄƒn báº£n Ä‘Æ°á»£c tÃ´ sÃ¡ng" trong Ë†ğ‘Ÿ). Nhá»¯ng lá»i

3

--- TRANG 4 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£
Mixtral DeepSeek StarCoderTrung bÃ¬nh Benchmarks PhÆ°Æ¡ng phÃ¡p Prompting PaLM 2-L GPT-3.5 GPT-48x7B Coder 33B 15.5B
Vanilla w/ trace 27.5 41.8 62.6 16.1 23.9 13.3 30.9
+CoT 26.6 46.4 62.8 21.1 18.2 12.6 31.3 +0.4 Mbpp-R
+CoT;âˆ’trace 19.0 47.1 51.3 18.1 12.9 10.6 26.5âˆ’4.8
Vanilla w/ trace 59.1 70.1 88.4 32.9 57.3 29.3 56.2
+CoT 48.8 75.6 84.8 34.1 30.5 16.5 48.4âˆ’7.8 HeFix+
+CoT;âˆ’trace 43.3 72.0 82.9 25.6 22.6 18.3 44.1âˆ’4.3

Báº£ng 1|Äá»™ chÃ­nh xÃ¡c sá»­a chá»¯a vá»›i prompting Ã­t máº«u (3) sá»­ dá»¥ng giáº£i mÃ£ tham lam. Káº¿t quáº£ tá»‡ hÆ¡n hÃ ng trÆ°á»›c Ä‘Ã³ Ä‘Æ°á»£c gáº¡ch chÃ¢n mÃ u Ä‘á».

giáº£i thÃ­ch nhÆ° váº­y cÃ³ thá»ƒ há»¯u Ã­ch cho cÃ¡c nhÃ  phÃ¡t triá»ƒn Ä‘á»ƒ hiá»ƒu lá»—i trong mÃ£ gá»‘c vÃ  cÃ¡c giáº£i phÃ¡p sá»­a chá»¯a cá»§a mÃ´ hÃ¬nh (Kang et al., 2023). Do Ä‘Ã³ chÃºng tÃ´i nháº±m cáº£i thiá»‡n cháº¥t lÆ°á»£ng lÃ½ luáº­n NL cÃ¹ng vá»›i tá»· lá»‡ sá»­a chá»¯a báº±ng cÃ¡ch dáº¡y LLM suy luáº­n vá»›i thÃ´ng tin thá»±c thi.

Má»™t Äáº¡i diá»‡n Dáº¥u váº¿t ThÃ¢n thiá»‡n vá»›i LLM. Dáº¥u váº¿t thá»±c thi thÃ´ Ä‘Æ°á»£c thu tháº­p táº¡i thá»i gian cháº¡y chá»©a tráº¡ng thÃ¡i biáº¿n Ä‘áº§y Ä‘á»§ cho má»—i cÃ¢u lá»‡nh Ä‘Æ°á»£c thá»±c thi.2 MÃ£ hÃ³a táº¥t cáº£ thÃ´ng tin nhÆ° váº­y trong prompt khÃ´ng kháº£ thi do giá»›i háº¡n ngá»¯ cáº£nh vÃ  chi phÃ­ tÃ­nh toÃ¡n cá»§a LLM. Äá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y vÃ  lÃ m thÃ´ng tin thá»±c thi dá»… hiá»ƒu hÆ¡n cho LLM, chÃºng tÃ´i Ä‘á» xuáº¥t Ä‘á»‹nh dáº¡ng Ä‘áº¡i diá»‡n dáº¥u váº¿t ná»™i tuyáº¿n, mÃ£ hÃ³a tráº¡ng thÃ¡i biáº¿n nhÆ° cÃ¡c bÃ¬nh luáº­n ná»™i tuyáº¿n cá»§a chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c theo dÃµi. HÃ¬nh 2 cho tháº¥y má»™t vÃ­ dá»¥. Cá»¥ thá»ƒ, má»—i bÃ¬nh luáº­n ná»™i tuyáº¿n chá»‰ mÃ£ hÃ³a cÃ¡c biáº¿n Ä‘Ã£ thay Ä‘á»•i sau khi thá»±c thi dÃ²ng Ä‘Ã³. VÃ¬ cÃ¡c cÃ¢u lá»‡nh cÃ³ thá»ƒ Ä‘Æ°á»£c gá»i nhiá»u láº§n theo thá»© tá»± khÃ´ng rÃµ rÃ ng (vÃ­ dá»¥: trong vÃ²ng láº·p nhÆ° dÃ²ng 4 Ä‘áº¿n 8 trong HÃ¬nh 2), chÃºng tÃ´i láº­p chá»‰ má»¥c tráº¡ng thÃ¡i biáº¿n dá»±a trÃªn thá»© tá»± thá»±c thi (vÃ­ dá»¥: (3) n=1; vÃ  (4) even_list=[1]), vÃ  cÃ³ thá»ƒ tÃ¡i táº¡o dáº¥u chÃ¢n thá»±c thi gá»‘c báº±ng cÃ¡ch theo dÃµi nhá»¯ng tráº¡ng thÃ¡i biáº¿n Ä‘Ã³ theo thá»© tá»±. ChÃºng tÃ´i nÃ©n thÃªm thÃ´ng tin dáº¥u váº¿t cho vÃ²ng láº·p báº±ng cÃ¡ch bá» qua tráº¡ng thÃ¡i biáº¿n trong cÃ¡c láº§n láº·p trung gian (vÃ­ dá»¥: "..." trong dÃ²ng 4, 6, vÃ  8). Trá»±c quan, báº±ng cÃ¡ch hiá»ƒn thá»‹ tráº¡ng thÃ¡i nhÆ° cÃ¡c bÃ¬nh luáº­n giáº£ trong mÃ£ gá»‘c mÃ  khÃ´ng lÃ m giÃ¡n Ä‘oáº¡n cáº¥u trÃºc chÆ°Æ¡ng trÃ¬nh, Ä‘áº¡i diá»‡n dáº¥u váº¿t cá»§a chÃºng tÃ´i nhá» gá»n hÆ¡n Ä‘Ã¡ng ká»ƒ so vá»›i cÃ¡c phÆ°Æ¡ng phÃ¡p hiá»‡n cÃ³ má»Ÿ rá»™ng cÃ¡c dÃ²ng mÃ£ Ä‘Ã£ thá»±c thi vÃ  ghÃ©p chÃºng vá»›i tráº¡ng thÃ¡i biáº¿n tá»«ng dÃ²ng (c.f., Bouzenia et al., 2023; Nye et al., 2021),3 trong khi cho phÃ©p LLM táº­n dá»¥ng Ä‘áº¡i diá»‡n mÃ£ Ä‘Ã£ há»c Ä‘á»ƒ hiá»ƒu hiá»‡u á»©ng thá»±c thi bá»• sung cá»§a má»—i cÃ¢u lá»‡nh. Chi tiáº¿t triá»ƒn khai vá» xá»­ lÃ½ cáº¥u trÃºc Ä‘iá»u khiá»ƒn phá»©c táº¡p Ä‘Æ°á»£c tháº£o luáº­n trong Phá»¥ lá»¥c A.1.

3. NghiÃªn cá»©u SÆ¡ bá»™: LLM cÃ³ thá»ƒ suy luáº­n vá»›i dáº¥u váº¿t chÆ°Æ¡ng trÃ¬nh báº±ng ngÃ´n ngá»¯ tá»± nhiÃªn khÃ´ng?

TrÆ°á»›c khi giá»›i thiá»‡u NE xT, chÃºng tÃ´i Ä‘áº§u tiÃªn tiáº¿n hÃ nh má»™t nghiÃªn cá»©u sÆ¡ bá»™ Ä‘á»ƒ khÃ¡m phÃ¡ liá»‡u LLM cÃ³ thá»ƒ suy luáº­n vá»›i dáº¥u váº¿t thá»±c thi báº±ng ngÃ´n ngá»¯ tá»± nhiÃªn ngay láº­p tá»©c mÃ  khÃ´ng cáº§n huáº¥n luyá»‡n bá»• sung. Tráº£ lá»i cÃ¢u há»i nÃ y sáº½ thÃºc Ä‘áº©y phÆ°Æ¡ng phÃ¡p tinh chá»‰nh cá»§a chÃºng tÃ´i Ä‘á»ƒ cáº£i thiá»‡n ká»¹ nÄƒng suy luáº­n nhÆ° váº­y. Cá»¥ thá»ƒ, chÃºng tÃ´i theo Ä‘áº¡i diá»‡n dáº¥u váº¿t trong Â§2 vÃ  prompt Ã­t máº«u cho LLM giáº£i quyáº¿t cÃ¡c nhiá»‡m vá»¥ sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh sá»­ dá»¥ng suy luáº­n CoT.

MÃ´ hÃ¬nh. ChÃºng tÃ´i Ä‘Ã¡nh giÃ¡ cÃ¡c mÃ´ hÃ¬nh Ä‘a nÄƒng sau: PaLM2 (Anil et al., 2023), GPT (OpenAI, 2023)4, vÃ  Mixtral (Jiang et al., 2024). ChÃºng tÃ´i cÅ©ng kiá»ƒm tra hai LLM cá»¥ thá»ƒ cho mÃ£: StarCoder (Li et al., 2023) vÃ  DeepSeek Coder (Guo et al., 2024). Báº£ng 1 bÃ¡o cÃ¡o káº¿t quáº£ trÃªn hai bá»™ dá»¯ liá»‡u sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh Python (xem Â§5 Ä‘á»ƒ biáº¿t chi tiáº¿t).

2ChÃºng tÃ´i sá»­ dá»¥ng hook sys.settrace() trong Python.
3NhÆ° má»™t so sÃ¡nh, 95% vÃ­ dá»¥ trong benchmark Mbpp-R cá»§a chÃºng tÃ´i cÃ³ thá»ƒ vá»«a vÃ o cá»­a sá»• ngá»¯ cáº£nh 2K sá»­ dá»¥ng Ä‘áº¡i diá»‡n ná»™i tuyáº¿n cá»§a chÃºng tÃ´i, trong khi chá»‰ 60% trong sá»‘ chÃºng cÃ³ thá»ƒ vá»«a vÃ o cá»­a sá»• tÆ°Æ¡ng tá»± sá»­ dá»¥ng Ä‘á»‹nh dáº¡ng dáº¥u váº¿t Scratchpad trong Nye et al. (2021). Má»™t so sÃ¡nh chi tiáº¿t hÆ¡n Ä‘Æ°á»£c hiá»ƒn thá»‹ trong Báº£ng 7.
4ChÃºng tÃ´i sá»­ dá»¥ng gpt-3.5-turbo-1106 vÃ  gpt-4-1106-preview.
4

--- TRANG 5 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

LLM gáº·p khÃ³ khÄƒn trong suy luáº­n CoT vá»›i dáº¥u váº¿t. ChÃºng tÃ´i quan sÃ¡t káº¿t quáº£ trÃ¡i chiá»u khi so sÃ¡nh prompting vanilla vá»›i dáº¥u váº¿t mÃ  khÃ´ng cÃ³ CoT (Vanilla w/ trace trong Báº£ng 1) vÃ  prompting CoT vá»›i lÃ½ luáº­n (+CoT). ÄÃ¡ng ngáº¡c nhiÃªn, prompting CoT tháº­m chÃ­ tá»‡ hÆ¡n trÃªn HumanEvalFix-Plus, vá»›i má»©c giáº£m trung bÃ¬nh âˆ’7.8% so vá»›i prompting vanilla, Ä‘áº·c biá»‡t Ä‘á»‘i vá»›i LLM cá»¥ thá»ƒ cho mÃ£ (57.3â†¦â†’30.5 cho DeepSeek Coder vÃ  29.3â†¦â†’16.5 cho StarCoder). Sau khi kiá»ƒm tra cÃ¡c lÃ½ luáº­n Ä‘Æ°á»£c dá»± Ä‘oÃ¡n bá»Ÿi PaLM 2-L, chÃºng tÃ´i quan sÃ¡t ráº±ng mÃ´ hÃ¬nh chá»‹u cÃ¡c váº¥n Ä‘á» áº£o giÃ¡c máº¡nh, cháº³ng háº¡n nhÆ° Ä‘á» cáº­p Ä‘áº¿n ngoáº¡i lá»‡ khÃ´ng Ä‘Æ°á»£c pháº£n Ã¡nh trong dáº¥u váº¿t Ä‘Ã£ cho. Tháº­t váº­y, nhÆ° chÃºng tÃ´i sáº½ hiá»ƒn thá»‹ sau trong Â§5.2, tá»· lá»‡ chÃ­nh xÃ¡c tá»•ng thá»ƒ cá»§a viá»‡c giáº£i thÃ­ch lá»—i trong chÆ°Æ¡ng trÃ¬nh Ä‘áº§u vÃ o trong sá»‘ nhá»¯ng lÃ½ luáº­n Ä‘Æ°á»£c láº¥y máº«u tá»« PaLM 2-L chá»‰ khoáº£ng 30%. HÆ¡n ná»¯a, suy luáº­n CoT tháº­m chÃ­ thÃ¡ch thá»©c hÆ¡n Ä‘á»‘i vá»›i nhá»¯ng mÃ´ hÃ¬nh khi chÃºng tÃ´i loáº¡i bá» dáº¥u váº¿t thá»±c thi khá»i Ä‘áº§u vÃ o (+CoT;âˆ’trace), dáº«n Ä‘áº¿n má»©c giáº£m hiá»‡u suáº¥t trung bÃ¬nh 4.8% trÃªn Mbpp-R vÃ  4.3% trÃªn HumanEvalFix-Plus. Nhá»¯ng káº¿t quáº£ nÃ y cho tháº¥y ráº±ng trong khi Ä‘áº¡i diá»‡n dáº¥u váº¿t cá»§a chÃºng tÃ´i há»¯u Ã­ch cho LLM hiá»ƒu vÃ  táº­n dá»¥ng thÃ´ng tin thá»±c thi Ä‘á»ƒ sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh (vÃ¬ "âˆ’trace" dáº«n Ä‘áº¿n káº¿t quáº£ tá»‡ hÆ¡n), chÃºng váº«n cÃ³ thá»ƒ thiáº¿u sÃ³t trong suy luáº­n CoT sá»­ dá»¥ng ngÃ´n ngá»¯ tá»± nhiÃªn vá»›i nhá»¯ng dáº¥u váº¿t chÆ°Æ¡ng trÃ¬nh Ä‘Ã³. PhÃ¡t hiá»‡n nÃ y do Ä‘Ã³ thÃºc Ä‘áº©y chÃºng tÃ´i cáº£i thiá»‡n LLM trong suy luáº­n vá»›i thá»±c thi thÃ´ng qua tinh chá»‰nh, mÃ  chÃºng tÃ´i triá»ƒn khai trong Â§4.

4. NE xT: Äiá»u chá»‰nh Thá»±c thi Tá»± nhiÃªn

ChÃºng tÃ´i trÃ¬nh bÃ y NE xT, má»™t phÆ°Æ¡ng phÃ¡p tá»± huáº¥n luyá»‡n Ä‘á»ƒ tinh chá»‰nh LLM suy luáº­n vá»›i viá»‡c thá»±c thi chÆ°Æ¡ng trÃ¬nh sá»­ dá»¥ng lÃ½ luáº­n tá»•ng há»£p.

Tá»•ng quan vá» NE xT. HÃ¬nh 1 minh há»a NE xT, vá»›i thuáº­t toÃ¡n cá»§a nÃ³ Ä‘Æ°á»£c chi tiáº¿t trong Thuáº­t toÃ¡n 1. NE xT dá»±a trÃªn cÃ¡c phÆ°Æ¡ng phÃ¡p suy luáº­n tá»± huáº¥n luyá»‡n hiá»‡n cÃ³ (Uesato et al., 2022; Zelikman et al., 2022), sá»­ dá»¥ng láº·p chuyÃªn gia Ä‘á»ƒ cáº£i thiá»‡n LLM cÆ¡ sá»Ÿ báº±ng lÃ½ luáº­n tá»•ng há»£p Ä‘Æ°á»£c láº¥y máº«u tá»« mÃ´ hÃ¬nh. ÄÆ°á»£c cung cáº¥p má»™t táº­p huáº¥n luyá»‡n D cá»§a cÃ¡c nhiá»‡m vá»¥ sá»­a chá»¯a vá»›i dáº¥u váº¿t thá»±c thi, NE xT Ä‘áº§u tiÃªn láº¥y máº«u cÃ¡c lÃ½ luáº­n NL á»©ng viÃªn vÃ  giáº£i phÃ¡p mÃ£ Ä‘Ã£ sá»­a tá»« LLM. Nhá»¯ng giáº£i phÃ¡p á»©ng viÃªn Ä‘Æ°á»£c lá»c báº±ng cháº©n Ä‘oÃ¡n thá»±c thi kiá»ƒm tra Ä‘Æ¡n vá»‹, vÃ  nhá»¯ng giáº£i phÃ¡p vÆ°á»£t qua táº¥t cáº£ trÆ°á»ng há»£p kiá»ƒm tra sau Ä‘Ã³ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ cáº­p nháº­t mÃ´ hÃ¬nh thÃ´ng qua tinh chá»‰nh. VÃ²ng láº·p láº¥y máº«u-lá»c-huáº¥n luyá»‡n nÃ y Ä‘Æ°á»£c thá»±c hiá»‡n cho nhiá»u láº§n láº·p, cáº£i thiá»‡n lÃ½ luáº­n cá»§a mÃ´ hÃ¬nh vÃ  tá»· lá»‡ thÃ nh cÃ´ng sá»­a chá»¯a sau má»—i láº§n láº·p.

Láº¥y máº«u lÃ½ luáº­n vÃ  giáº£i phÃ¡p mÃ£. Äá»‘i vá»›i má»—i láº§n láº·p ğ‘–, chÃºng tÃ´i láº¥y máº«u lÃ½ luáº­n Ë†ğ‘Ÿ vÃ  sá»­a chá»¯a Ë†ğ‘¦ cÃ¹ng nhau tá»« mÃ´ hÃ¬nh hiá»‡n táº¡i ğ‘ƒğœƒ(ğ‘–) (DÃ²ng 5, Thuáº­t toÃ¡n 1). ChÃºng tÃ´i sá»­ dá»¥ng prompting Ã­t máº«u (Â§3) khi ğ‘–=0 vÃ  prompting zero-shot vá»›i cÃ¡c mÃ´ hÃ¬nh Ä‘Ã£ huáº¥n luyá»‡n cho cÃ¡c láº§n láº·p sau. TrÃ¡i ngÆ°á»£c vá»›i cÃ¡c phÆ°Æ¡ng phÃ¡p tá»± huáº¥n luyá»‡n hiá»‡n cÃ³ táº­n dá»¥ng táº¥t cáº£ cÃ¡c váº¥n Ä‘á» huáº¥n luyá»‡n, NE xT chá»‰ láº¥y máº«u giáº£i phÃ¡p á»©ng viÃªn tá»« táº­p con cÃ¡c váº¥n Ä‘á» trong D thÃ¡ch thá»©c Ä‘á»‘i vá»›i mÃ´ hÃ¬nh cÆ¡ sá»Ÿ ğ‘ƒğœƒ(0) Ä‘á»ƒ giáº£i quyáº¿t (DÃ²ng 1). Cá»¥ thá»ƒ, Ä‘Æ°á»£c cung cáº¥p má»™t metric M(Â·), chÃºng tÃ´i chá»‰ sá»­ dá»¥ng cÃ¡c váº¥n Ä‘á» ğ‘‘âˆˆD náº¿u metric cá»§a ğ‘ƒğœƒ(0) trÃªn ğ‘‘ dÆ°á»›i ngÆ°á»¡ng ğ‘š. Tham kháº£o Â§5 Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t vá» M(Â·) vÃ  ğ‘š cá»§a nhiá»‡m vá»¥ sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh cá»§a chÃºng tÃ´i. Táº­p trung vÃ o láº¥y máº«u giáº£i phÃ¡p tá»« nhá»¯ng váº¥n Ä‘á» khÃ³ khÃ´ng chá»‰ giáº£m Ä‘Ã¡ng ká»ƒ chi phÃ­ láº¥y máº«u, mÃ  cÃ²n cáº£i thiá»‡n Ä‘á»™ chÃ­nh xÃ¡c sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh, vÃ¬ nÃ³ giÃºp mÃ´ hÃ¬nh há»c cÃ¡ch giáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» thÃ¡ch thá»©c hÆ¡n. Xem Phá»¥ lá»¥c C Ä‘á»ƒ phÃ¢n tÃ­ch chi tiáº¿t hÆ¡n.

Lá»c giáº£i phÃ¡p á»©ng viÃªn. ÄÆ°á»£c cung cáº¥p má»™t táº­p á»©ng viÃªn cÃ¡c lÃ½ luáº­n NL Ä‘Æ°á»£c láº¥y máº«u vÃ  sá»­a chá»¯a mÃ£ cá»§a chÃºng, NE xT sá»­ dá»¥ng káº¿t quáº£ thá»±c thi kiá»ƒm tra Ä‘Æ¡n vá»‹ Ä‘á»ƒ xÃ¡c Ä‘á»‹nh lÃ½ luáº­n há»£p lÃ½ dáº«n Ä‘áº¿n sá»­a chá»¯a chÃ­nh xÃ¡c Ä‘á»ƒ há»c (DÃ²ng 6). Sá»­ dá»¥ng cháº©n Ä‘oÃ¡n thá»±c thi kiá»ƒm tra nhÆ° hÃ m thÆ°á»Ÿng nhá»‹ phÃ¢n lÃ  tá»± nhiÃªn Ä‘á»‘i vá»›i cÃ¡c nhiá»‡m vá»¥ sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh vÃ¬ má»—i váº¥n Ä‘á» sá»­a chá»¯a trong bá»™ dá»¯ liá»‡u cá»§a chÃºng tÃ´i Ä‘i kÃ¨m vá»›i kiá»ƒm tra Ä‘Æ¡n vá»‹ Ä‘á»ƒ kiá»ƒm tra tÃ­nh chÃ­nh xÃ¡c chá»©c nÄƒng cá»§a cÃ¡c sá»­a chá»¯a Ä‘Æ°á»£c Ä‘á» xuáº¥t (Ye et al., 2022). Trong khi chÃºng tÃ´i nháº­n xÃ©t ráº±ng tiÃªu chÃ­ lá»c nÃ y khÃ´ng trá»±c tiáº¿p xem xÃ©t cháº¥t lÆ°á»£ng lÃ½ luáº­n, chÃºng tÃ´i chá»©ng minh thá»±c nghiá»‡m trong Â§5 ráº±ng cháº¥t lÆ°á»£ng lÃ½ luáº­n cáº£i thiá»‡n khi há»c tiáº¿p tá»¥c.5

5Cháº¥t lÆ°á»£ng lÃ½ luáº­n vÃ  sá»­a chá»¯a cÃ³ thá»ƒ Ä‘áº¡t Ä‘á»‰nh á»Ÿ láº§n láº·p ğ‘– khÃ¡c nhau.
5

--- TRANG 6 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

Thuáº­t toÃ¡n 1 Äiá»u chá»‰nh Thá»±c thi Tá»± nhiÃªn (NE xT)
Äáº§u vÃ o: Táº­p huáº¥n luyá»‡n D={(ğ‘¥ğ‘—,Ëœğ‘¦ğ‘—,ğ‘‡ğ‘—,ğœ–ğ‘—)}|D|
ğ‘—=1(Â§2); Táº­p phÃ¡t triá»ƒn Dğ‘‘ğ‘’ğ‘£; LLM cÆ¡ sá»Ÿ ğ‘ƒğœƒ(0); Sá»‘ láº§n láº·p ğ¼; Executor E; Metric Ä‘Ã¡nh giÃ¡ M vÃ  ngÆ°á»¡ng ğ‘š
1:Dğ»â†{ğ‘‘|ğ‘‘âˆˆD,M(ğ‘ƒğœƒ(0),ğ‘‘)< ğ‘š}// XÃ¡c Ä‘á»‹nh cÃ¡c váº¥n Ä‘á» khÃ³ Dğ» vá»›i metric M(Â·)< ğ‘š
2:forğ‘–=0toğ¼do
3:B(ğ‘–)â†{}
4:for(ğ‘¥ğ‘—,Ëœğ‘¦ğ‘—,ğ‘‡ğ‘—,ğœ–ğ‘—)inDğ»do
5:ğ‘†(ğ‘–)
ğ‘—âˆ¼ğ‘ƒğœƒ(ğ‘–)(ğ‘Ÿ,ğ‘¦|ğ‘¥ğ‘—,Ëœğ‘¦ğ‘—,ğ‘‡ğ‘—,ğœ–ğ‘—)// Láº¥y máº«u lÃ½ luáº­n ğ‘Ÿ vÃ  sá»­a chá»¯a ğ‘¦ sá»­ dá»¥ng dáº¥u váº¿t ğœ–ğ‘—.
6:B(ğ‘–)â†B(ğ‘–)âˆª{(Ë†ğ‘Ÿ,Ë†ğ‘¦)|(Ë†ğ‘Ÿ,Ë†ğ‘¦)âˆˆğ‘†(ğ‘–)
ğ‘—,E(Ë†ğ‘¦,ğ‘‡ğ‘—)=1}// Lá»c vá»›i trÆ°á»ng há»£p kiá»ƒm tra ğ‘‡ğ‘— vÃ  thÃªm vÃ o B(ğ‘–).
7:end for
8:ğœƒ(ğ‘–+1)â†arg max ğœƒğ”¼B(ğ‘–)[ğ‘ƒğœƒ(Ë†ğ‘Ÿ,Ë†ğ‘¦|ğ‘¥,Ëœğ‘¦,ğ‘‡,ğœ–)]// Tinh chá»‰nh mÃ´ hÃ¬nh ğ‘ƒğœƒ(0) vá»›i dá»¯ liá»‡u trong B(ğ‘–).
9:end for
10:ğ‘–âˆ—â†arg max ğ‘–Ã
ğ‘‘âˆ¼Dğ‘‘ğ‘’ğ‘£M(ğ‘ƒğœƒ(ğ‘–),ğ‘‘)/|Dğ‘‘ğ‘’ğ‘£|// Chá»n checkpoint tá»‘t nháº¥t ğ‘–âˆ—
Äáº§u ra: mÃ´ hÃ¬nh ğ‘ƒğœƒ(ğ‘–âˆ—)

Huáº¥n luyá»‡n mÃ´ hÃ¬nh. Sau khi thu tháº­p má»™t táº­p cÃ¡c vÃ­ dá»¥ huáº¥n luyá»‡n B(ğ‘–), chÃºng tÃ´i tinh chá»‰nh mÃ´ hÃ¬nh Ä‘á»ƒ tá»‘i Ä‘a hÃ³a xÃ¡c suáº¥t táº¡o ra lÃ½ luáº­n má»¥c tiÃªu vÃ  sá»­a chá»¯a mÃ£ Ä‘Æ°á»£c cung cáº¥p Ä‘áº§u vÃ o nhiá»‡m vá»¥ (DÃ²ng 8). Theo Zelikman et al. (2022), chÃºng tÃ´i luÃ´n tinh chá»‰nh mÃ´ hÃ¬nh tá»« checkpoint ban Ä‘áº§u ğ‘ƒğœƒ(0) Ä‘á»ƒ trÃ¡nh over-fitting vá»›i cÃ¡c trÆ°á»ng há»£p Ä‘Æ°á»£c láº¥y máº«u tá»« cÃ¡c láº§n láº·p sá»›m cÃ³ thá»ƒ cháº¥t lÆ°á»£ng tháº¥p hÆ¡n.

Tháº£o luáº­n. NExT cÃ³ thá»ƒ Ä‘Æ°á»£c xem nhÆ° má»™t phiÃªn báº£n cá»¥ thá»ƒ cá»§a phÆ°Æ¡ng phÃ¡p khá»Ÿi táº¡o lÃ½ luáº­n Ä‘Æ°á»£c Ä‘á» xuáº¥t trong Zelikman et al. (2022) (Â§ 3.1), tá»•ng há»£p lÃ½ luáº­n tiá»m áº©n vá»›i cÃ¢u tráº£ lá»i chÃ­nh xÃ¡c cho cÃ¡c nhiá»‡m vá»¥ suy luáº­n toÃ¡n há»c vÃ  logic. Tuy nhiÃªn, NE xT táº­p trung vÃ o hiá»ƒu chÆ°Æ¡ng trÃ¬nh báº±ng cÃ¡ch suy luáº­n vá»›i dáº¥u váº¿t thá»±c thi, Ä‘iá»u quan trá»ng Ä‘á»ƒ giáº£i quyáº¿t cÃ¡c nhiá»‡m vá»¥ láº­p trÃ¬nh thÃ¡ch thá»©c Ä‘Ã²i há»i hiá»ƒu thÃ´ng tin thá»±c thi, cháº³ng háº¡n nhÆ° sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh (Â§5). BÃªn cáº¡nh Ä‘Ã³, NE xT mÃ´ hÃ¬nh cáº£ lÃ½ luáº­n vÃ  chÆ°Æ¡ng trÃ¬nh (sá»­a chá»¯a mÃ£) nhÆ° cÃ¡c biáº¿n tiá»m áº©n. Sá»­ dá»¥ng káº¿t quáº£ thá»±c thi kiá»ƒm tra Ä‘Æ¡n vá»‹ nhÆ° giÃ¡m sÃ¡t yáº¿u, NE xT cÃ³ thá»ƒ khÃ¡m phÃ¡ cÃ¡c chiáº¿n lÆ°á»£c cÃ³ thá»ƒ Ä‘á»ƒ suy luáº­n vá»›i thá»±c thi vÃ  khÃ¡m phÃ¡ lÃ½ luáº­n há»£p lÃ½ hÆ°á»›ng Ä‘áº¿n giáº£i quyáº¿t nhiá»‡m vá»¥ downstream cá»¥ thá»ƒ. NhÆ° chÃºng tÃ´i hiá»ƒn thá»‹ trong Phá»¥ lá»¥c D, lÃ½ luáº­n Ä‘Æ°á»£c táº¡o bá»Ÿi NExT sá»­ dá»¥ng nhiá»u máº«u suy luáº­n khÃ¡c nhau Ä‘á»ƒ Ä‘á»‹nh vá»‹ vÃ  giáº£i thÃ­ch lá»—i trong bá»™ dá»¯ liá»‡u sá»­a chá»¯a cá»§a chÃºng tÃ´i. Cuá»‘i cÃ¹ng, trong khi chÃºng tÃ´i Ã¡p dá»¥ng NE xT cho sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh, framework cá»§a chÃºng tÃ´i lÃ  tá»•ng quÃ¡t vÃ  cÃ³ thá»ƒ Ä‘Æ°á»£c má»Ÿ rá»™ng cho cÃ¡c nhiá»‡m vá»¥ láº­p trÃ¬nh khÃ¡c Ä‘Ã²i há»i suy luáº­n vá» thá»±c thi, cháº³ng háº¡n nhÆ° táº¡o mÃ£ vá»›i ngá»¯ cáº£nh thá»±c thi má»™t pháº§n (Yin et al., 2023) hoáº·c suy luáº­n káº¿t quáº£ thá»±c thi chÆ°Æ¡ng trÃ¬nh (Nye et al., 2021), mÃ  chÃºng tÃ´i Ä‘á»ƒ láº¡i nhÆ° cÃ´ng viá»‡c tÆ°Æ¡ng lai quan trá»ng.

5. ThÃ­ nghiá»‡m

MÃ´ hÃ¬nh. ChÃºng tÃ´i Ä‘Ã¡nh giÃ¡ NE xT sá»­ dá»¥ng PaLM 2-L (Unicorn) nhÆ° LLM cÆ¡ sá»Ÿ (Anil et al., 2023). API tinh chá»‰nh cá»§a nÃ³ cÃ³ thá»ƒ truy cáº­p cÃ´ng khai trÃªn ná»n táº£ng Google Cloud Vertex AI.

Bá»™ dá»¯ liá»‡u. ChÃºng tÃ´i sá»­ dá»¥ng hai benchmark sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh Python, Mbpp-R vÃ  HumanEvalFix-Plus (HeFix+ sau Ä‘Ã¢y). Mbpp-R lÃ  má»™t benchmark sá»­a chá»¯a má»›i mÃ  chÃºng tÃ´i táº¡o tá»« Mbpp (Austin et al., 2021), má»™t bá»™ dá»¯ liá»‡u táº¡o mÃ£ Python cáº¥p hÃ m phá»• biáº¿n. ChÃºng tÃ´i táº¡o Mbpp-R báº±ng cÃ¡ch thu tháº­p cÃ¡c giáº£i phÃ¡p mÃ£ khÃ´ng chÃ­nh xÃ¡c Ä‘Æ°á»£c táº¡o bá»Ÿi LLM cho cÃ¡c váº¥n Ä‘á» Mbpp, vá»›i tá»•ng cá»™ng 10,047 nhiá»‡m vá»¥ sá»­a chá»¯a Ä‘á»ƒ huáº¥n luyá»‡n vÃ  1,468 nhiá»‡m vá»¥ (tá»« má»™t táº­p cÃ¡c váº¥n Ä‘á» Mbpp riÃªng biá»‡t) trong phÃ¡t triá»ƒn Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ (Phá»¥ lá»¥c B.1). NgoÃ i Mbpp-R, chÃºng tÃ´i cÅ©ng Ä‘Ã¡nh giÃ¡ trÃªn HeFix+. HeFix+ Ä‘Æ°á»£c báº¯t nguá»“n tá»« HumanEvalFix (Muennighoff et al., 2023) bao gá»“m 164 chÆ°Æ¡ng trÃ¬nh lá»—i cho cÃ¡c váº¥n Ä‘á» trong bá»™ dá»¯ liá»‡u HumanEval (Chen et al., 2021a). ChÃºng tÃ´i má»Ÿ rá»™ng thÃªm HumanEvalFix vá»›i cÃ¡c bá»™ kiá»ƒm tra nghiÃªm ngáº·t hÆ¡n tá»« EvalPlus (Liu et al., 2023) Ä‘á»ƒ cÃ³ Ä‘Æ°á»£c HeFix+. Trong khi cáº£ bá»™ dá»¯ liá»‡u gá»‘c Mbpp vÃ  HumanEval Ä‘á»u cÃ³ tÃ­nh nÄƒng táº¡o mÃ£ thuáº­t toÃ¡n cáº¥p hÃ m
6

--- TRANG 7 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

Tá»· lá»‡ Sá»­a chá»¯a End-to-end ÄÃ¡nh giÃ¡ dá»±a Proxy (pass@ğ‘˜ trÃªn LM nhá» hÆ¡n)
MÃ´ hÃ¬nh pass@1 pass@5 pass@10 pass@25 pass@1pass@5pass@10 pass@25
GPT-4; 3-shot 63.2 75.1 78.5 82.7 44.8 66.5 72.5 77.8
GPT-3.5; 3-shot 42.9 65.0 70.7 76.7 26.6 48.8 57.0 66.4
PaLM 2-L; 3-shot 23.2 45.7 54.7 65.0 22.5 43.4 51.9 61.5
PaLM 2-L+NExT; 0-shot 49.3 +26.168.1+22.473.5+18.879.4+14.428.8+6.349.9+6.557.3+5.4 65.5+4.0

Báº£ng 2|Cáº£i tiáº¿n cá»§a NE xT trÃªn mÃ´ hÃ¬nh PaLM 2-L (chá»‰ sá»‘ dÆ°á»›i) trÃªn Mbpp-R. Káº¿t quáº£ GPT-3.5/4 Ä‘á»ƒ tham kháº£o.

9.710.011.911.512.612.318.213.521.117.546.429.862.844.826.623.250.528.6010203040506070
End-to-End Pass@1Proxy-based Pass@1Mistral-7BOctoCoder-15.5BStarCoder-15.5BDeepSeekCoder-33BMixtral-8x7BGPT-3.5GPT-4PaLM-2-LPaLM-2-L + NExT

HÃ¬nh 3|Káº¿t quáº£ giáº£i mÃ£ tham lam trÃªn Mbpp-R trÃªn PaLM 2-L+NExT vÃ  cÃ¡c LLM hiá»‡n cÃ³.

cÃ¡c váº¥n Ä‘á», váº¥n Ä‘á» tá»« hai bá»™ dá»¯ liá»‡u cÃ³ thá»ƒ váº«n khÃ¡c nhau vá» chá»§ Ä‘á», thuáº­t toÃ¡n hoáº·c cáº¥u trÃºc dá»¯ liá»‡u Ä‘Æ°á»£c sá»­ dá»¥ng. Do Ä‘Ã³, chÃºng tÃ´i sá»­ dá»¥ng HeFix+ Ä‘á»ƒ Ä‘o kháº£ nÄƒng tá»•ng quÃ¡t hÃ³a mÃ  khÃ´ng cáº§n tinh chá»‰nh thÃªm.

ÄÃ¡nh giÃ¡ Sá»­a chá»¯a MÃ£. ChÃºng tÃ´i sá»­ dá»¥ng pass@ğ‘˜ (Chen et al., 2021a; Kulal et al., 2019), Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a lÃ  pháº§n cá»§a cÃ¡c nhiá»‡m vá»¥ sá»­a chá»¯a Ä‘Æ°á»£c giáº£i quyáº¿t sá»­ dá»¥ng ğ‘˜ máº«u (ğ‘˜â‰¤25), Ä‘á»ƒ Ä‘o tÃ­nh chÃ­nh xÃ¡c chá»©c nÄƒng end-to-end cá»§a cÃ¡c chÆ°Æ¡ng trÃ¬nh Ä‘Ã£ sá»­a vá»›i kiá»ƒm tra.

ÄÃ¡nh giÃ¡ Cháº¥t lÆ°á»£ng LÃ½ luáº­n. TÃ¡ch biá»‡t cháº¥t lÆ°á»£ng lÃ½ luáº­n CoT trung gian vÃ  hiá»‡u suáº¥t nhiá»‡m vá»¥ downstream (sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh pass@ğ‘˜) lÃ  má»™t cÃ¢u há»i nghiÃªn cá»©u khÃ´ng táº§m thÆ°á»ng trong suy luáº­n LLM (Prasad et al., 2023), vá»›i háº§u háº¿t cÃ¡c cÃ´ng viá»‡c vá» cáº£i thiá»‡n suy luáº­n CoT váº«n leo Ä‘á»“i hÆ°á»›ng tá»›i hiá»‡u suáº¥t nhiá»‡m vá»¥ downstream mÃ  khÃ´ng Ä‘Ã¡nh giÃ¡ cháº¥t lÆ°á»£ng lÃ½ luáº­n trung gian (vÃ­ dá»¥: Lightman et al. (2023)). Äá»ƒ tÃ¡ch biá»‡t Ä‘Ã¡nh giÃ¡ cháº¥t lÆ°á»£ng lÃ½ luáº­n khá»i Ä‘á»™ chÃ­nh xÃ¡c sá»­a chá»¯a end-to-end, chÃºng tÃ´i Ä‘á» xuáº¥t má»™t metric Ä‘Ã¡nh giÃ¡ dá»±a proxy ngoáº¡i táº¡i cho lÃ½ luáº­n. Cá»¥ thá»ƒ, Ä‘Æ°á»£c cung cáº¥p má»™t lÃ½ luáº­n ğ‘Ÿ, chÃºng tÃ´i prompt má»™t LLM nhá» hÆ¡n Ä‘á»ƒ giáº£i quyáº¿t nhiá»‡m vá»¥ sá»­a chá»¯a gá»‘c cÃ³ Ä‘iá»u kiá»‡n trÃªn ğ‘Ÿ, vÃ  sá»­ dá»¥ng tÃ­nh chÃ­nh xÃ¡c cá»§a sá»­a chá»¯a mÃ£ Ä‘Æ°á»£c dá»± Ä‘oÃ¡n (sá»­ dá»¥ng giáº£i mÃ£ tham lam) Ä‘á»ƒ xáº¥p xá»‰ cháº¥t lÆ°á»£ng cá»§a ğ‘Ÿ. Trá»±c quan, LLM nhá» hÆ¡n sáº½ dá»±a nhiá»u hÆ¡n vÃ o thÃ´ng tin tá»« lÃ½ luáº­n vÃ  cÃ³ thá»ƒ nháº¡y cáº£m hÆ¡n vá»›i lá»—i cá»§a nÃ³. Do Ä‘Ã³, hiá»‡u suáº¥t cá»§a chÃºng cÃ³ thá»ƒ lÃ  chá»‰ bÃ¡o tá»‘t hÆ¡n vá» cháº¥t lÆ°á»£ng lÃ½ luáº­n. ChÃºng tÃ´i bÃ¡o cÃ¡o Ä‘iá»ƒm trung bÃ¬nh trÃªn hai biáº¿n thá»ƒ PaLM 2 cho Ä‘Ã¡nh giÃ¡ dá»±a proxy: 1) má»™t mÃ´ hÃ¬nh ngÃ´n ngá»¯ Ä‘a nÄƒng nhá» hÆ¡n PaLM 2-S; vÃ  2) PaLM 2-Sâˆ— chuyÃªn vá» láº­p trÃ¬nh (Anil et al., 2023). LÆ°u Ã½ ráº±ng trong khi chÃºng tÃ´i chá»§ yáº¿u sá»­ dá»¥ng metric dá»±a proxy Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ lÃ½ luáº­n, chÃºng tÃ´i cÅ©ng thá»±c hiá»‡n Ä‘Ã¡nh giÃ¡ con ngÆ°á»i vá» cháº¥t lÆ°á»£ng lÃ½ luáº­n (Â§5.2), vá»›i káº¿t quáº£ phÃ¹ há»£p vá»›i Ä‘Ã¡nh giÃ¡ dá»±a proxy cá»§a chÃºng tÃ´i.

SiÃªu tham sá»‘. ChÃºng tÃ´i thá»±c hiá»‡n láº¥y máº«u nhiá»‡t Ä‘á»™ (ğ‘‡=0.8) vá»›i kÃ­ch thÆ°á»›c máº«u 32 cho huáº¥n luyá»‡n (|ğ‘†ğ‘—|=32 trong Thuáº­t toÃ¡n 1) vÃ  Ä‘Ã¡nh giÃ¡ pass@ğ‘˜. Trong láº§n láº·p Ä‘áº§u tiÃªn trong Thuáº­t toÃ¡n 1, chÃºng tÃ´i sá»­ dá»¥ng pass@1 Ä‘Æ°á»£c Æ°á»›c tÃ­nh vá»›i 32 máº«u nÃ y lÃ m metric lá»c M(Â·) Ä‘á»ƒ tÃ¬m cÃ¡c váº¥n Ä‘á» thÃ¡ch thá»©c cÃ³ M(Â·)â‰¤ 10% Ä‘á»ƒ huáº¥n luyá»‡n. ChÃºng tÃ´i thá»±c hiá»‡n 10 láº§n láº·p huáº¥n luyá»‡n NE xT vÃ  chá»n mÃ´ hÃ¬nh tá»‘t nháº¥t sá»­ dá»¥ng pass@1 trÃªn táº­p phÃ¡t triá»ƒn.

7

--- TRANG 8 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

102030405060708090100
02468405060708090100
02468Train -Pass@1Dev -Pass@10102030405060
024684050607080
02468End-to-end:Proxy-based:
Train -Pass@10Dev -Pass@1

HÃ¬nh 4|CÃ¡c ablation vá» loáº¡i bá» lÃ½ luáº­n vÃ /hoáº·c dáº¥u váº¿t trong quÃ¡ trÃ¬nh huáº¥n luyá»‡n láº·p cá»§a NE xT. LÆ°u Ã½ ráº±ng cÃ¡c giÃ¡ trá»‹ min/max khÃ¡c nhau Ä‘Æ°á»£c láº¥y cho trá»¥c ğ‘¦ Ä‘á»ƒ lÃ m rÃµ giá»¯a cÃ¡c Ä‘Æ°á»ng cong khÃ¡c nhau nhÆ°ng khoáº£ng cÃ¡ch Ä‘Æ°á»ng lÆ°á»›i nháº¥t quÃ¡n Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ so sÃ¡nh dá»… dÃ ng hÆ¡n.

5.1. Káº¿t quáº£ ChÃ­nh

Trong cÃ¡c thÃ­ nghiá»‡m cá»§a chÃºng tÃ´i, chÃºng tÃ´i so sÃ¡nh mÃ´ hÃ¬nh cá»§a chÃºng tÃ´i vá»›i cÃ¡c LLM máº¡nh (Ä‘Æ°á»£c sá»­ dá»¥ng trong Â§3), phÃ¢n tÃ­ch tÃ¡c Ä‘á»™ng cá»§a lÃ½ luáº­n vÃ  dáº¥u váº¿t chÆ°Æ¡ng trÃ¬nh, vÃ  thá»±c hiá»‡n cÃ¡c thÃ­ nghiá»‡m tá»•ng quÃ¡t hÃ³a trÃªn HeFix+ vÃ  Ä‘Ã¡nh giÃ¡ con ngÆ°á»i vá» cháº¥t lÆ°á»£ng lÃ½ luáº­n.

NExT cáº£i thiá»‡n tá»· lá»‡ sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh. ChÃºng tÃ´i Ä‘áº§u tiÃªn so sÃ¡nh hiá»‡u suáº¥t sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh end-to-end cá»§a PaLM 2-L trÆ°á»›c vÃ  sau huáº¥n luyá»‡n NE xT (PaLM 2-L+NExT) trong Báº£ng 2 (TrÃ¡i). NE xT dáº«n Ä‘áº¿n cáº£i thiá»‡n Ä‘Ã¡ng ká»ƒ vá» tá»· lá»‡ sá»­a chá»¯a end-to-end trÃªn toÃ n bá»™, vá»›i cáº£i thiá»‡n tuyá»‡t Ä‘á»‘i 26.1% trÃªn pass@1. ThÃº vá»‹ lÃ , má»©c tÄƒng trÃªn pass@ğ‘˜ thÆ°á»ng cao hÆ¡n Ä‘á»‘i vá»›i ğ‘˜ nhá» hÆ¡n. Äiá»u nÃ y cÃ³ thá»ƒ cho tháº¥y ráº±ng mÃ´ hÃ¬nh trá»Ÿ nÃªn tá»± tin hÆ¡n vá» sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh sau huáº¥n luyá»‡n NE xT, trong khi tÃ­nh Ä‘a dáº¡ng máº«u cÅ©ng cáº£i thiá»‡n, nhÆ° Ä‘Æ°á»£c chá»‰ ra bá»Ÿi pass@25 Ä‘Æ°á»£c cáº£i thiá»‡n. Äá»ƒ tham kháº£o, chÃºng tÃ´i cÅ©ng bao gá»“m káº¿t quáº£ tá»« cÃ¡c mÃ´ hÃ¬nh GPT. ÄÃ¡ng chÃº Ã½, PaLM 2-L +NExT vÆ°á»£t trá»™i GPT-3.5 trÃªn táº¥t cáº£ metric pass@ğ‘˜.

NExT cáº£i thiá»‡n cháº¥t lÆ°á»£ng lÃ½ luáº­n. Báº£ng 2 (Pháº£i) hiá»ƒn thá»‹ cáº£i thiá»‡n cá»§a PaLM 2-L +NExT trÃªn Ä‘Ã¡nh giÃ¡ dá»±a proxy cá»§a chÃºng tÃ´i, nÆ¡i chÃºng tÃ´i xáº¥p xá»‰ cháº¥t lÆ°á»£ng lÃ½ luáº­n sá»­ dá»¥ng hiá»‡u suáº¥t cá»§a LM nhá» hÆ¡n khi cÃ³ Ä‘iá»u kiá»‡n trÃªn nhá»¯ng lÃ½ luáº­n Ä‘Ã³. Má»™t láº§n ná»¯a, NE xT mang láº¡i cáº£i thiá»‡n nháº¥t quÃ¡n trÃªn táº¥t cáº£ metric pass@ğ‘˜. Äiá»u nÃ y cho tháº¥y ráº±ng NE xT cáº£i thiá»‡n ká»¹ nÄƒng suy luáº­n cá»§a PaLM 2-L vá»›i thá»±c thi Ä‘á»ƒ giáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» Mbpp-R, dáº«n Ä‘áº¿n lÃ½ luáº­n há»¯u Ã­ch hÆ¡n cho LM nhá» hÆ¡n. Trong Phá»¥ lá»¥c D, chÃºng tÃ´i trÃ¬nh bÃ y má»™t nghiÃªn cá»©u trÆ°á»ng há»£p Ä‘á»ƒ chá»©ng minh cÃ¡c chiáº¿n lÆ°á»£c suy luáº­n khÃ¡c nhau mÃ  PaLM 2-L +NExT Ã¡p dá»¥ng Ä‘á»ƒ sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh sá»­ dá»¥ng thÃ´ng tin thá»±c thi. NhÆ° chÃºng tÃ´i sáº½ hiá»ƒn thá»‹ sau trong Â§5.2, metric dá»±a proxy cá»§a chÃºng tÃ´i cÅ©ng nháº¥t quÃ¡n vá»›i Ä‘Ã¡nh giÃ¡ con ngÆ°á»i, vÃ  lÃ½ luáº­n tá»« PaLM 2-L +NExT Ä‘Æ°á»£c ngÆ°á»i chÃº thÃ­ch Æ°a thÃ­ch máº¡nh so vá»›i nhá»¯ng lÃ½ luáº­n tá»« PaLM 2-L.

PaLM 2-L+NExT vÆ°á»£t trá»™i cÃ¡c LLM máº¡nh. ChÃºng tÃ´i so sÃ¡nh PaLM 2-L +NExT vá»›i má»™t loáº¡t LLM máº¡nh tá»« nghiÃªn cá»©u sÆ¡ bá»™ (Â§3) trong HÃ¬nh 3. PaLM 2-L +NExT vÆ°á»£t trá»™i cÃ¡c LLM mÃ£ nguá»“n má»Ÿ máº¡nh tá»‘i thiá»ƒu 29.4% vÃ  11.1% trÃªn káº¿t quáº£ pass@1 end-to-end vÃ  dá»±a proxy tÆ°Æ¡ng á»©ng, trong khi ngang báº±ng vá»›i GPT-3.5. Nhá»¯ng káº¿t quáº£ nÃ y cho tháº¥y ráº±ng PaLM 2-L +NExT lÃ  má»™t mÃ´ hÃ¬nh cáº¡nh tranh trong sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh báº±ng cÃ¡ch suy luáº­n vá»›i thá»±c thi.

Há»c suy luáº­n báº±ng ngÃ´n ngá»¯ tá»± nhiÃªn cáº£i thiá»‡n tá»•ng quÃ¡t hÃ³a vÃ  tÃ­nh Ä‘a dáº¡ng máº«u. Äá»ƒ chá»©ng minh thÃªm táº§m quan trá»ng cá»§a viá»‡c sá»­ dá»¥ng suy luáº­n CoT trong tá»± huáº¥n luyá»‡n NE xT, chÃºng tÃ´i so sÃ¡nh PaLM 2-L+NExT vá»›i má»™t mÃ´ hÃ¬nh sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh tá»± huáº¥n luyá»‡n máº¡nh Ä‘Æ°á»£c triá»ƒn khai trong NE xT, táº¡o ra sá»­a chá»¯a mÃ£ trá»±c tiáº¿p sá»­ dá»¥ng thÃ´ng tin thá»±c thi thá»i gian cháº¡y mÃ  khÃ´ng cÃ³ suy luáº­n CoT. Ablation nÃ y giá»‘ng SelfAPR (Ye et al., 2022), cÅ©ng Ã¡p dá»¥ng tá»± huáº¥n luyá»‡n Ä‘á»ƒ tá»•ng há»£p dá»¯ liá»‡u láº·p sá»­ dá»¥ng cháº©n Ä‘oÃ¡n kiá»ƒm tra Ä‘Æ¡n vá»‹, trong khi ablation cá»§a chÃºng tÃ´i sá»­ dá»¥ng dáº¥u váº¿t vá»›i thÃ´ng tin thá»±c thi phong phÃº hÆ¡n. HÃ¬nh 4 hiá»ƒn thá»‹ hiá»‡u suáº¥t mÃ´ hÃ¬nh w.r.t. cÃ¡c láº§n láº·p huáº¥n luyá»‡n NE xT. Khi Ä‘Æ°á»£c huáº¥n luyá»‡n mÃ  khÃ´ng cÃ³ suy luáº­n CoT (NExT
8

--- TRANG 9 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

Kiá»ƒm tra w/ Dáº¥u váº¿t Kiá»ƒm tra w/o Dáº¥u váº¿t
PhÆ°Æ¡ng phÃ¡p E2E Proxy E2E Proxy
PaLM 2-L 23.2 22.5 19.0 14.8
+NExT (w/ trace) 49.3 +26.128.8+6.340.8+21.819.5+4.7
+NExT w/o traceâˆ’ âˆ’ 44.1+25.123.9+9.1

Báº£ng 3|PaLM 2-L+NExT Ä‘Æ°á»£c huáº¥n luyá»‡n vá»›i dáº¥u váº¿t vÆ°á»£t trá»™i PaLM 2-L khi dáº¥u váº¿t khÃ´ng cÃ³ táº¡i thá»i gian kiá»ƒm tra nhÆ° hiá»ƒn thá»‹ trong káº¿t quáº£ Ä‘Æ°á»£c tÃ´ sÃ¡ng. Káº¿t quáº£ trÃªn Mbpp-R; Kiá»ƒm tra w/ Dáº¥u váº¿t: káº¿t quáº£ tá»« Báº£ng 2.

w/o rationale), PaLM 2-L há»™i tá»¥ nhanh hÆ¡n nhiá»u trÃªn táº­p huáº¥n luyá»‡n, Ä‘iá»u nÃ y khÃ´ng Ä‘Ã¡ng ngáº¡c nhiÃªn vÃ¬ mÃ´ hÃ¬nh chá»‰ há»c táº¡o sá»­a chá»¯a mÃ£ mÃ  khÃ´ng cÃ³ nhiá»‡m vá»¥ suy luáº­n bá»• sung nhÆ° giáº£i thÃ­ch lá»—i báº±ng NL. Tuy nhiÃªn, trÃªn táº­p Dev, PaLM 2-L+NExT váº«n vÆ°á»£t trá»™i baseline nÃ y trong pass@10 vá»›i Ä‘á»™ chÃ­nh xÃ¡c pass@1 tÆ°Æ¡ng Ä‘Æ°Æ¡ng, vÃ  khoáº£ng cÃ¡ch trÃªn pass@10 trá»Ÿ nÃªn lá»›n hÆ¡n vá»›i nhiá»u láº§n láº·p hÆ¡n. Äiá»u nÃ y cho tháº¥y ráº±ng báº±ng cÃ¡ch suy luáº­n báº±ng ngÃ´n ngá»¯ tá»± nhiÃªn, PaLM 2-L +NExT tá»•ng quÃ¡t hÃ³a tá»‘t hÆ¡n nhiá»u cho cÃ¡c váº¥n Ä‘á» Mbpp-R chÆ°a tháº¥y vá»›i tÃ­nh Ä‘a dáº¡ng máº«u lá»›n hÆ¡n. Trong HÃ¬nh 6 cá»§a Phá»¥ lá»¥c C, chÃºng tÃ´i cÅ©ng hiá»ƒn thá»‹ ráº±ng má»©c tÄƒng tá»« PaLM 2-L+NExT so vá»›i ablation nÃ y trÃªn pass@ğ‘˜ tháº­m chÃ­ rÃµ rá»‡t hÆ¡n Ä‘á»‘i vá»›i ğ‘˜ >10 lá»›n hÆ¡n, cho tháº¥y ráº±ng há»c suy luáº­n trong lÃ½ luáº­n CoT cáº£i thiá»‡n tÃ­nh Ä‘a dáº¡ng máº«u trong sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh, tÆ°Æ¡ng tá»± nhÆ° cÃ¡c phÃ¡t hiá»‡n trÃªn cÃ¡c nhiá»‡m vá»¥ táº¡o mÃ£ khÃ¡c (Yin et al., 2023).

Suy luáº­n vá»›i dáº¥u váº¿t thá»±c thi lÃ  quan trá»ng. Äá»ƒ hiá»ƒu táº§m quan trá»ng cá»§a viá»‡c táº­n dá»¥ng dáº¥u váº¿t chÆ°Æ¡ng trÃ¬nh Ä‘á»ƒ suy luáº­n vá»›i thá»±c thi, chÃºng tÃ´i so sÃ¡nh vá»›i má»™t ablation cá»§a NE xT mÃ  khÃ´ng sá»­ dá»¥ng dáº¥u váº¿t chÆ°Æ¡ng trÃ¬nh, theo cÃ¹ng quy trÃ¬nh trong Thuáº­t toÃ¡n 1 ngoáº¡i trá»« viá»‡c dáº¥u váº¿t ğœ– khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ táº¡o lÃ½ luáº­n trong DÃ²ng 5 (NExT w/o traces, HÃ¬nh 4). Biáº¿n thá»ƒ nÃ y cÅ©ng cÃ³ thá»ƒ Ä‘Æ°á»£c xem nhÆ° má»™t á»©ng dá»¥ng trá»±c tiáº¿p cá»§a phÆ°Æ¡ng phÃ¡p khá»Ÿi táº¡o táº¡o lÃ½ luáº­n trong Zelikman et al. (2022), huáº¥n luyá»‡n má»™t mÃ´ hÃ¬nh trÃªn lÃ½ luáº­n Ä‘Æ°á»£c láº¥y máº«u dáº«n Ä‘áº¿n giáº£i phÃ¡p nhiá»‡m vá»¥ chÃ­nh xÃ¡c mÃ  khÃ´ng dá»±a vÃ o thÃ´ng tin thá»±c thi bá»• sung. KhÃ´ng cÃ³ dáº¥u váº¿t, PaLM 2-L luÃ´n tá»‡ hÆ¡n PaLM 2-L +NExT trÃªn táº­p Dev qua cÃ¡c láº§n láº·p, cáº£ vá» tá»· lá»‡ sá»­a chá»¯a end-to-end vÃ  metric dá»±a proxy. Äiá»u nÃ y cho tháº¥y ráº±ng suy luáº­n vá»›i thÃ´ng tin thá»±c thi lÃ  quan trá»ng Ä‘á»‘i vá»›i PaLM 2-L trong cÃ¡c nhiá»‡m vá»¥ sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh. ThÃº vá»‹ lÃ , trong khi khoáº£ng cÃ¡ch trÃªn táº­p phÃ¡t triá»ƒn lÃ  Ä‘Ã¡ng ká»ƒ, hai mÃ´ hÃ¬nh Ä‘áº¡t Ä‘iá»ƒm tÆ°Æ¡ng tá»± trÃªn táº­p huáº¥n luyá»‡n, cho tháº¥y ráº±ng suy luáº­n vá»›i dáº¥u váº¿t thá»±c thi cÃ³ sáºµn cÅ©ng giÃºp mÃ´ hÃ¬nh tá»•ng quÃ¡t hÃ³a tá»‘t hÆ¡n cho cÃ¡c nhiá»‡m vá»¥ chÆ°a tháº¥y táº¡i thá»i gian kiá»ƒm tra.

MÃ´ hÃ¬nh cá»§a chÃºng tÃ´i hoáº¡t Ä‘á»™ng mÃ  khÃ´ng cÃ³ dáº¥u váº¿t táº¡i thá»i gian kiá»ƒm tra. Trong khi dáº¥u váº¿t chÆ°Æ¡ng trÃ¬nh quan trá»ng Ä‘á»ƒ suy luáº­n vá»›i thá»±c thi, thÃ´ng tin thá»±c thi nhÆ° váº­y cÃ³ thá»ƒ khÃ´ng luÃ´n cÃ³ sáºµn táº¡i thá»i gian kiá»ƒm tra (vÃ­ dá»¥: khi thá»±c thi cá»±c ká»³ tá»‘n kÃ©m). Äá»ƒ kiá»ƒm tra cÄƒng tháº³ng PaLM 2-L +NExT trong cÃ¡c tÃ¬nh huá»‘ng mÃ  thÃ´ng tin thá»±c thi khÃ´ng cÃ³, chÃºng tÃ´i loáº¡i bá» dáº¥u váº¿t thá»±c thi khá»i Ä‘áº§u vÃ o cá»§a nÃ³ táº¡i thá»i gian kiá»ƒm tra trong Báº£ng 3. PaLM 2-L+NExT váº«n mang láº¡i tá»· lá»‡ sá»­a chá»¯a end-to-end 40.8%, lÃ  cáº£i thiá»‡n 21.8% so vá»›i baseline PaLM 2-L 3-shot vÃ  chá»‰ tháº¥p hÆ¡n 3.3% so vá»›i NE xT Ä‘Æ°á»£c huáº¥n luyá»‡n mÃ  khÃ´ng cÃ³ dáº¥u váº¿t, Ä‘Æ°á»£c kiá»ƒm tra trong phÃ¢n phá»‘i. Káº¿t quáº£ tá»« Ä‘Ã¡nh giÃ¡ dá»±a proxy cá»§a lÃ½ luáº­n cÅ©ng nháº¥t quÃ¡n vá»›i tá»· lá»‡ sá»­a chá»¯a.

MÃ´ hÃ¬nh cá»§a chÃºng tÃ´i tá»•ng quÃ¡t hÃ³a cho HeFix+ táº¡i thá»i gian kiá»ƒm tra. Äá»ƒ Ä‘Ã¡nh giÃ¡ thÃªm kháº£ nÄƒng tá»•ng quÃ¡t hÃ³a cá»§a PaLM 2-L +NExT, chÃºng tÃ´i kiá»ƒm tra mÃ´ hÃ¬nh cá»§a chÃºng tÃ´i (Ä‘Æ°á»£c huáº¥n luyá»‡n trÃªn Mbpp-R) trÃªn HeFix+. Báº£ng 4 tÃ³m táº¯t káº¿t quáº£. NE xT Ä‘áº¡t tá»•ng quÃ¡t hÃ³a há»£p lÃ½ trÃªn HeFix+, vÆ°á»£t trá»™i mÃ´ hÃ¬nh PaLM 2-L cÆ¡ sá»Ÿ vá»›i biÃªn Ä‘á»™ lá»›n (tá»©c lÃ  14.3% trÃªn tá»· lá»‡ sá»­a chá»¯a end-to-end vÃ  6.0% trÃªn Ä‘Ã¡nh giÃ¡ proxy). PhÃ¹ há»£p vá»›i cÃ¡c phÃ¡t hiá»‡n trÆ°á»›c Ä‘Ã³ cá»§a chÃºng tÃ´i trÃªn Mbpp-R trong HÃ¬nh 4, suy luáº­n vá»›i dáº¥u váº¿t thá»±c thi (c.f. w/o traces) cáº£i thiá»‡n tá»· lá»‡ sá»­a chá»¯a vÃ  cháº¥t lÆ°á»£ng lÃ½ luáº­n. HÆ¡n ná»¯a, chÃºng tÃ´i nháº­n xÃ©t ráº±ng vá»›i há»c láº·p, PaLM 2-L+NExT ngang báº±ng vá»›i phÆ°Æ¡ng phÃ¡p sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh máº¡nh mÃ  khÃ´ng cÃ³ suy luáº­n CoT (w/o rationale), tÆ°Æ¡ng tá»± nhÆ° káº¿t quáº£ trÃªn Mbpp-R. Äiá»u nÃ y trÃ¡i ngÆ°á»£c vá»›i nghiÃªn cá»©u sÆ¡ bá»™ cá»§a chÃºng tÃ´i trong Â§3, nÆ¡i PaLM2-L vá»›i prompting CoT tá»‡ hÆ¡n nhiá»u so vá»›i prompting vanilla mÃ  khÃ´ng sá»­ dá»¥ng lÃ½ luáº­n. NhÃ¬n chung, nhá»¯ng káº¿t quáº£ nÃ y chá»‰ ra ráº±ng PaLM 2-L +NExT cÃ³ thá»ƒ tá»•ng quÃ¡t hÃ³a máº¡nh máº½ cho cÃ¡c nhiá»‡m vá»¥ sá»­a chá»¯a ngoÃ i phÃ¢n phá»‘i
9

--- TRANG 10 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

MÃ´ hÃ¬nh /pass@1 End-to-End Proxy-based
Baseline w/ 3-shot prompting
Mistral-7Bâˆ—12.8 16.5
OctoCoder-15.5Bâˆ—17.7 17.7
StarCoder-15.5Bâˆ—14.6 13.1
DeepSeekCoder-33Bâˆ—28.0 18.3
Mixtral-8x7Bâˆ—32.3 30.8
GPT-4 77.6 56.6
GPT-3.5 59.4 41.8
PaLM-2-L 32.2 31.9
PaLM-2-L w/o tracingâ€ 30.3 30.4
PaLM 2-L+NExT 42.5+10.338.0+6.1
w/o tracingâ€ 38.1+7.830.6+0.2
w/o rationale 44.5 +12.3âˆ’
w/o tracing + rationaleâ€ 31.4+1.1âˆ’

Báº£ng 4|Káº¿t quáº£ tá»•ng quÃ¡t hÃ³a trÃªn HeFix+. CÃ¡c mÃ´ hÃ¬nh PaLM 2-L+NExT chá»‰ Ä‘Æ°á»£c huáº¥n luyá»‡n vá»›i Mbpp-R. âˆ—thu Ä‘Æ°á»£c báº±ng giáº£i mÃ£ tham lam; â€ khÃ´ng cÃ³ dáº¥u váº¿t Ä‘Æ°á»£c cung cáº¥p táº¡i thá»i gian kiá»ƒm tra.

Giáº£i thÃ­ch lá»—i? Äá» xuáº¥t sá»­a chá»¯a?
Tá»•ng thá»ƒ Tá»‘t nháº¥t?
GPT-3.5 43 2635 44 1644 51.9% 34.6%
PaLM 2-L 27 2453 31 568 34.9% 6.7%
+NExT 48 2432 42 656 50.5% 32.7%

Báº£ng 5|Káº¿t quáº£ chÃº thÃ­ch con ngÆ°á»i vá» cháº¥t lÆ°á»£ng lÃ½ luáº­n. CÃ¡c mÃ´ hÃ¬nh cÆ¡ sá»Ÿ sá»­ dá»¥ng prompting 3-shot. Sá»‘ dÆ°á»›i cÃ¢u há»i lÃ  sá»‘ lÆ°á»£ng Ä‘Ã¡nh giÃ¡.

mÃ  khÃ´ng cáº§n tinh chá»‰nh cá»¥ thá»ƒ cho bá»™ dá»¯ liá»‡u bá»• sung.

5.2. ÄÃ¡nh giÃ¡ Con ngÆ°á»i vá» Cháº¥t lÆ°á»£ng LÃ½ luáº­n

ÄÃ¡nh giÃ¡ dá»±a proxy cá»§a chÃºng tÃ´i gá»£i Ã½ giÃ¡ trá»‹ ngoáº¡i táº¡i cá»§a lÃ½ luáº­n CoT tá»« PaLM 2-L +NExT. ChÃºng tÃ´i tiáº¿n hÃ nh thÃªm Ä‘Ã¡nh giÃ¡ ná»™i táº¡i báº±ng cÃ¡ch Ä‘Ã¡nh giÃ¡ thá»§ cÃ´ng cháº¥t lÆ°á»£ng lÃ½ luáº­n Ä‘Æ°á»£c dá»± Ä‘oÃ¡n bá»Ÿi mÃ´ hÃ¬nh trÃªn 104 nhiá»‡m vá»¥ sá»­a chá»¯a Mbpp-R Ä‘Æ°á»£c láº¥y máº«u tá»« táº­p Dev. Cá»¥ thá»ƒ, chÃºng tÃ´i yÃªu cáº§u ngÆ°á»i Ä‘Ã¡nh giÃ¡ Ä‘Ã¡nh giÃ¡ cháº¥t lÆ°á»£ng lÃ½ luáº­n Ä‘Æ°á»£c táº¡o bá»Ÿi ba mÃ´ hÃ¬nh (PaLM 2-L +NExT, PaLM 2-L vÃ  GPT-3.5) trong má»™t thiáº¿t láº­p side-by-side ba chiá»u. Má»—i lÃ½ luáº­n Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡ theo hai khÃ­a cáº¡nh: (1) tÃ­nh há»¯u Ã­ch trong viá»‡c giáº£i thÃ­ch lá»—i (ğ‘„1, vÃ­ dá»¥: hai Ä‘oáº¡n Ä‘áº§u trong Ë†ğ‘Ÿ, HÃ¬nh 1), vÃ  (2) tÃ­nh há»¯u Ã­ch trong viá»‡c Ä‘á» xuáº¥t sá»­a chá»¯a mÃ£ (ğ‘„2, vÃ­ dá»¥: "má»™t phiÃªn báº£n Ä‘Ã£ sá»­a sá»­ dá»¥ng ..." trong Ë†ğ‘Ÿ). Má»—i cÃ¢u há»i cÃ³ cÃ¢u tráº£ lá»i ba thang Ä‘o (
 HoÃ n toÃ n chÃ­nh xÃ¡c vÃ  ráº¥t há»¯u Ã­ch;
 Má»™t pháº§n chÃ­nh xÃ¡c vá»›i lá»—i nhá» nhÆ°ng váº«n há»¯u Ã­ch;
 KhÃ´ng chÃ­nh xÃ¡c vÃ  khÃ´ng há»¯u Ã­ch). ChÃºng tÃ´i cÅ©ng tÃ­nh Ä‘iá»ƒm tá»•ng thá»ƒ cá»§a cháº¥t lÆ°á»£ng lÃ½ luáº­n sá»­ dá»¥ng giÃ¡ trá»‹ sá»‘ {+1,0.5,0} cho ba thang Ä‘o vÃ  láº¥y trung bÃ¬nh qua ğ‘„1 vÃ  ğ‘„2. Cuá»‘i cÃ¹ng, chÃºng tÃ´i yÃªu cáº§u ngÆ°á»i Ä‘Ã¡nh giÃ¡ chá»n má»™t lá»±a chá»n tá»‘t nháº¥t duy nháº¥t náº¿u khÃ´ng cÃ³ sá»± hÃ²a rÃµ rÃ ng. Chi tiáº¿t thÃªm vá» pipeline Ä‘Ã¡nh giÃ¡ con ngÆ°á»i cá»§a chÃºng tÃ´i Ä‘Æ°á»£c mÃ´ táº£ trong Phá»¥ lá»¥c B.3.

Báº£ng 5 tÃ³m táº¯t káº¿t quáº£. So vá»›i mÃ´ hÃ¬nh PaLM 2 cÆ¡ sá»Ÿ, PaLM 2-L +NExT táº¡o ra lÃ½ luáº­n cháº¥t lÆ°á»£ng cao hÆ¡n Ä‘Ã¡ng ká»ƒ vá»›i giáº£i thÃ­ch chÃ­nh xÃ¡c vá» lá»—i vÃ  Ä‘á» xuáº¥t sá»­a chá»¯a. NgoÃ i ra, so vá»›i GPT-3.5, PaLM 2-L +NExT cÅ©ng cÃ³ nhiá»u lÃ½ luáº­n hÆ¡n vá»›i giáº£i thÃ­ch lá»—i chÃ­nh xÃ¡c, trong khi thÃº vá»‹ lÃ , GPT-3.5 táº¡o ra nhiá»u lÃ½ luáº­n hÆ¡n vá»›i Ä‘á» xuáº¥t sá»­a chá»¯a má»™t pháº§n chÃ­nh xÃ¡c. ChÃºng tÃ´i giáº£ thuyáº¿t ráº±ng bao gá»“m thÃªm exemplar vá»›i Ä‘á» xuáº¥t sá»­a chá»¯a chi tiáº¿t trong prompt Ã­t máº«u cá»§a chÃºng tÃ´i trong quÃ¡ trÃ¬nh huáº¥n luyá»‡n NE xT (Phá»¥ lá»¥c E) sáº½ giÃºp giáº£m thiá»ƒu váº¥n Ä‘á» nÃ y. Tuy nhiÃªn, Ä‘iá»ƒm tá»•ng thá»ƒ vÃ  lá»±a chá»n tá»‘t nháº¥t Ä‘Æ°á»£c gÃ¡n bá»Ÿi ngÆ°á»i Ä‘Ã¡nh giÃ¡ cho tháº¥y ráº±ng lÃ½ luáº­n Ä‘Æ°á»£c dá»± Ä‘oÃ¡n bá»Ÿi PaLM 2-L +NExT cÃ³ cháº¥t lÆ°á»£ng cao hÆ¡n Ä‘Ã¡ng ká»ƒ so vá»›i nhá»¯ng lÃ½ luáº­n tá»« PaLM 2-L, vÃ  ngang báº±ng vá»›i dá»± Ä‘oÃ¡n tá»« GPT-3.5. NhÃ¬n chung, phÃ¡t hiá»‡n nÃ y phÃ¹ há»£p vá»›i káº¿t quáº£ Ä‘Ã¡nh giÃ¡ proxy trong HÃ¬nh 3 (GPT 3.5 â‰ˆ PaLM 2-L+NExT â‰« PaLM 2-L), gá»£i Ã½ ráº±ng metric sau lÃ  má»™t surrogate há»£p lÃ½ cho cháº¥t lÆ°á»£ng lÃ½ luáº­n. Trong Phá»¥ lá»¥c D, chÃºng tÃ´i trÃ¬nh bÃ y cÃ¡c lÃ½ luáº­n Ä‘Æ°á»£c táº¡o vÃ­ dá»¥ hiá»ƒn thá»‹ nhiá»u máº«u suy luáº­n khÃ¡c nhau.

6. CÃ´ng viá»‡c LiÃªn quan

Suy luáº­n vá» Thá»±c thi ChÆ°Æ¡ng trÃ¬nh Má»™t sá»‘ dÃ²ng nghiÃªn cá»©u Ä‘Ã£ khÃ¡m phÃ¡ cÃ¡c phÆ°Æ¡ng phÃ¡p há»c Ä‘á»ƒ suy luáº­n vá» viá»‡c thá»±c thi chÆ°Æ¡ng trÃ¬nh. CÃ¡c há»‡ thá»‘ng tá»•ng há»£p chÆ°Æ¡ng trÃ¬nh thÆ°á»ng táº­n dá»¥ng tráº¡ng thÃ¡i thá»±c thi cá»§a cÃ¡c chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c táº¡o má»™t pháº§n (Chen et al., 2021b; Shi et al., 2022; Shin et al., 2018; Wang et al., 2018) hoáº·c cÃ¡c má»¥c tiÃªu thá»±c thi tiáº¿p theo (Shi et al., 2024) Ä‘á»ƒ hÆ°á»›ng dáº«n tÃ¬m kiáº¿m trong cÃ¡c mÃ´ hÃ¬nh sequence-to-sequence. CÅ©ng cÃ³ cÃ´ng viá»‡c vá» huáº¥n luyá»‡n máº¡ng neural Ä‘á»ƒ mÃ´ phá»ng viá»‡c thá»±c thi chÆ°Æ¡ng trÃ¬nh, nhÆ° má»™t trÃ¬nh thÃ´ng dá»‹ch Ä‘Ã£ há»c (Bieber et al., 2020; Nye et al., 2021; Zaremba and Sutskever, 2014), thÆ°á»ng vá»›i kiáº¿n trÃºc neural chuyÃªn dá»¥ng Ä‘á»ƒ mÃ´ hÃ¬nh luá»“ng dá»¯ liá»‡u cá»§a viá»‡c thá»±c thi chÆ°Æ¡ng trÃ¬nh (Bieber et al., 2022; Bosnjak et al., 2016; Gaunt et al., 2016; Graves et al., 2014). Thay vÃ¬ sá»­ dá»¥ng kiáº¿n trÃºc cá»¥ thá»ƒ cho domain Ä‘á»ƒ mÃ£ hÃ³a vÃ  suy luáº­n vá» viá»‡c thá»±c thi chÆ°Æ¡ng trÃ¬nh, cÃ´ng viá»‡c cá»§a chÃºng tÃ´i táº­p trung vÃ o dáº¡y LLM suy luáº­n vá»›i thá»±c thi báº±ng ngÃ´n ngá»¯ tá»± nhiÃªn. Cá»¥ thá»ƒ, Scratchpad (Nye et al., 2021) vÃ  Self-Debugging (Chen et al., 2023) lÃ  hai cÃ´ng viá»‡c Ä‘Ã¡ng chÃº Ã½ cÅ©ng mÃ´ hÃ¬nh dáº¥u váº¿t thá»±c thi sá»­ dá»¥ng LLM. Sá»± khÃ¡c biá»‡t cá»‘t lÃµi lÃ  nhá»¯ng phÆ°Æ¡ng phÃ¡p nÃ y táº­p trung vÃ o dá»± Ä‘oÃ¡n chuá»—i suy luáº­n chá»©a thÃ´ng tin dáº¥u váº¿t, cháº³ng háº¡n nhÆ° cÃ¡c dÃ²ng Ä‘Ã£ thá»±c thi vá»›i tráº¡ng thÃ¡i biáº¿n (Nye et al., 2021) hoáº·c tÃ³m táº¯t ngÃ´n ngá»¯ tá»± nhiÃªn cá»§a chÃºng (Chen et al., 2023). Máº·t khÃ¡c, NE xT nháº±m táº­n dá»¥ng dáº¥u váº¿t thá»±c thi hiá»‡n cÃ³ tá»« má»™t thá»i gian cháº¡y Ä‘á»ƒ há»— trá»£ quÃ¡ trÃ¬nh suy luáº­n, thÆ°á»ng dáº«n Ä‘áº¿n lÃ½ luáº­n nhá» gá»n hÆ¡n Ä‘Æ°á»£c Ä‘iá»u chá»‰nh cho cÃ¡c nhiá»‡m vá»¥ downstream. ChÃºng tÃ´i trÃ¬nh bÃ y so sÃ¡nh chi tiáº¿t hÆ¡n vÃ  tháº£o luáº­n vá» NE xT vÃ  nhá»¯ng cÃ´ng viá»‡c liÃªn quan nÃ y trong Phá»¥ lá»¥c A.3.

Sá»­a chá»¯a ChÆ°Æ¡ng trÃ¬nh Má»™t sá»‘ cÃ´ng viá»‡c trong sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh Ä‘Ã£ táº­n dá»¥ng thÃ´ng tin thá»±c thi nhÆ° dáº¥u váº¿t (Bouzenia et al., 2023; Gupta et al., 2020) hoáº·c cháº©n Ä‘oÃ¡n kiá»ƒm tra (Xia and Zhang, 2023; Ye et al., 2022). KhÃ¡c vá»›i Bouzenia et al. (2023) Ä‘áº¡i diá»‡n dáº¥u váº¿t báº±ng cÃ¡ch trá»±c tiáº¿p ghÃ©p cÃ¡c dÃ²ng Ä‘Ã£ thá»±c thi má»Ÿ rá»™ng vá»›i tráº¡ng thÃ¡i biáº¿n cá»§a chÃºng, NE xT inline cÃ¡c tráº¡ng thÃ¡i biáº¿n Ä‘Æ°á»£c láº­p chá»‰ má»¥c nhÆ° bÃ¬nh luáº­n mÃ£, hiá»‡u quáº£ hÆ¡n vá» token trong khi báº£o tá»“n cáº¥u trÃºc mÃ£ gá»‘c. TÆ°Æ¡ng tá»± nhÆ° NE xT, Ye et al. (2022) xÃ¢y dá»±ng dá»¯ liá»‡u tá»± huáº¥n luyá»‡n tá»•ng há»£p sá»­ dá»¥ng káº¿t quáº£ thá»±c thi kiá»ƒm tra, trong khi phÆ°Æ¡ng phÃ¡p cá»§a chÃºng tÃ´i táº¡o ra cáº£ lÃ½ luáº­n NL vÃ  chÆ°Æ¡ng trÃ¬nh Ä‘Ã£ sá»­a vá»›i kháº£ nÄƒng diá»…n giáº£i tá»‘t hÆ¡n. Gáº§n Ä‘Ã¢y, LLM Ä‘Ã£ Ä‘Æ°á»£c Ã¡p dá»¥ng cho sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh (Fan et al., 2022; Jiang et al., 2023; Paul et al., 2023; Sobania et al., 2023; Xia and Zhang, 2022; Xia et al., 2023). Trong sá»‘ Ä‘Ã³, Kang et al. (2023) sá»­ dá»¥ng vÃ²ng suy luáº­n CoT kiá»ƒu ReAct (Yao et al., 2022) Ä‘á»ƒ dá»± Ä‘oÃ¡n hÃ nh Ä‘á»™ng sá»­a chá»¯a dá»±a trÃªn pháº£n há»“i tÆ°Æ¡ng tÃ¡c tá»« debugger, trong khi NExT táº­p trung vÃ o Ä‘iá»u chá»‰nh LLM Ä‘á»ƒ suy luáº­n vá»›i thÃ´ng tin thá»±c thi cÃ³ sáºµn mÃ  khÃ´ng cÃ³ pháº£n há»“i trung gian. Cuá»‘i cÃ¹ng, nhÆ° má»™t dÃ²ng nghiÃªn cá»©u liÃªn quan, cÃ¡c phÆ°Æ¡ng phÃ¡p tá»± cáº£i thiá»‡n láº·p tinh chá»‰nh giáº£i phÃ¡p mÃ£ cá»§a mÃ´ hÃ¬nh sá»­ dá»¥ng suy luáº­n CoT qua pháº£n há»“i tá»± cung cáº¥p (Madaan et al., 2023) hoáº·c dá»±a trÃªn kiá»ƒm tra (Chen et al., 2023; Olausson et al., 2023). Thay vÃ¬ dá»±a vÃ o tÃ­n hiá»‡u thá»±c thi cáº¥p cao nhÆ° thÃ´ng bÃ¡o lá»—i, NE xT huáº¥n luyá»‡n LLM suy luáº­n vá»›i dáº¥u váº¿t chÆ°Æ¡ng trÃ¬nh tá»«ng bÆ°á»›c. LÃ½ luáº­n cÃ³ thá»ƒ há»c cá»§a chÃºng tÃ´i cÅ©ng linh hoáº¡t hÆ¡n mÃ  khÃ´ng theo template suy luáº­n Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trÆ°á»›c. BÃªn cáº¡nh Ä‘Ã³, vÃ¬ dáº¥u váº¿t Ä‘Ã£ náº¯m báº¯t ngá»¯ nghÄ©a thá»±c thi phong phÃº, lÃ½ luáº­n káº¿t quáº£ cÃ³ thá»ƒ ngáº¯n gá»n hÆ¡n vÃ  hÆ°á»›ng Ä‘áº¿n nhiá»‡m vá»¥ downstream (vÃ­ dá»¥: giáº£i thÃ­ch lá»—i), mÃ  khÃ´ng cÃ³ cÃ¡c bÆ°á»›c suy luáº­n dÆ° thá»«a Ä‘á»ƒ theo dÃµi chÆ°Æ¡ng trÃ¬nh bá»Ÿi chÃ­nh mÃ´ hÃ¬nh Ä‘á»ƒ khÃ´i phá»¥c thÃ´ng tin thá»±c thi há»¯u Ã­ch.

Suy luáº­n CoT CÃ³ giÃ¡m sÃ¡t LLM cÃ³ thá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» chÃ­nh xÃ¡c hÆ¡n khi Ä‘Æ°á»£c hÆ°á»›ng dáº«n lÃ m viá»‡c tá»«ng bÆ°á»›c trong má»™t chuá»—i suy nghÄ© hoáº·c scratchpad (Nye et al., 2021; Rajani et al., 2019; Shwartz et al., 2020; Wei et al., 2022a). Cáº£i tiáº¿n vá» phÆ°Æ¡ng phÃ¡p nÃ y liÃªn quan Ä‘áº¿n tinh chá»‰nh LLM trÃªn dá»¯ liá»‡u suy luáº­n chuá»—i suy nghÄ©. Dá»¯ liá»‡u CoT nhÆ° váº­y Ä‘Æ°á»£c tuyá»ƒn chá»n thá»§ cÃ´ng (Chung et al.,
11

--- TRANG 12 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

2022; Lightman et al., 2023; Longpre et al., 2023), hoáº·c chÆ°ng cáº¥t tá»« cÃ¡c mÃ´ hÃ¬nh giÃ¡o viÃªn cÃ³ kháº£ nÄƒng hÆ¡n (Fu et al., 2023; Gunasekar et al., 2023; Mitra et al., 2023; Mukherjee et al., 2023). Thay vÃ¬ dá»±a vÃ o dá»¯ liá»‡u Ä‘Æ°á»£c gáº¯n nhÃ£n hoáº·c chÆ°ng cáº¥t, NE xT sá»­ dá»¥ng tá»± huáº¥n luyá»‡n Ä‘á»ƒ láº·p khá»Ÿi táº¡o má»™t bá»™ dá»¯ liá»‡u tá»•ng há»£p cá»§a lÃ½ luáº­n cháº¥t lÆ°á»£ng cao vá»›i chÃº thÃ­ch thá»§ cÃ´ng tá»‘i thiá»ƒu. CÃ´ng viá»‡c cá»§a chÃºng tÃ´i khÃ¡c vá»›i cÃ´ng viá»‡c trÆ°á»›c Ä‘Ã¢y sá»­ dá»¥ng bootstrapping (Hoffman et al., 2023; Zelikman et al., 2022) vá» loáº¡i lÃ½ luáº­n vÃ  viá»‡c sá»­ dá»¥ng thÃ´ng tin thá»±c thi; xem Â§4 Ä‘á»ƒ tháº£o luáº­n thÃªm. Trong khi chÃºng tÃ´i sá»­ dá»¥ng tÃ­nh chÃ­nh xÃ¡c cá»§a sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh Ä‘á»ƒ lá»c lÃ½ luáº­n, Ä‘iá»u nÃ y gá»£i nhá»› Ä‘áº¿n giÃ¡m sÃ¡t káº¿t quáº£; cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng giÃ¡m sÃ¡t quy trÃ¬nh vá»›i chÃº thÃ­ch con ngÆ°á»i (Lightman et al., 2023; Uesato et al., 2022), hoáº·c cÃ³ Ä‘Æ°á»£c giÃ¡m sÃ¡t nhÆ° váº­y tá»± Ä‘á»™ng báº±ng cÃ¡ch Æ°á»›c tÃ­nh cháº¥t lÆ°á»£ng cá»§a má»—i bÆ°á»›c sá»­ dá»¥ng Monte Carlo Tree Search (Wang et al., 2024) vÃ  báº±ng cÃ¡ch xÃ¡c Ä‘á»‹nh cÃ¡c tiá»n tá»‘ chÆ°Æ¡ng trÃ¬nh Ä‘Ãºng má»™t pháº§n (Ni et al., 2022). Cuá»‘i cÃ¹ng, nghiÃªn cá»©u hiá»‡n cÃ³ Ä‘Ã£ Ä‘iá»u tra tinh chá»‰nh LLM Ä‘á»ƒ dá»± Ä‘oÃ¡n thÃ´ng tin thá»±c thi trá»±c tiáº¿p, cháº³ng háº¡n nhÆ° dá»± Ä‘oÃ¡n dáº¥u váº¿t thá»±c thi tá»«ng dÃ²ng (Nye et al., 2021), thuá»™c tÃ­nh runtime trá»«u tÆ°á»£ng (Pei et al., 2023), hoáº·c Ä‘áº§u ra cuá»‘i cÃ¹ng (Bieber et al., 2020; Zaremba and Sutskever, 2014). NE xT giáº£i quyáº¿t má»™t váº¥n Ä‘á» khÃ¡c; thay vÃ¬ dá»± Ä‘oÃ¡n thÃ´ng tin thá»±c thi, NE xT láº¥y nÃ³ nhÆ° Ä‘Ã£ cho, vÃ  thay vÃ o Ä‘Ã³ há»c khÃ¡m phÃ¡ lÃ½ luáº­n NL linh hoáº¡t cá»¥ thá»ƒ cho nhiá»‡m vá»¥ há»— trá»£ nhiá»‡m vá»¥ láº­p trÃ¬nh downstream.

7. Káº¿t luáº­n

Trong bÃ i bÃ¡o nÃ y chÃºng tÃ´i trÃ¬nh bÃ y NE xT, má»™t phÆ°Æ¡ng phÃ¡p tá»± huáº¥n luyá»‡n Ä‘á»ƒ tinh chá»‰nh LLM suy luáº­n vá»›i viá»‡c thá»±c thi chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c cung cáº¥p dáº¥u váº¿t. ChÃºng tÃ´i chá»©ng minh ráº±ng PaLM 2-L Ä‘Æ°á»£c huáº¥n luyá»‡n sá»­ dá»¥ng NE xT mang láº¡i lÃ½ luáº­n ngÃ´n ngá»¯ tá»± nhiÃªn cháº¥t lÆ°á»£ng cao vÃ  Ä‘áº¡t tá»· lá»‡ thÃ nh cÃ´ng máº¡nh hÆ¡n trÃªn hai nhiá»‡m vá»¥ sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh. NhÆ° cÃ´ng viá»‡c tÆ°Æ¡ng lai, chÃºng tÃ´i dá»± Ä‘á»‹nh Ã¡p dá»¥ng NE xT cho má»™t loáº¡t nhiá»‡m vá»¥ hiá»ƒu chÆ°Æ¡ng trÃ¬nh rá»™ng hÆ¡n trong khi má»Ÿ rá»™ng Ä‘áº¡i diá»‡n dáº¥u váº¿t Ä‘á»ƒ há»— trá»£ thÃªm cÃ¡c ngÃ´n ngá»¯ láº­p trÃ¬nh.

Lá»i cáº£m Æ¡n

ChÃºng tÃ´i muá»‘n bÃ y tá» lÃ²ng biáº¿t Æ¡n chÃ¢n thÃ nh Ä‘áº¿n MartÃ­n Abadi, Xinyun Chen, Hanjun Dai, Kexin Pei vÃ  cÃ¡c thÃ nh viÃªn cá»§a nhÃ³m Learning for Code táº¡i Google DeepMind vÃ¬ pháº£n há»“i vÃ´ giÃ¡ cá»§a há». ChÃºng tÃ´i cÅ©ng biáº¿t Æ¡n Austin Tarango vÃ¬ sá»± há»— trá»£ cá»§a anh áº¥y cho cÃ´ng viá»‡c nÃ y.

TÃ i liá»‡u tham kháº£o

R. Anil, A. M. Dai, O. Firat, M. Johnson, D. Lepikhin, A. Passos, S. Shakeri, E. Taropa, P. Bailey, Z. Chen, et al. PaLM 2 technical report. arXiv preprint arXiv:2305.10403, 2023.

T. W. Anthony, Z. Tian, vÃ  D. Barber. Thinking fast and slow with deep learning and tree search. Trong Neural Information Processing Systems (NeurIPS), 2017.

J. Austin, A. Odena, M. Nye, M. Bosma, H. Michalewski, D. Dohan, E. Jiang, C. Cai, M. Terry, Q. Le, et al. Program synthesis with large language models. arXiv preprint arXiv:2108.07732, 2021.

D. Bieber, C. Sutton, H. Larochelle, vÃ  D. Tarlow. Learning to execute programs with instruction pointer attention graph neural networks. Trong Advances in Neural Information Processing Systems (NeurIPS), Oct. 2020.

D. Bieber, R. Goel, D. Zheng, H. Larochelle, vÃ  D. Tarlow. Static prediction of runtime errors by learning to execute programs with external resource descriptions. ArXiv, abs/2203.03771, 2022.

M. Bosnjak, T. RocktÃ¤schel, J. Naradowsky, vÃ  S. Riedel. Programming with a differentiable Forth interpreter. ArXiv, abs/1605.06640, 2016.

12

--- TRANG 13 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

I. Bouzenia, Y. Ding, K. Pei, B. Ray, vÃ  M. Pradel. TraceFixer: Execution trace-driven program repair. ArXiv, abs/2304.12743, 2023.

M. Chen, J. Tworek, H. Jun, Q. Yuan, H. P. d. O. Pinto, J. Kaplan, H. Edwards, Y. Burda, N. Joseph, G. Brockman, et al. Evaluating large language models trained on code. arXiv preprint arXiv:2107.03374, 2021a.

X. Chen, D. X. Song, vÃ  Y. Tian. Latent execution for neural program synthesis beyond domain-specific languages. ArXiv, abs/2107.00101, 2021b.

X. Chen, M. Lin, N. SchÃ¤rli, vÃ  D. Zhou. Teaching large language models to self-debug. arXiv preprint arXiv:2304.05128, 2023.

Z. Chen, S. Kommrusch, M. Tufano, L.-N. Pouchet, D. Poshyvanyk, vÃ  M. Martin. SequenceR: Sequence-to-sequence learning for end-to-end program repair. IEEE Transactions on Software Engineering, 47:1943â€“1959, 2018.

H. W. Chung, L. Hou, S. Longpre, B. Zoph, Y. Tay, W. Fedus, E. Li, X. Wang, M. Dehghani, S. Brahma, A. Webson, S. S. Gu, Z. Dai, M. Suzgun, X. Chen, A. Chowdhery, D. Valter, S. Narang, G. Mishra, A. W. Yu, V. Zhao, Y. Huang, A. M. Dai, H. Yu, S. Petrov, E. H. hsin Chi, J. Dean, J. Devlin, A. Roberts, D. Zhou, Q. V. Le, vÃ  J. Wei. Scaling instruction-finetuned language models. ArXiv, abs/2210.11416, 2022.

J. Cito, I. Dillig, V. Murali, vÃ  S. Chandra. Counterfactual explanations for models of code. International Conference on Software Engineering (ICSE), 2022.

P. Dasigi, M. Gardner, S. Murty, L. Zettlemoyer, vÃ  E. H. Hovy. Iterative search for weakly supervised semantic parsing. Trong North American Chapter of the Association for Computational Linguistics (NAACL), 2019.

S. Fakhoury, S. Chakraborty, M. Musuvathi, vÃ  S. K. Lahiri. Towards generating functionally correct code edits from natural language issue descriptions. ArXiv, abs/2304.03816, 2023.

Z. Fan, X. Gao, M. Mirchev, A. Roychoudhury, vÃ  S. H. Tan. Automated repair of programs from large language models. 2023 IEEE/ACM 45th International Conference on Software Engineering (ICSE), pages 1469â€“1481, 2022.

Y. Fu, H.-C. Peng, L. Ou, A. Sabharwal, vÃ  T. Khot. Specializing smaller language models towards multi-step reasoning. Trong International Conference on Machine Learning (ICML), 2023.

A. L. Gaunt, M. Brockschmidt, N. Kushman, vÃ  D. Tarlow. Differentiable programs with neural libraries. Trong International Conference on Machine Learning (ICML), 2016.

A. Graves, G. Wayne, vÃ  I. Danihelka. Neural turing machines. ArXiv, abs/1410.5401, 2014.

S. Gunasekar, Y. Zhang, J. Aneja, C. C. T. Mendes, A. D. Giorno, S. Gopi, M. Javaheripi, P. C. Kauffmann, G. de Rosa, O. Saarikivi, A. Salim, S. Shah, H. S. Behl, X. Wang, S. Bubeck, R. Eldan, A. T. Kalai, Y. T. Lee, vÃ  Y.-F. Li. Textbooks are all you need. ArXiv, abs/2306.11644, 2023.

D. Guo, Q. Zhu, D. Yang, Z. Xie, K. Dong, W. Zhang, G. Chen, X. Bi, Y. Wu, Y. K. Li, F. Luo, Y. Xiong, vÃ  W. Liang. DeepSeek-Coder: When the large language model meets programming â€“ the rise of code intelligence, 2024.

K. Gupta, P. E. Christensen, X. Chen, vÃ  D. X. Song. Synthesize, execute and debug: Learning to repair for neural program synthesis. ArXiv, abs/2007.08095, 2020.

13

--- TRANG 14 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

A. Heinonen, B. LehtelÃ¤, A. Hellas, vÃ  F. Fagerholm. Synthesizing research on programmers' mental models of programs, tasks and concepts - a systematic literature review. Inf. Softw. Technol., 164: 107300, 2022.

M. D. Hoffman, D. Phan, D. Dohan, S. Douglas, T. A. Le, A. T. Parisi, P. Sountsov, C. Sutton, S. Vikram, vÃ  R. A. Saurous. Training Chain-of-Thought via Latent-Variable inference. Trong Conference on Neural Information Processing Systems (NeurIPS), 2023.

X. Hu, G. Li, X. Xia, D. Lo, vÃ  Z. Jin. Deep code comment generation. 2018 IEEE/ACM 26th International Conference on Program Comprehension (ICPC), pages 200â€“20010, 2018.

A. Hunt vÃ  D. Thomas. The pragmatic programmer: From journeyman to master. 1999.

A. Q. Jiang, A. Sablayrolles, A. Roux, A. Mensch, B. Savary, C. Bamford, D. S. Chaplot, D. d. l. Casas, E. B. Hanna, F. Bressand, et al. Mixtral of experts. arXiv preprint arXiv:2401.04088, 2024.

N. Jiang, K. Liu, T. Lutellier, vÃ  L. Tan. Impact of code language models on automated program repair. 2023 IEEE/ACM 45th International Conference on Software Engineering (ICSE), pages 1430â€“1442, 2023.

S. Kang, B. Chen, S. Yoo, vÃ  J.-G. Lou. Explainable automated debugging via large language model-driven scientific debugging. ArXiv, abs/2304.02195, 2023.

S. Kulal, P. Pasupat, K. Chandra, M. Lee, O. Padon, A. Aiken, vÃ  P. S. Liang. SPoC: Search-based pseudocode to code. Advances in Neural Information Processing Systems (NeurIPS), 32, 2019.

C. Le Goues, M. Pradel, vÃ  A. Roychoudhury. Automated program repair. Communications of the ACM, 62(12):56â€“65, 2019.

R. Li, L. B. Allal, Y. Zi, N. Muennighoff, D. Kocetkov, C. Mou, M. Marone, C. Akiki, J. Li, J. Chim, et al. StarCoder: may the source be with you! arXiv preprint arXiv:2305.06161, 2023.

Y. Li, S. Wang, vÃ  T. N. Nguyen. DLFix: Context-based code transformation learning for automated program repair. 2020 IEEE/ACM 42nd International Conference on Software Engineering (ICSE), pages 602â€“614, 2020.

Z. Li, S. Lu, D. Guo, N. Duan, S. Jannu, G. Jenks, D. Majumder, J. Green, A. Svyatkovskiy, S. Fu, vÃ  N. Sundaresan. Automating code review activities by large-scale pre-training. Proceedings of the 30th ACM Joint European Software Engineering Conference and Symposium on the Foundations of Software Engineering, 2022.

C. Liang, M. Norouzi, J. Berant, Q. V. Le, vÃ  N. Lao. Memory augmented policy optimization for program synthesis and semantic parsing. Advances in Neural Information Processing Systems (NeurIPS), 31, 2018.

H. Lightman, V. Kosaraju, Y. Burda, H. Edwards, B. Baker, T. Lee, J. Leike, J. Schulman, I. Sutskever, vÃ  K. Cobbe. Let's verify step by step. arXiv preprint arXiv:2305.20050, 2023.

J. Liu, C. S. Xia, Y. Wang, vÃ  L. Zhang. Is your code generated by chatgpt really correct? rigorous evaluation of large language models for code generation. arXiv preprint arXiv:2305.01210, 2023.

S. Longpre, L. Hou, T. Vu, A. Webson, H. W. Chung, Y. Tay, D. Zhou, Q. V. Le, B. Zoph, J. Wei, vÃ  A. Roberts. The flan collection: Designing data and methods for effective instruction tuning. Trong International Conference on Machine Learning (ICML), 2023.

14

--- TRANG 15 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

W. Ma, S. Liu, W. Wang, Q. Hu, Y. Liu, C. Zhang, L. Nie, vÃ  Y. Liu. ChatGPT: Understanding code syntax and semantics. 2023.

A. Madaan, N. Tandon, P. Gupta, S. Hallinan, L. Gao, S. Wiegreffe, U. Alon, N. Dziri, S. Prabhumoye, Y. Yang, S. Welleck, B. P. Majumder, S. Gupta, A. Yazdanbakhsh, vÃ  P. Clark. Self-refine: Iterative refinement with self-feedback. ArXiv, abs/2303.17651, 2023.

A. Mitra, L. D. Corro, S. Mahajan, A. Codas, C. Simoes, S. Agrawal, X. Chen, A. Razdaibiedina, E. Jones, K. Aggarwal, H. Palangi, G. Zheng, C. Rosset, H. Khanpour, vÃ  A. Awadallah. Orca 2: Teaching small language models how to reason. ArXiv, abs/2311.11045, 2023.

N. Muennighoff, Q. Liu, A. Zebaze, Q. Zheng, B. Hui, T. Y. Zhuo, S. Singh, X. Tang, L. Von Werra, vÃ  S. Longpre. OctoPack: Instruction tuning code large language models. arXiv preprint arXiv:2308.07124, 2023.

S. Mukherjee, A. Mitra, G. Jawahar, S. Agarwal, H. Palangi, vÃ  A. H. Awadallah. Orca: Progressive learning from complex explanation traces of GPT-4. ArXiv, abs/2306.02707, 2023.

A. Ni, P. Yin, vÃ  G. Neubig. Merging weak and active supervision for semantic parsing. Trong Proceedings of the AAAI Conference on Artificial Intelligence (AAAI), volume 34, pages 8536â€“8543, 2020.

A. Ni, J. P. Inala, C. Wang, A. Polozov, C. Meek, D. Radev, vÃ  J. Gao. Learning math reasoning from self-sampled correct and partially-correct solutions. Trong The Eleventh International Conference on Learning Representations (ICLR), 2022.

A. Ni, S. Iyer, D. Radev, V. Stoyanov, W.-t. Yih, S. Wang, vÃ  X. V. Lin. LEVER: Learning to verify language-to-code generation with execution. Trong International Conference on Machine Learning (ICML), pages 26106â€“26128. PMLR, 2023.

M. Nye, A. J. Andreassen, G. Gur-Ari, H. Michalewski, J. Austin, D. Bieber, D. Dohan, A. Lewkowycz, M. Bosma, D. Luan, et al. Show your work: Scratchpads for intermediate computation with language models. arXiv preprint arXiv:2112.00114, 2021.

T. X. Olausson, J. P. Inala, C. Wang, J. Gao, vÃ  A. Solar-Lezama. Demystifying GPT self-repair for code generation. arXiv preprint arXiv:2306.09896, 2023.

OpenAI. GPT-4 technical report, 2023.

R. Paul, M. M. Hossain, M. L. Siddiq, M. Hasan, A. Iqbal, vÃ  J. C. S. Santos. Enhancing automated program repair through fine-tuning and prompt engineering. 2023.

K. Pei, D. Bieber, K. Shi, C. Sutton, vÃ  P. Yin. Can large language models reason about program invariants? Trong International Conference on Machine Learning (ICML), 2023.

A. Prasad, S. Saha, X. Zhou, vÃ  M. Bansal. Receval: Evaluating reasoning chains via correctness and informativeness. arXiv preprint arXiv:2304.10703, 2023.

N. F. Rajani, B. McCann, C. Xiong, vÃ  R. Socher. Explain yourself! leveraging language models for commonsense reasoning. Trong Proceedings of the 57th Annual Meeting of the Association for Computational Linguistics (ACL), pages 4932â€“4942, Florence, Italy, July 2019. Association for Computational Linguistics. doi: 10.18653/v1/P19-1487.

S. I. Ross, F. Martinez, S. Houde, M. J. Muller, vÃ  J. D. Weisz. The programmer's assistant: Conversational interaction with a large language model for software development. Proceedings of the 28th International Conference on Intelligent User Interfaces, 2023.

15

--- TRANG 16 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

B. Roziere, J. Gehring, F. Gloeckle, S. Sootla, I. Gat, X. E. Tan, Y. Adi, J. Liu, T. Remez, J. Rapin, et al. Code Llama: Open foundation models for code. arXiv preprint arXiv:2308.12950, 2023.

K. Shi, H. Dai, K. Ellis, vÃ  C. Sutton. CrossBeam: Learning to search in bottom-up program synthesis. Trong International Conference on Learning Representations (ICLR), 2022.

K. Shi, J. Hong, Y. Deng, P. Yin, M. Zaheer, vÃ  C. Sutton. ExeDec: Execution decomposition for compositional generalization in neural program synthesis. Trong International Conference on Learning Representations (ICLR), 2024.

E. C. Shin, I. Polosukhin, vÃ  D. Song. Improving neural program synthesis with inferred execution traces. Trong S. Bengio, H. Wallach, H. Larochelle, K. Grauman, N. Cesa-Bianchi, vÃ  R. Garnett, editors, Advances in Neural Information Processing Systems (NeurIPS), volume 31. Curran Associates, Inc., 2018.

V. Shwartz, P. West, R. Le Bras, C. Bhagavatula, vÃ  Y. Choi. Unsupervised commonsense question answering with self-talk. Trong Proceedings of the 2020 Conference on Empirical Methods in Natural Language Processing (EMNLP), pages 4615â€“4629, Online, Nov. 2020. Association for Computational Linguistics. doi: 10.18653/v1/2020.emnlp-main.373.

B. Siegmund, M. Perscheid, M. Taeumel, vÃ  R. Hirschfeld. Studying the advancement in debugging practice of professional software developers. Trong 2014 IEEE International Symposium on Software Reliability Engineering Workshops, pages 269â€“274, 2014. doi: 10.1109/ISSREW.2014.36.

D. Sobania, M. Briesch, C. Hanna, vÃ  J. Petke. An analysis of the automatic bug fixing performance of ChatGPT. 2023 IEEE/ACM International Workshop on Automated Program Repair (APR), pages 23â€“30, 2023.

H. Touvron, L. Martin, K. Stone, P. Albert, A. Almahairi, Y. Babaei, N. Bashlykov, S. Batra, P. Bhargava, S. Bhosale, et al. Llama 2: Open foundation and fine-tuned chat models. arXiv preprint arXiv:2307.09288, 2023.

J. Uesato, N. Kushman, R. Kumar, F. Song, N. Siegel, L. Wang, A. Creswell, G. Irving, vÃ  I. Higgins. Solving math word problems with process- and outcome-based feedback. ArXiv, abs/2211.14275, 2022.

C. Wang, K. Tatwawadi, M. Brockschmidt, P.-S. Huang, Y. Mao, O. Polozov, vÃ  R. Singh. Robust text-to-SQL generation with execution-guided decoding. arXiv: Computation and Language, 2018.

P. Wang, L. Li, Z. Shao, R. X. Xu, D. Dai, Y. Li, D. Chen, Y. Wu, vÃ  Z. Sui. Math-shepherd: Verify and reinforce llms step-by-step without human annotations. ArXiv, abs/2312.08935, 2024.

J. Wei, X. Wang, D. Schuurmans, M. Bosma, E. Chi, Q. Le, vÃ  D. Zhou. Chain of thought prompting elicits reasoning in large language models. "arXiv preprint arXiv:2201.11903", Jan. 2022a.

J. Wei, X. Wang, D. Schuurmans, M. Bosma, F. Xia, E. Chi, Q. V. Le, D. Zhou, et al. Chain-of-thought prompting elicits reasoning in large language models. Advances in Neural Information Processing Systems (NeurIPS), 35:24824â€“24837, 2022b.

C. Xia vÃ  L. Zhang. Less training, more repairing please: revisiting automated program repair via zero-shot learning. Proceedings of the 30th ACM Joint European Software Engineering Conference and Symposium on the Foundations of Software Engineering, 2022.

C. Xia vÃ  L. Zhang. Keep the conversation going: Fixing 162 out of 337 bugs for $0.42 each using ChatGPT. ArXiv, abs/2304.00385, 2023.

16

--- TRANG 17 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

C. Xia, Y. Wei, vÃ  L. Zhang. Automated program repair in the era of large pre-trained language models. 2023 IEEE/ACM 45th International Conference on Software Engineering (ICSE), pages 1482â€“1494, 2023.

S. Yao, J. Zhao, D. Yu, N. Du, I. Shafran, K. Narasimhan, vÃ  Y. Cao. ReAct: Synergizing reasoning and acting in language models. ArXiv, abs/2210.03629, 2022.

H. Ye, M. Martinez, X. Luo, T. Zhang, vÃ  M. Martin. SelfAPR: Self-supervised program repair with test execution diagnostics. Proceedings of the 37th IEEE/ACM International Conference on Automated Software Engineering (ASE), 2022.

P. Yin, W.-D. Li, K. Xiao, A. Rao, Y. Wen, K. Shi, J. Howland, P. Bailey, M. Catasta, H. Michalewski, O. Polozov, vÃ  C. Sutton. Natural language to code generation in interactive data science notebooks. Trong A. Rogers, J. Boyd-Graber, vÃ  N. Okazaki, editors, Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (ACL), pages 126â€“173, Toronto, Canada, July 2023. Association for Computational Linguistics. doi: 10.18653/v1/2023.acl-long.9.

W. Zaremba vÃ  I. Sutskever. Learning to execute. ArXiv, abs/1410.4615, 2014.

E. Zelikman, Y. Wu, J. Mu, vÃ  N. Goodman. STaR: Bootstrapping reasoning with reasoning. Advances in Neural Information Processing Systems (NeurIPS), 35:15476â€“15488, 2022.

17

--- TRANG 18 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

A. Chi tiáº¿t Bá»• sung cá»§a NE xT

A.1. Chi tiáº¿t cho Äáº¡i diá»‡n Dáº¥u váº¿t Ná»™i tuyáº¿n

Äá»‹nh nghÄ©a. Má»™t chÆ°Æ¡ng trÃ¬nh ğ‘¦âˆˆY bao gá»“m má»™t chuá»—i cÃ¡c cÃ¢u lá»‡nh {ğ‘¢1,...,ğ‘¢ğ‘š}. VÃ  má»™t tráº¡ng thÃ¡i chÆ°Æ¡ng trÃ¬nh â„ lÃ  má»™t Ã¡nh xáº¡ giá»¯a cÃ¡c Ä‘á»‹nh danh (tá»©c lÃ  tÃªn biáº¿n) vÃ  giÃ¡ trá»‹, tá»©c lÃ  â„âˆˆ{ğ‘˜â†¦â†’ğ‘£|ğ‘˜âˆˆK,ğ‘£âˆˆV}. ÄÆ°á»£c cung cáº¥p má»™t Ä‘áº§u vÃ o cho chÆ°Æ¡ng trÃ¬nh, má»™t dáº¥u váº¿t thá»±c thi Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a lÃ  má»™t chuá»—i cÃ¡c tráº¡ng thÃ¡i chÆ°Æ¡ng trÃ¬nh, tá»©c lÃ  ğœ–={â„1,...,â„ğ‘¡}, lÃ  káº¿t quáº£ sau khi thá»±c thi cÃ¡c cÃ¢u lá»‡nh vá»›i thá»© tá»± thá»±c thi, tá»©c lÃ  {ğ‘¢ğ‘’1,ğ‘¢ğ‘’2,...,ğ‘¢ğ‘’ğ‘¡}. Theo cÃ¡ch nÃ y, má»‘i quan há»‡ giá»¯a cÃ¡c cÃ¢u lá»‡nh chÆ°Æ¡ng trÃ¬nh vÃ  tráº¡ng thÃ¡i thá»±c thi cÃ³ thá»ƒ Ä‘Æ°á»£c xem nhÆ° má»™t hÃ m Ã¡nh xáº¡ tá»« tráº¡ng thÃ¡i Ä‘áº¿n cÃ¢u lá»‡nh, tá»©c lÃ  â„ğ‘–â†¦â†’ğ‘¢ğ‘’ğ‘–, bá»Ÿi vÃ¬ má»—i cÃ¢u lá»‡nh cÃ³ thá»ƒ Ä‘Æ°á»£c thá»±c thi nhiá»u láº§n do vÃ²ng láº·p hoáº·c Ä‘á»‡ quy.

Äáº¡i diá»‡n tráº¡ng thÃ¡i chÆ°Æ¡ng trÃ¬nh. Äá»‘i vá»›i cÃ¡c chÆ°Æ¡ng trÃ¬nh Ä‘iá»ƒn hÃ¬nh, háº§u háº¿t cÃ¡c giÃ¡ trá»‹ biáº¿n sáº½ giá»¯ nguyÃªn giá»¯a hai tráº¡ng thÃ¡i liá»n ká» â„ğ‘–âˆ’1 vÃ  â„ğ‘–. Do Ä‘Ã³ Ä‘á»ƒ tiáº¿t kiá»‡m token, chÃºng tÃ´i Ä‘áº¡i diá»‡n cho má»™t tráº¡ng thÃ¡i â„ğ‘– chá»‰ báº±ng cÃ¡c biáº¿n Ä‘Ã£ thay Ä‘á»•i giÃ¡ trá»‹ so vá»›i tráº¡ng thÃ¡i trÆ°á»›c Ä‘Ã³ â„ğ‘–âˆ’1. VÃ  chÃºng tÃ´i sá»­ dá»¥ng má»™t Ä‘áº¡i diá»‡n tráº¡ng thÃ¡i biáº¿n cá»¥ thá»ƒ hÃ³a, tá»©c lÃ  sá»­ dá»¥ng ngá»¯ phÃ¡p cho má»™t hÃ m init trong Python (vÃ­ dá»¥: lst=[1, 2, 3]). LÆ°u Ã½ ráº±ng cÃ³ thá»ƒ má»™t cÃ¢u lá»‡nh khÃ´ng cÃ³ tÃ¡c dá»¥ng lÃªn báº¥t ká»³ biáº¿n cÃ³ thá»ƒ theo dÃµi nÃ o (vÃ­ dá»¥: "pass", hoáº·c "print", hoáº·c "lst[i]=lst[i]"). Äá»ƒ phÃ¢n biá»‡t trÆ°á»ng há»£p nÃ y vá»›i cÃ¡c cÃ¢u lá»‡nh khÃ´ng Ä‘Æ°á»£c Ä‘áº¿n (vÃ­ dá»¥: nhÃ¡nh "else" khÃ´ng Ä‘Æ°á»£c thá»±c thi tiáº¿p theo), chÃºng tÃ´i thÃªm chuá»—i "NO_CHANGE" thay tháº¿. NgoÃ i tráº¡ng thÃ¡i biáº¿n, chÃºng tÃ´i Ä‘Ã¡nh sá»‘ táº¥t cáº£ cÃ¡c tráº¡ng thÃ¡i theo thá»© tá»± thá»±c thi vÃ  thÃªm sá»‘ thá»© tá»± vÃ o Ä‘áº§u tráº¡ng thÃ¡i, vÃ­ dá»¥: "(1) odd_list=[]" trong HÃ¬nh 2.

Äáº¡i diá»‡n dáº¥u váº¿t ná»™i tuyáº¿n. Äá»ƒ cÃ³ Ä‘Æ°á»£c Ä‘áº¡i diá»‡n dáº¥u váº¿t ná»™i tuyáº¿n, trÆ°á»›c tiÃªn chÃºng tÃ´i nhÃ³m cÃ¡c tráº¡ng thÃ¡i chÆ°Æ¡ng trÃ¬nh trong má»™t dáº¥u váº¿t ğœ– theo cÃ¡c cÃ¢u lá»‡nh chÆ°Æ¡ng trÃ¬nh tÆ°Æ¡ng á»©ng Ä‘á»ƒ thu tháº­p má»™t chuá»—i tráº¡ng thÃ¡i cho cÃ¹ng má»™t cÃ¢u lá»‡nh ğ‘¢ğ‘– lÃ  ğ»ğ‘–={â„ğ‘—|ğ‘¢ğ‘’ğ‘—=ğ‘¢ğ‘–}, vÃ  chÃºng tÃ´i sáº¯p xáº¿p cÃ¡c tráº¡ng thÃ¡i trong ğ»ğ‘– theo thá»© tá»± thá»±c thi. Äá»‘i vá»›i cÃ¡c cÃ¢u lá»‡nh bÃªn trong thÃ¢n vÃ²ng láº·p, hoáº·c má»™t hÃ m Ä‘Æ°á»£c gá»i Ä‘á»‡ quy, sá»‘ lÆ°á»£ng tráº¡ng thÃ¡i tÆ°Æ¡ng á»©ng cÃ³ thá»ƒ ráº¥t lá»›n. Äá»ƒ tiáº¿t kiá»‡m thÃªm token, náº¿u |ğ»ğ‘–|>3, chÃºng tÃ´i sáº½ chá»‰ káº¿t há»£p hai tráº¡ng thÃ¡i Ä‘áº§u tiÃªn vÃ  tráº¡ng thÃ¡i cuá»‘i cÃ¹ng, vÃ  bá» qua nhá»¯ng tráº¡ng thÃ¡i á»Ÿ giá»¯a. Sau Ä‘Ã³, chÃºng tÃ´i chá»‰ Ä‘Æ¡n giáº£n ná»‘i táº¥t cáº£ cÃ¡c Ä‘áº¡i diá»‡n tráº¡ng thÃ¡i vá»›i dáº¥u cháº¥m pháº©y ";" lÃ m dáº¥u phÃ¢n cÃ¡ch, vÃ  thÃªm nÃ³ sau chÃ­nh cÃ¢u lá»‡nh ğ‘¢ğ‘– theo sau dáº¥u thÄƒng "#" Ä‘á»ƒ chÃº thÃ­ch nÃ³ nhÆ° má»™t bÃ¬nh luáº­n ná»™i tuyáº¿n. Má»™t vÃ­ dá»¥ vá» Ä‘áº¡i diá»‡n káº¿t quáº£ lÃ  "even_list.append(n) # (4) even_list=[1]; (8) even_list=[1, 3]; ...; (20) even_list=[1, 3, 5, 7, 9];", nhÆ° Ä‘Æ°á»£c hiá»ƒn thá»‹ trong HÃ¬nh 2.

Háº¡n cháº¿. TrÆ°á»›c tiÃªn, framework theo dÃµi cá»§a chÃºng tÃ´i hiá»‡n táº¡i khÃ´ng má»Ÿ rá»™ng ra ngoÃ i cÃ¡c chÆ°Æ¡ng trÃ¬nh Python gá»‘c, do Ä‘Ã³ khÃ´ng thá»ƒ theo dÃµi mÃ£ khÃ´ng Ä‘Æ°á»£c viáº¿t báº±ng Python (vÃ­ dá»¥: mÃ£ C trong numpy). Má»™t háº¡n cháº¿ khÃ¡c cá»§a Ä‘áº¡i diá»‡n theo dÃµi cá»§a chÃºng tÃ´i lÃ  Ä‘á»‘i vá»›i cÃ¡c Ä‘iá»u kiá»‡n "if", máº·c dÃ¹ sáº½ tá»‘t hÆ¡n náº¿u Ä‘á»ƒ láº¡i dáº¥u váº¿t cá»§a "(1) True; (2) True; (3); False;", hiá»‡n táº¡i framework theo dÃµi cá»§a chÃºng tÃ´i dá»±a trÃªn hook "sys.settrace()" cá»§a Python khÃ´ng náº¯m báº¯t Ä‘Æ°á»£c Ä‘iá»u nÃ y. Tuy nhiÃªn, vÃ¬ chÃºng tÃ´i Ä‘Ã£ gáº¯n nhÃ£n táº¥t cáº£ cÃ¡c tráº¡ng thÃ¡i theo thá»© tá»± thá»±c thi, LLM cÃ³ thá»ƒ suy luáº­n cÃ¡c Ä‘iá»u kiá»‡n báº±ng viá»‡c nhÃ¡nh nháº¥t Ä‘á»‹nh Ä‘Æ°á»£c thá»±c hiá»‡n. Má»™t háº¡n cháº¿ khÃ¡c lÃ  Ä‘áº¡i diá»‡n cá»§a Bá»™ sÆ°u táº­p. Hiá»‡n táº¡i chÃºng tÃ´i váº«n trÃ¬nh bÃ y táº¥t cáº£ cÃ¡c pháº§n tá»­ trong má»™t bá»™ sÆ°u táº­p, vÃ  thá»±c nghiá»‡m nÃ³ hoáº¡t Ä‘á»™ng tá»‘t vá»›i cÃ¡c benchmark nhÆ° Mbpp-R vÃ  HeFix+. Tuy nhiÃªn, cÃ³ thá»ƒ cáº§n cÃ¡c heuristic nháº¥t Ä‘á»‹nh Ä‘á»ƒ bá» qua cÃ¡c pháº§n tá»­ nháº¥t Ä‘á»‹nh (vÃ­ dá»¥: nhÆ° cÃ¡i chÃºng tÃ´i sá»­ dá»¥ng Ä‘á»ƒ bá» qua cÃ¡c tráº¡ng thÃ¡i nháº¥t Ä‘á»‹nh trong vÃ²ng láº·p) Ä‘á»ƒ hiá»‡u quáº£ hÆ¡n vá» token. Äá»‘i vá»›i cÃ¡c Ä‘á»‘i tÆ°á»£ng phá»©c táº¡p hÆ¡n (vÃ­ dá»¥: Tensor, DataFrame), trong khi chÃºng ta cÃ³ thá»ƒ Ä‘á»‹nh nghÄ©a heuristic Ä‘á»ƒ Ä‘áº¡i diá»‡n cho cÃ¡c thuá»™c tÃ­nh chÃ­nh cá»§a nhá»¯ng Ä‘á»‘i tÆ°á»£ng Ä‘Ã³ trong dáº¥u váº¿t (vÃ­ dá»¥: "má»™t tensor float cÃ³ shape 128 x 64", "má»™t Dataframe vá»›i cÃ¡c cá»™t Name, Math, ..."), cÃ³ láº½ má»™t Ã½ tÆ°á»Ÿng thÃº vá»‹ hÆ¡n sáº½ lÃ  Ä‘á»ƒ cÃ¡c mÃ´ hÃ¬nh quyáº¿t Ä‘á»‹nh thuá»™c tÃ­nh nÃ o chÃºng sáº½ kiá»ƒm tra vÃ  táº¡o mÃ£ liÃªn quan (vÃ­ dá»¥: "tensor.shape" hoáº·c "df.head(3)") Ä‘á»ƒ kiá»ƒm tra chÃºng trong debugger hoáº·c interpreter (vÃ­ dá»¥: pdb). Ã tÆ°á»Ÿng tÆ°Æ¡ng tá»± cÃ³ thá»ƒ Ä‘Æ°á»£c Ã¡p dá»¥ng cho cÃ¡c chÆ°Æ¡ng trÃ¬nh dÃ i hÆ¡n, vÃ¬ mÃ´ hÃ¬nh cÃ³ thá»ƒ quyáº¿t Ä‘á»‹nh cÃ³ chá»n lá»c dÃ²ng mÃ£ nÃ o Ä‘á»ƒ kiá»ƒm tra vÃ  táº¡o dáº¥u váº¿t cho, tÆ°Æ¡ng tá»± nhÆ° cÃ¡ch cÃ¡c nhÃ  phÃ¡t triá»ƒn con ngÆ°á»i gá»¡ lá»—i chÆ°Æ¡ng trÃ¬nh. ChÃºng tÃ´i sáº½ Ä‘á»ƒ láº¡i nhá»¯ng hÆ°á»›ng tÆ°Æ¡ng lai thÃº vá»‹ nÃ y.

18

--- TRANG 19 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

PhÆ°Æ¡ng phÃ¡p Sá»­ dá»¥ng Dáº¥u váº¿t Äá»‹nh dáº¡ng LÃ½ luáº­n Tinh chá»‰nh MÃ´ hÃ¬nh
NExT Äáº§u vÃ o NgÃ´n ngá»¯ Tá»± nhiÃªn CÃ³
Scratchpad (Nye et al., 2021) Äáº§u ra Äáº¡i diá»‡n Scratchpad CÃ³
Self-Debugging (Chen et al., 2023) Äáº§u ra NgÃ´n ngá»¯ Tá»± nhiÃªn KhÃ´ng

Báº£ng 6|So sÃ¡nh giá»¯a cÃ¡c phÆ°Æ¡ng phÃ¡p Ä‘Æ°á»£c Ä‘á» xuáº¥t trong NE xT, Scratchpad, vÃ  Self-Debugging.

Äáº¡i diá»‡n Dáº¥u váº¿t NgÆ°á»¡ng Äá»™ dÃ i (# Token)
128 256 512 1,024 2,048 4,096 8,192 16,384
Ná»™i tuyáº¿n (cá»§a chÃºng tÃ´i) 0.1% 7.3% 37.5% 78.9% 95.1% 98.5% 99.2% 99.5%
Scratchpad 0.0% 0.2% 15.1% 38.2% 60.1% 76.1% 85.1% 92.1%

Báº£ng 7|Tá»· lá»‡ pháº§n trÄƒm cÃ¡c vÃ­ dá»¥ Mbpp-R cÃ³ thá»ƒ vá»«a vÃ o cÃ¡c cá»­a sá»• ngá»¯ cáº£nh khÃ¡c nhau sá»­ dá»¥ng cÃ¡c Ä‘áº¡i diá»‡n dáº¥u váº¿t khÃ¡c nhau (tá»©c lÃ  cá»§a chÃºng tÃ´i vÃ  Nye et al. (2021)). Dáº¥u váº¿t cá»§a cáº£ ba kiá»ƒm tra Ä‘Æ°á»£c bao gá»“m.

A.2. Chi tiáº¿t cho Tá»± huáº¥n luyá»‡n Láº·p

Khá»Ÿi táº¡o lÃ½ luáº­n vÃ  sá»­a chá»¯a thÃ´ng qua láº¥y máº«u nhiá»‡t Ä‘á»™. Äá»ƒ trÃ¡nh váº¥n Ä‘á» "khá»Ÿi Ä‘á»™ng láº¡nh" tiá»m nÄƒng (Liang et al., 2018; Ni et al., 2020), cho láº§n láº·p Ä‘áº§u tiÃªn, chÃºng tÃ´i sá»­ dá»¥ng prompting Ã­t máº«u vá»›i ba exemplar (Ä‘Æ°á»£c hiá»ƒn thá»‹ trong Phá»¥ lá»¥c E) vÃ  Ä‘áº·t kÃ­ch thÆ°á»›c máº«u lÃ  96. Äá»‘i vá»›i táº¥t cáº£ cÃ¡c láº§n láº·p sau, chÃºng tÃ´i sá»­ dá»¥ng prompting zero-shot vÃ¬ mÃ´ hÃ¬nh Ä‘Ã£ Ä‘Æ°á»£c Ä‘iá»u chá»‰nh theo phong cÃ¡ch cá»§a lÃ½ luáº­n vÃ  sá»­a chá»¯a sau vÃ²ng tinh chá»‰nh Ä‘áº§u tiÃªn, vÃ  chÃºng tÃ´i Ä‘áº·t kÃ­ch thÆ°á»›c máº«u lÃ  32. ChÃºng tÃ´i Ä‘áº·t nhiá»‡t Ä‘á»™ láº¥y máº«u ğ‘‡=0.8 cho táº¥t cáº£ cÃ¡c láº§n láº·p.

Lá»c lÃ½ luáº­n vÃ  sá»­a chá»¯a. ÄÆ°á»£c cung cáº¥p cÃ¡c Ä‘áº§u vÃ o trong prompt, chÃºng tÃ´i láº¥y máº«u lÃ½ luáº­n vÃ  sá»­a chá»¯a cÃ¹ng nhau. Äá»ƒ tÃ¡ch lÃ½ luáº­n ngÃ´n ngá»¯ tá»± nhiÃªn vÃ  sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh, chÃºng tÃ´i sá»­ dá»¥ng biá»ƒu thá»©c chÃ­nh quy trong Python Ä‘á»ƒ trÃ­ch xuáº¥t ná»™i dung giá»¯a hai bá»™ ba dáº¥u backtick (```), thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ chÃº thÃ­ch cÃ¡c khá»‘i mÃ£ trong markdown.6 Sau khi chÃºng tÃ´i lá»c ra cÃ¡c lÃ½ luáº­n vÃ  sá»­a chá»¯a khÃ´ng chÃ­nh xÃ¡c sá»­ dá»¥ng cÃ¡c trÆ°á»ng há»£p kiá»ƒm tra, chÃºng tÃ´i táº¡o táº­p huáº¥n luyá»‡n báº±ng cÃ¡ch láº¥y máº«u con cÃ¡c cáº·p "(lÃ½ luáº­n, sá»­a chá»¯a)" chÃ­nh xÃ¡c Ä‘á»ƒ cho phÃ©p tá»‘i Ä‘a 3 sá»­a chá»¯a chÃ­nh xÃ¡c vá»›i lÃ½ luáº­n cá»§a chÃºng cho má»—i váº¥n Ä‘á» trong Mbpp-R. Äiá»u nÃ y lÃ  Ä‘á»ƒ cÃ¢n báº±ng sá»‘ lÆ°á»£ng lÃ½ luáº­n vÃ  sá»­a chá»¯a cho má»—i váº¥n Ä‘á» vÃ  trÃ¡nh cÃ¡c vÃ­ dá»¥ tá»« má»™t sá»‘ vÃ­ dá»¥ nháº¥t Ä‘á»‹nh (thÆ°á»ng lÃ  nhá»¯ng vÃ­ dá»¥ dá»… hÆ¡n) Ä‘Æ°á»£c Ä‘áº¡i diá»‡n quÃ¡ má»©c trong táº­p huáº¥n luyá»‡n.

A.3. Tháº£o luáº­n vá»›i CÃ´ng viá»‡c TrÆ°á»›c Ä‘Ã¢y

á» Ä‘Ã¢y chÃºng tÃ´i tháº£o luáº­n NE xT trong bá»‘i cáº£nh hai cÃ´ng viá»‡c quan trá»ng trÆ°á»›c Ä‘Ã¢y trong lÄ©nh vá»±c suy luáº­n vá» viá»‡c thá»±c thi chÆ°Æ¡ng trÃ¬nh, cá»¥ thá»ƒ lÃ  Scratchpad (Nye et al., 2021) vÃ  Self-Debugging Chen et al. (2023). So sÃ¡nh nhÆ° váº­y cÅ©ng Ä‘Æ°á»£c Ä‘áº·c trÆ°ng bá»Ÿi Báº£ng 6.

Scratchpad vÃ  NE xT. TÆ°Æ¡ng tá»± nhÆ° NE xT, Nye et al. (2021) cÅ©ng Ä‘á» xuáº¥t sá»­ dá»¥ng dáº¥u váº¿t thá»±c thi Ä‘á»ƒ giÃºp LLM suy luáº­n vá» viá»‡c thá»±c thi chÆ°Æ¡ng trÃ¬nh. Tuy nhiÃªn, Nye et al. (2021) nháº±m táº¡o ra nhá»¯ng dáº¥u váº¿t nÃ y nhÆ° cÃ¡c bÆ°á»›c suy luáº­n trung gian táº¡i thá»i gian suy luáº­n, thÃ´ng qua prompting Ã­t máº«u hoáº·c tinh chá»‰nh mÃ´ hÃ¬nh. NhÆ°ng trong NE xT, chÃºng tÃ´i sá»­ dá»¥ng dáº¥u váº¿t thá»±c thi nhÆ° má»™t pháº§n cá»§a Ä‘áº§u vÃ o cho LLM, Ä‘á»ƒ chÃºng cÃ³ thá»ƒ trá»±c tiáº¿p sá»­ dá»¥ng tráº¡ng thÃ¡i thá»±c thi Ä‘á»ƒ cá»§ng cá»‘ lÃ½ luáº­n ngÃ´n ngá»¯ tá»± nhiÃªn Ä‘Æ°á»£c táº¡o. HÆ¡n ná»¯a, chÃºng tÃ´i chá»n sá»­ dá»¥ng ngÃ´n ngá»¯ tá»± nhiÃªn nhÆ° Ä‘á»‹nh dáº¡ng chÃ­nh Ä‘á»ƒ suy luáº­n, linh hoáº¡t hÆ¡n vÃ  dá»… hiá»ƒu hÆ¡n cho cÃ¡c láº­p trÃ¬nh viÃªn con ngÆ°á»i. ChÃºng tÃ´i cÅ©ng thá»±c hiá»‡n so sÃ¡nh Ä‘á»™ dÃ i Ä‘áº¡i diá»‡n dáº¥u váº¿t ná»™i tuyáº¿n Ä‘Æ°á»£c Ä‘á» xuáº¥t cá»§a chÃºng tÃ´i vá»›i Ä‘áº¡i diá»‡n scratchpad Ä‘Æ°á»£c Ä‘á» xuáº¥t trong Báº£ng 7, vÃ  káº¿t quáº£ cho tháº¥y Ä‘áº¡i diá»‡n dáº¥u váº¿t ná»™i tuyáº¿n Ä‘Æ°á»£c Ä‘á» xuáº¥t cá»§a chÃºng tÃ´i nhá» gá»n hÆ¡n nhiá»u so vá»›i scratchpad.

Self-Debugging vÃ  NE xT. Self-Debugging (Chen et al., 2023) lÃ  má»™t phÆ°Æ¡ng phÃ¡p tinh tháº§n cÅ©ng thá»±c hiá»‡n suy luáº­n CoT qua viá»‡c thá»±c thi chÆ°Æ¡ng trÃ¬nh Ä‘á»ƒ xÃ¡c Ä‘á»‹nh lá»—i trong giáº£i phÃ¡p mÃ£. KhÃ¡c vá»›i NExT, Self-Debugging cÃ³ thá»ƒ tÃ¹y chá»n táº­n dá»¥ng thÃ´ng bÃ¡o lá»—i thá»±c thi cáº¥p cao Ä‘á»ƒ khá»Ÿi táº¡o suy luáº­n CoT, trong khi phÆ°Æ¡ng phÃ¡p cá»§a chÃºng tÃ´i huáº¥n luyá»‡n LLM suy luáº­n vá»›i dáº¥u váº¿t thá»±c thi cá»¥ thá»ƒ tá»«ng bÆ°á»›c. NgoÃ i ra, Self-Debugging cÅ©ng giá»›i thiá»‡u má»™t dáº¡ng lÃ½ luáº­n CoT cá»¥ thá»ƒ giá»‘ng nhÆ° dáº¥u váº¿t tá»«ng bÆ°á»›c báº±ng ngÃ´n ngá»¯ tá»± nhiÃªn. ÄÃ¡ng chÃº Ã½, nhá»¯ng lÃ½ luáº­n nhÆ° váº­y Ä‘Æ°á»£c táº¡o bá»Ÿi LLM Ä‘á»ƒ há»— trá»£ mÃ´ hÃ¬nh Ä‘á»‹nh vá»‹ lá»—i báº±ng cÃ¡ch mÃ´ phá»ng thá»±c thi theo cÃ¡ch tá»«ng bÆ°á»›c. ChÃºng khÃ´ng pháº£i lÃ  dáº¥u váº¿t thá»±c thi thá»±c sá»± Ä‘Æ°á»£c táº¡o báº±ng cÃ¡ch thá»±c sá»± cháº¡y chÆ°Æ¡ng trÃ¬nh. NhÆ° chÃºng tÃ´i Ä‘Ã£ tháº£o luáº­n trong Â§6, ngÆ°á»£c láº¡i, mÃ´ hÃ¬nh cá»§a chÃºng tÃ´i dá»±a vÃ o dáº¥u váº¿t hiá»‡n cÃ³ tá»« viá»‡c thá»±c thi chÆ°Æ¡ng trÃ¬nh. VÃ¬ nhá»¯ng dáº¥u váº¿t Ä‘Ã³ Ä‘Ã£ náº¯m báº¯t thÃ´ng tin thá»±c thi phong phÃº, trá»±c quan, lÃ½ luáº­n CoT káº¿t quáº£ trong NE xT cÃ³ thá»ƒ ngáº¯n gá»n hÆ¡n vÃ  "Ä‘Ãºng trá»ng tÃ¢m" mÃ  khÃ´ng cÃ³ cÃ¡c bÆ°á»›c suy luáº­n dÆ° thá»«a Ä‘á»ƒ "theo dÃµi" chÆ°Æ¡ng trÃ¬nh tá»«ng bÆ°á»›c bá»Ÿi chÃ­nh mÃ´ hÃ¬nh Ä‘á»ƒ khÃ´i phá»¥c thÃ´ng tin thá»±c thi há»¯u Ã­ch.

Cuá»‘i cÃ¹ng, chÃºng tÃ´i nháº­n xÃ©t ráº±ng thiáº¿t láº­p "Test w/o Trace" cá»§a chÃºng tÃ´i trong Â§5.1 chia sáº» tinh tháº§n tÆ°Æ¡ng tá»± vá»›i thiáº¿t láº­p trong Self-Debugging, vÃ¬ cáº£ hai phÆ°Æ¡ng phÃ¡p Ä‘á»u thá»±c hiá»‡n suy luáº­n CoT vá» thá»±c thi mÃ  khÃ´ng cÃ³ dáº¥u váº¿t thá»±c thi vÃ ng. Tá»« káº¿t quáº£ trong Báº£ng 3, NE xT cÅ©ng cáº£i thiá»‡n Ä‘Ã¡ng ká»ƒ kháº£ nÄƒng sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh cá»§a mÃ´ hÃ¬nh ngay cáº£ khi khÃ´ng sá»­ dá»¥ng dáº¥u váº¿t thá»±c thi vÃ ng táº¡i thá»i gian kiá»ƒm tra. Äiá»u nÃ y cÃ³ thá»ƒ gá»£i Ã½ ráº±ng NE xT cÃ³ thá»ƒ cáº£i thiá»‡n ká»¹ nÄƒng tá»± gá»¡ lá»—i cá»§a LLM thÃ´ng qua huáº¥n luyá»‡n láº·p, mÃ  chÃºng tÃ´i Ä‘á»ƒ láº¡i nhÆ° cÃ´ng viá»‡c tÆ°Æ¡ng lai thÃº vá»‹ Ä‘á»ƒ khÃ¡m phÃ¡.

B. Chi tiáº¿t Thiáº¿t láº­p ThÃ­ nghiá»‡m

B.1. Táº¡o Mbpp-R

Bá»™ dá»¯ liá»‡u Mbpp gá»‘c Austin et al. (2021) bao gá»“m ba pháº§n chia, tá»©c lÃ  táº­p train/dev/test cá»§a 374/90/500 váº¥n Ä‘á» láº­p trÃ¬nh Python. Äá»ƒ tÄƒng sá»‘ lÆ°á»£ng vÃ­ dá»¥ huáº¥n luyá»‡n, trÆ°á»›c tiÃªn chÃºng tÃ´i thá»±c hiá»‡n phÃ¢n chia láº¡i bá»™ dá»¯ liá»‡u Mbpp gá»‘c, báº±ng cÃ¡ch chuyá»ƒn má»™t ná»­a dá»¯ liá»‡u kiá»ƒm tra vÃ o pháº§n chia huáº¥n luyá»‡n, káº¿t quáº£ lÃ  624/90/250 váº¥n Ä‘á» trong bá»™ dá»¯ liá»‡u Ä‘Æ°á»£c phÃ¢n chia láº¡i. Sau Ä‘Ã³ Ä‘á»‘i vá»›i má»—i váº¥n Ä‘á» Mbpp trong táº­p train vÃ  dev Ä‘Æ°á»£c phÃ¢n chia láº¡i, chÃºng tÃ´i thu tháº­p má»™t táº­p cÃ¡c giáº£i phÃ¡p tháº¥t báº¡i tá»« Ä‘áº§u ra mÃ´ hÃ¬nh Ä‘Æ°á»£c phÃ¡t hÃ nh trong Ni et al. (2023). Cá»¥ thá»ƒ hÆ¡n, chÃºng tÃ´i láº¥y 100 máº«u cho má»—i váº¥n Ä‘á», lá»c ra nhá»¯ng giáº£i phÃ¡p chÃ­nh xÃ¡c, vÃ  giá»¯ láº¡i nhá»¯ng giáº£i phÃ¡p khÃ´ng vÆ°á»£t qua táº¥t cáº£ cÃ¡c kiá»ƒm tra. VÃ¬ cÃ¡c váº¥n Ä‘á» khÃ¡c nhau cÃ³ sá»‘ lÆ°á»£ng giáº£i phÃ¡p lá»—i khÃ¡c nhau, chÃºng tÃ´i cÃ¢n báº±ng Ä‘iá»u nÃ y báº±ng cÃ¡ch giá»¯ tá»‘i Ä‘a 20 giáº£i phÃ¡p lá»—i cho má»—i váº¥n Ä‘á» Mbpp.7 Äiá»u nÃ y mang láº¡i bá»™ dá»¯ liá»‡u Mbpp-R, vá»›i 10,047 nhiá»‡m vá»¥ sá»­a chá»¯a trong táº­p huáº¥n luyá»‡n vÃ  1,468 vÃ­ dá»¥ trong táº­p dev.

B.2. Sá»­ dá»¥ng trÆ°á»ng há»£p kiá»ƒm tra.

Äá»‘i vá»›i má»—i nhiá»‡m vá»¥ sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh, thÆ°á»ng cÃ³ má»™t táº­p cÃ¡c trÆ°á»ng há»£p kiá»ƒm tra má»Ÿ Ä‘Æ°á»£c sá»­ dá»¥ng cho má»¥c Ä‘Ã­ch gá»¡ lá»—i, cÅ©ng nhÆ° má»™t táº­p cÃ¡c trÆ°á»ng há»£p kiá»ƒm tra áº©n chá»‰ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ tÃ­nh chÃ­nh xÃ¡c. Khi chÃºng tÃ´i táº¡o dáº¥u váº¿t sá»­ dá»¥ng trÆ°á»ng há»£p kiá»ƒm tra, chÃºng tÃ´i chá»‰ sá»­ dá»¥ng cÃ¡c trÆ°á»ng há»£p kiá»ƒm tra má»Ÿ vÃ  chá»‰ cung cáº¥p cÃ¡c trÆ°á»ng há»£p kiá»ƒm tra má»Ÿ cho mÃ´ hÃ¬nh nhÆ° má»™t pháº§n cá»§a prompt. Sau Ä‘Ã³ khi chÃºng tÃ´i Ä‘Ã¡nh giÃ¡ sá»­a chá»¯a Ä‘Æ°á»£c táº¡o, chÃºng tÃ´i sá»­ dá»¥ng táº¥t cáº£ trÆ°á»ng há»£p kiá»ƒm tra (tá»©c lÃ  kiá»ƒm tra má»Ÿ + áº©n) vÃ  chá»‰ coi má»™t sá»­a chá»¯a lÃ  chÃ­nh xÃ¡c khi nÃ³ vÆ°á»£t qua táº¥t cáº£ trÆ°á»ng há»£p kiá»ƒm tra. Trong khi bá»™ dá»¯ liá»‡u HumanEval táº¡o sá»± phÃ¢n biá»‡t nÃ y giá»¯a trÆ°á»ng há»£p kiá»ƒm tra má»Ÿ vÃ  kiá»ƒm tra, bá»™ dá»¯ liá»‡u Mbpp khÃ´ng táº¡o sá»± phÃ¢n biá»‡t nhÆ° váº­y. Do Ä‘Ã³ Ä‘á»‘i vá»›i Mbpp-R, chÃºng tÃ´i sá»­ dá»¥ng táº¥t cáº£ trÆ°á»ng há»£p kiá»ƒm tra cáº£ lÃ m Ä‘áº§u vÃ o vÃ  trong quÃ¡ trÃ¬nh Ä‘Ã¡nh giÃ¡. Trong khi Ä‘iá»u nÃ y cÃ³ thá»ƒ dáº«n Ä‘áº¿n káº¿t quáº£ dÆ°Æ¡ng tÃ­nh giáº£ khi cÃ¡c sá»­a chá»¯a Ä‘Æ°á»£c overfitted vá»›i trÆ°á»ng há»£p kiá»ƒm tra, vÃ  chÃºng tÃ´i Ä‘Ã£ tÃ¬m tháº¥y trÆ°á»ng há»£p nhÆ° váº­y trong quÃ¡ trÃ¬nh chÃº thÃ­ch con ngÆ°á»i.

HÃ¬nh 5|HÆ°á»›ng dáº«n cho ngÆ°á»i chÃº thÃ­ch con ngÆ°á»i khi chÃº thÃ­ch cháº¥t lÆ°á»£ng lÃ½ luáº­n Ä‘Æ°á»£c táº¡o bá»Ÿi mÃ´ hÃ¬nh.

21

--- TRANG 22 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

B.3. Chi tiáº¿t ChÃº thÃ­ch Con ngÆ°á»i vá» Cháº¥t lÆ°á»£ng LÃ½ luáº­n

ChÃºng tÃ´i chÃº thÃ­ch dá»± Ä‘oÃ¡n mÃ´ hÃ¬nh trÃªn 104 nhiá»‡m vá»¥ sá»­a chá»¯a Mbpp-R Ä‘Æ°á»£c láº¥y máº«u tá»« táº­p Dev. Nhá»¯ng nhiá»‡m vá»¥ sá»­a chá»¯a Ä‘Ã³ Ä‘Æ°á»£c láº¥y máº«u ngáº«u nhiÃªn trong khi Ä‘áº£m báº£o ráº±ng chÃºng bao phá»§ táº¥t cáº£ 90 váº¥n Ä‘á» dev Mbpp. Táº¥t cáº£ cÃ¡c nhiá»‡m vá»¥ Ä‘Æ°á»£c sÃ ng lá»c trÆ°á»›c Ä‘á»ƒ lÃ  cÃ¡c váº¥n Ä‘á» sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh há»£p lá»‡. ChÃº thÃ­ch Ä‘Æ°á»£c thá»±c hiá»‡n trong thiáº¿t láº­p side-by-side ba chiá»u. CÃ¡c mÃ´ hÃ¬nh Ä‘Æ°á»£c áº©n danh vÃ  thá»© tá»± cá»§a chÃºng Ä‘Æ°á»£c ngáº«u nhiÃªn hÃ³a. NgÆ°á»i Ä‘Ã¡nh giÃ¡ Ä‘Æ°á»£c yÃªu cáº§u Ä‘Ã¡nh giÃ¡ cháº¥t lÆ°á»£ng lÃ½ luáº­n tá»« ba mÃ´ hÃ¬nh (PaLM 2-L +NExT, PaLM 2-L vÃ  GPT-3.5) trÃªn cÃ¹ng má»™t váº¥n Ä‘á» Mbpp-R. Má»—i lÃ½ luáº­n Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡ tá»« hai khÃ­a cáº¡nh: (1) tÃ­nh há»¯u Ã­ch trong viá»‡c giáº£i thÃ­ch lá»—i (ğ‘„1: LÃ½ luáº­n cÃ³ giáº£i thÃ­ch chÃ­nh xÃ¡c lá»—i trong mÃ£ gá»‘c khÃ´ng? vÃ­ dá»¥: hai Ä‘oáº¡n Ä‘áº§u trong Ë†ğ‘Ÿ, HÃ¬nh 1), vÃ  (2) tÃ­nh há»¯u Ã­ch trong viá»‡c Ä‘á» xuáº¥t sá»­a chá»¯a mÃ£ (ğ‘„2: LÃ½ luáº­n cÃ³ Ä‘á» xuáº¥t sá»­a chá»¯a chÃ­nh xÃ¡c vÃ  há»¯u Ã­ch khÃ´ng? vÃ­ dá»¥: "má»™t phiÃªn báº£n Ä‘Ã£ sá»­a sá»­ dá»¥ng ..." trong Ë†ğ‘Ÿ, HÃ¬nh 1).8 Má»—i cÃ¢u há»i cÃ³ cÃ¢u tráº£ lá»i ba thang Ä‘o (
 HoÃ n toÃ n chÃ­nh xÃ¡c vÃ  ráº¥t há»¯u Ã­ch;
 Má»™t pháº§n chÃ­nh xÃ¡c vá»›i lá»—i nhá» nhÆ°ng váº«n há»¯u Ã­ch;
 KhÃ´ng chÃ­nh xÃ¡c vÃ  khÃ´ng há»¯u Ã­ch). Trong má»™t nghiÃªn cá»©u thÃ­ Ä‘iá»ƒm, chÃºng tÃ´i tháº¥y ráº±ng cÃ¡c Ä‘á» xuáº¥t sá»­a chá»¯a thÆ°á»ng cÃ³ thá»ƒ dÆ° thá»«a náº¿u lÃ½ luáº­n Ä‘Ã£ chá»©a giáº£i thÃ­ch chi tiáº¿t vá» lá»—i sao cho nhÃ  phÃ¡t triá»ƒn cÃ³ thá»ƒ dá»… dÃ ng sá»­a mÃ£ mÃ  khÃ´ng cáº§n Ä‘á» xuáº¥t sá»­a chá»¯a rÃµ rÃ ng (vÃ­ dá»¥: VÃ­ dá»¥ 2, Phá»¥ lá»¥c D). Do Ä‘Ã³, Ä‘á»‘i vá»›i ğ‘„2, chÃºng tÃ´i cÅ©ng coi nhá»¯ng trÆ°á»ng há»£p nhÆ° váº­y lÃ  chÃ­nh xÃ¡c (
) náº¿u má»™t mÃ´ hÃ¬nh khÃ´ng Ä‘á» xuáº¥t sá»­a chá»¯a trong lÃ½ luáº­n cá»§a nÃ³ nhÆ°ng sá»­a chá»¯a rÃµ rÃ ng sau giáº£i thÃ­ch lá»—i. ChÃºng tÃ´i liá»‡t kÃª hÆ°á»›ng dáº«n chÃº thÃ­ch cá»§a chÃºng tÃ´i trong HÃ¬nh 5. LÆ°u Ã½ ráº±ng Ä‘á»‘i vá»›i ğ‘„2, cáº£ cÃ¢u tráº£ lá»i (1) vÃ  (3) Ä‘á»u Ä‘Æ°á»£c tÃ­nh lÃ  cÃ¢u tráº£ lá»i chÃ­nh xÃ¡c (
).

C. Káº¿t quáº£ ThÃ­ nghiá»‡m Bá»• sung

á» Ä‘Ã¢y chÃºng tÃ´i hiá»ƒn thá»‹ Ä‘Æ°á»ng cong há»c cá»§a NE xT vÃ  táº¥t cáº£ cÃ¡c ablation cá»§a nÃ³ trong HÃ¬nh 6. ChÃºng tÃ´i cÅ©ng hiá»ƒn thá»‹ káº¿t quáº£ Ä‘áº§y Ä‘á»§ cho Mbpp-R vÃ  HeFix+ láº§n lÆ°á»£t trong Báº£ng 8 vÃ  Báº£ng 9.

Há»c lÃ½ luáº­n CoT cáº£i thiá»‡n thÃªm pass@25. Tá»« Â§5.1, chÃºng tÃ´i Ä‘á» cáº­p ráº±ng há»c suy luáº­n báº±ng ngÃ´n ngá»¯ tá»± nhiÃªn cáº£i thiá»‡n tÃ­nh Ä‘a dáº¡ng máº«u, Ä‘Äƒng kÃ½ pass@10 cao hÆ¡n so vá»›i baseline tinh chá»‰nh chá»‰ Ä‘á»ƒ táº¡o sá»­a chá»¯a (NExT w/o Rationale). Tá»« Báº£ng 8 vÃ  Báº£ng 9, chÃºng ta cÃ³ thá»ƒ quan sÃ¡t ráº±ng lá»£i tháº¿ hiá»‡u suáº¥t nhÆ° váº­y tháº­m chÃ­ lá»›n hÆ¡n vá»›i pass@25, vá»›i cáº£i thiá»‡n 7.6% trÃªn Mbpp-R vÃ  6.8% trÃªn HeFix+.

Huáº¥n luyá»‡n chá»‰ trÃªn cÃ¡c vÃ­ dá»¥ khÃ³. Má»™t pháº§n cá»§a pipeline lá»c dá»¯ liá»‡u cá»§a chÃºng tÃ´i lÃ  chá»‰ thá»±c hiá»‡n láº¥y máº«u vÃ  huáº¥n luyá»‡n trÃªn cÃ¡c máº«u tá»« váº¥n Ä‘á» khÃ³ (Â§4). á» Ä‘Ã¢y chÃºng tÃ´i tháº£o luáº­n thÃªm vá» lá»£i Ã­ch vÃ  váº¥n Ä‘á» tiá»m nÄƒng cá»§a viá»‡c lÃ m nhÆ° váº­y, báº±ng cÃ¡ch trÃ¬nh bÃ y káº¿t quáº£ trÃªn má»™t ablation "w/o hard-only", nÆ¡i mÃ´ hÃ¬nh há»c tá»« lÃ½ luáº­n vÃ  sá»­a chá»¯a tá»« cáº£ vÃ­ dá»¥ khÃ³ vÃ  dá»…. Vá» hiá»‡u quáº£, báº±ng cÃ¡ch chá»‰ láº¥y máº«u trÃªn vÃ­ dá»¥ khÃ³, khoáº£ng má»™t ná»­a sá»‘ váº¥n Ä‘á», chÃºng ta cÃ³ thá»ƒ tÄƒng tá»‘c Ä‘Ã¡ng ká»ƒ quÃ¡ trÃ¬nh láº¥y máº«u. VÃ  tá»« káº¿t quáº£ trong HÃ¬nh 6, chá»‰ huáº¥n luyá»‡n vá»›i vÃ­ dá»¥ khÃ³ cÅ©ng mang láº¡i lá»£i Ã­ch hiá»‡u suáº¥t dÆ°á»›i framework tá»± huáº¥n luyá»‡n láº·p. Cá»¥ thá»ƒ hÆ¡n, chÃºng tÃ´i nháº­n tháº¥y má»™t khoáº£ng cÃ¡ch khÃ´ng táº§m thÆ°á»ng giá»¯a Ä‘Æ°á»ng cong huáº¥n luyá»‡n cá»§a baseline "w/o hard-only" nÃ y vÃ  pháº§n cÃ²n láº¡i cá»§a cÃ¡c ablation, Ä‘áº·c biá»‡t Ä‘á»‘i vá»›i hiá»‡u suáº¥t pass@10 vÃ  pass@25 trÃªn táº­p huáº¥n luyá»‡n. Äiá»u nÃ y cÃ³ nghÄ©a lÃ  mÃ´ hÃ¬nh Ä‘Æ°á»£c huáº¥n luyá»‡n trÃªn cáº£ vÃ­ dá»¥ dá»… vÃ  khÃ³ dáº«n Ä‘áº¿n nhiá»u váº¥n Ä‘á» hÆ¡n trong táº­p huáº¥n luyá»‡n khÃ´ng Ä‘Æ°á»£c giáº£i quyáº¿t (tá»©c lÃ  khÃ´ng cÃ³ máº«u nÃ o chÃ­nh xÃ¡c), vÃ  khÃ´ng cÃ³ tÃ­n hiá»‡u há»c nÃ o cÃ³ thá»ƒ Ä‘áº¿n tá»« nhá»¯ng váº¥n Ä‘á» nhÆ° váº­y. Äiá»u nÃ y cÅ©ng pháº£n Ã¡nh trÃªn hiá»‡u suáº¥t táº­p dev. Trong khi Ä‘Ã¡ng chÃº Ã½ ráº±ng hiá»‡u suáº¥t pass@1 end-to-end cho "w/o hard-only" hÆ¡i tá»‘t hÆ¡n NE xT chá»‰ Ä‘Æ°á»£c huáº¥n luyá»‡n trÃªn cÃ¡c vÃ­ dá»¥ khÃ³, nÃ³ hoáº¡t Ä‘á»™ng tá»‡ hÆ¡n trong táº¥t cáº£ cÃ¡c Ä‘Ã¡nh giÃ¡ khÃ¡c, vá»›i xu hÆ°á»›ng khoáº£ng cÃ¡ch lá»›n hÆ¡n vá»›i giÃ¡ trá»‹ ğ‘˜ cao hÆ¡n cho pass@ğ‘˜, Ä‘áº·c biá»‡t Ä‘á»‘i vá»›i Ä‘Ã¡nh giÃ¡ dá»±a proxy. Äiá»u nÃ y cho tháº¥y ráº±ng huáº¥n luyá»‡n trÃªn cÃ¡c vÃ­ dá»¥ khÃ³ khÃ´ng chá»‰ cáº£i thiá»‡n hiá»‡u quáº£ máº«u, mÃ  cÃ²n cáº£i thiá»‡n tá»· lá»‡ sá»­a chá»¯a tá»•ng quÃ¡t cÅ©ng nhÆ° cháº¥t lÆ°á»£ng lÃ½ luáº­n Ä‘Æ°á»£c táº¡o.

22

--- TRANG 23 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

Pass@1Pass@5Pass@10Pass@25Train
Dev -E2E Fix Rate
Dev -ProxyFix Rate102030405060708090100
02468
102030405060
02468
010203040
02468405060708090100
02468
4050607080
02468
2030405060
02468405060708090100
02468
4050607080
02468
3040506070
024685060708090100
02468
5060708090
02468
4050607080
02468

HÃ¬nh 6|Hiá»‡u suáº¥t pass@ğ‘˜ trÃªn táº­p train vÃ  dev cá»§a Mbpp-R cho NE xT vÃ  táº¥t cáº£ cÃ¡c ablation cá»§a nÃ³.

Káº¿t quáº£ Ä‘Ã¡nh giÃ¡ dá»±a proxy nháº¥t quÃ¡n vá»›i cÃ¡c mÃ´ hÃ¬nh proxy khÃ¡c nhau. Trong Ä‘Ã¡nh giÃ¡ dá»±a proxy trÆ°á»›c Ä‘Ã¢y Â§5.1, chÃºng tÃ´i bÃ¡o cÃ¡o tá»· lá»‡ sá»­a chá»¯a dá»±a proxy báº±ng cÃ¡ch láº¥y trung bÃ¬nh trÃªn hiá»‡u suáº¥t sá»­ dá»¥ng PaLM 2-S vÃ  PaLM 2-Sâˆ— lÃ m mÃ´ hÃ¬nh proxy. Trong Báº£ng 8 vÃ  Báº£ng 9, chÃºng tÃ´i hiá»ƒn thá»‹ káº¿t quáº£ tÃ¡ch biá»‡t cho cÃ¡c mÃ´ hÃ¬nh proxy khÃ¡c nhau. Tá»« nhá»¯ng káº¿t quáº£ nÃ y, chÃºng ta cÃ³ thá»ƒ quan sÃ¡t ráº±ng cháº¥t lÆ°á»£ng lÃ½ luáº­n tÆ°Æ¡ng Ä‘á»‘i Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡ bá»Ÿi cÃ¡c mÃ´ hÃ¬nh proxy khÃ¡c nhau pháº§n lá»›n nháº¥t quÃ¡n, vá»›i mÃ´ hÃ¬nh proxy máº¡nh hÆ¡n (PaLM 2-Sâˆ—) cÃ³ tá»· lá»‡ sá»­a chá»¯a dá»±a proxy tá»‘t hÆ¡n. NgoÃ i tÃ­nh nháº¥t quÃ¡n mÃ  chÃºng tÃ´i hiá»ƒn thá»‹ vá»›i chÃº thÃ­ch con ngÆ°á»i, Ä‘iá»u nÃ y cho tháº¥y tÃ­nh máº¡nh máº½ cá»§a phÆ°Æ¡ng phÃ¡p Ä‘Ã¡nh giÃ¡ dá»±a proxy Ä‘Æ°á»£c Ä‘á» xuáº¥t cá»§a chÃºng tÃ´i Ä‘á»ƒ Ä‘o lÆ°á»ng cháº¥t lÆ°á»£ng lÃ½ luáº­n CoT.

D. NghiÃªn cá»©u TrÆ°á»ng há»£p

Trong pháº§n nÃ y chÃºng tÃ´i trÃ¬nh bÃ y má»™t táº­p cÃ¡c vÃ­ dá»¥ Ä‘á»ƒ thá»ƒ hiá»‡n cÃ¡ch PaLM 2-L +NExT suy luáº­n vá»›i viá»‡c thá»±c thi chÆ°Æ¡ng trÃ¬nh Ä‘á»ƒ giáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» Mbpp-R. ChÃºng tÃ´i khÃ¡m phÃ¡ má»™t sá»‘ máº«u suy luáº­n mÃ  mÃ´ hÃ¬nh thá»ƒ hiá»‡n táº­n dá»¥ng thÃ´ng tin dáº¥u váº¿t Ä‘á»ƒ xÃ¡c Ä‘á»‹nh vÃ  giáº£i thÃ­ch lá»—i trong chÆ°Æ¡ng trÃ¬nh. Äáº§u tiÃªn, nhÆ° Ä‘Æ°á»£c hiá»ƒn thá»‹ trong VÃ­ dá»¥ 1, mÃ´ hÃ¬nh cÃ³ thá»ƒ tham chiáº¿u Ä‘áº¿n ngoáº¡i lá»‡ hoáº·c thÃ´ng bÃ¡o lá»—i trong dáº¥u váº¿t (vÃ­ dá»¥ trong Dáº¥u váº¿t 2) Ä‘á»ƒ giáº£i thÃ­ch lá»—i trong mÃ£. Tiáº¿p theo, VÃ­ dá»¥ 2 cho tháº¥y ráº±ng mÃ´ hÃ¬nh cÅ©ng cÃ³ thá»ƒ táº­n dá»¥ng tráº¡ng thÃ¡i biáº¿n trong dáº¥u váº¿t (vÃ­ dá»¥: trong Dáº¥u váº¿t 2) vÃ  so sÃ¡nh chÃºng vá»›i giÃ¡ trá»‹ mong Ä‘á»£i Ä‘á»ƒ Ä‘á»‹nh vá»‹ nguyÃªn nhÃ¢n lá»—i. BÃªn cáº¡nh Ä‘Ã³, cÃ¡c chÃº thÃ­ch NO_CHANGE cho cÃ¡c biáº¿n cÃ³ giÃ¡ trá»‹ Ä‘Æ°á»£c báº£o tá»“n sau khi thá»±c thi má»™t bÆ°á»›c cÅ©ng cÃ³ thá»ƒ giÃºp mÃ´ hÃ¬nh giáº£i thÃ­ch quÃ¡ trÃ¬nh thá»±c thi trong lÃ½ luáº­n (vÃ­ dá»¥: (3)NO_CHANGEâ†¦â†’ "danh sÃ¡ch con Ä‘áº§u tiÃªn Ä‘Ã£ Ä‘Æ°á»£c sáº¯p xáº¿p"). CÃ³ láº½ má»™t tÃ¬nh huá»‘ng thÃº vá»‹ hÆ¡n lÃ  khi mÃ´ hÃ¬nh suy luáº­n qua nhiá»u bÆ°á»›c tÃ­nh toÃ¡n Ä‘á»ƒ theo dÃµi nguyÃªn nhÃ¢n lá»—i. Trong VÃ­ dá»¥ 3, mÃ´ hÃ¬nh cá»‘ gáº¯ng theo dÃµi viá»‡c tÃ­nh toÃ¡n cá»§a cÃ¡c bÆ°á»›c 2 - 4 trong Dáº¥u váº¿t 1 Ä‘á»ƒ giáº£i thÃ­ch táº¡i sao tá»•ng lÃ  má»™t sá»‘ thá»±c thay vÃ¬ sá»‘ nguyÃªn. Má»™t vÃ­ dá»¥ khÃ¡c lÃ  VÃ­ dá»¥ 4, nÆ¡i mÃ´ hÃ¬nh tÃ³m táº¯t cÃ¡c láº§n láº·p vÃ²ng láº·p trong
23

--- TRANG 24 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

MÃ´ hÃ¬nhTá»· lá»‡ Sá»­a chá»¯a End-to-End Tá»· lá»‡ Sá»­a chá»¯a dá»±a Proxy (PaLM 2â€“S) Tá»· lá»‡ Sá»­a chá»¯a dá»±a Proxy (PaLM 2â€“Sâˆ—)
GD pass@ğ‘˜w/ Sampling GD pass@ğ‘˜w/ Sampling GD pass@ğ‘˜w/ Sampling
Acc.ğ‘˜=1ğ‘˜=5ğ‘˜=10ğ‘˜=25 Acc. ğ‘˜=1ğ‘˜=5ğ‘˜=10ğ‘˜=25 Acc. ğ‘˜=1ğ‘˜=5ğ‘˜=10ğ‘˜=25
GPTâ€“3.5 46.4 42.9 65.0 70.7 76.7 27.9 24.7 46.1 54.5 64.6 31.8 28.5 51.5 59.5 68.2
GPTâ€“3.5 w/o trace 47.1 46.8 65.9 70.7 75.7 27.2 25.6 47.0 55.5 64.7 30.9 30.2 53.0 60.7 68.8
GPTâ€“4 62.8 63.2 75.1 78.5 82.7 41.8 42.2 64.5 71.0 76.6 47.8 47.4 68.5 73.9 79.0
GPTâ€“4 w/o trace 51.3 44.8 68.5 73.4 78.5 29.4 27.1 54.2 63.4 72.2 34.9 32.0 60.3 68.5 75.7
PaLM 2-L 26.6 23.2 45.7 54.7 65.0 21.5 21.1 41.1 49.5 59.2 24.9 23.9 45.8 54.3 63.8
PaLM 2-L w/o trace 19.0 16.3 42.1 52.8 64.8 14.7 13.7 33.9 44.1 56.7 17.4 15.9 38.3 48.9 61.6
PaLM 2-L w/o rationale 27.5 25.7 44.5 51.7 60.0 â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“
PaLM 2-L w/o rationale + trace 23.8 23.1 45.8 54.6 64.5 â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“
NExT 50.5 49.3 68.1 73.5 79.4 25.3 26.1 46.8 54.4 62.9 31.8 31.6 53.0 60.2 68.1
test w/o trace 41.1 40.8 61.8 68.9 76.4 17.6 17.5 35.6 43.5 53.4 21.0 21.5 42.2 50.6 60.1
NExT w/o hardâ€“only 52.9 52.1 65.0 68.8 73.4 23.5 25.1 38.6 44.0 50.9 30.0 29.7 44.1 49.7 55.9
test w/o trace 41.9 42.2 58.1 63.2 69.2 16.3 17.8 32.1 37.9 45.0 18.7 21.0 36.7 43.0 50.5
NExT w/o rationale 51.8 51.1 63.9 67.9 71.8 â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“
test w/o trace 43.7 43.0 57.2 61.7 66.3 â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“
NExT w/o trace 44.5 44.1 63.0 68.5 75.0 22.3 21.8 42.3 50.1 59.2 25.9 25.9 48.0 55.4 63.2
NExT w/o rationale w/o trace 46.3 44.9 58.9 63.2 67.8 â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“

Báº£ng 8|Káº¿t quáº£ Ä‘áº§y Ä‘á»§ trÃªn Mbpp-R. "GD Acc." biá»ƒu thá»‹ pass@1 Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡ vá»›i giáº£i mÃ£ tham lam. Táº¥t cáº£ cÃ¡c mÃ´ hÃ¬nh trong ná»­a trÃªn Ä‘Æ°á»£c prompt Ã­t máº«u trong khi ná»­a dÆ°á»›i hiá»ƒn thá»‹ káº¿t quáº£ cá»§a NE xT vÃ  cÃ¡c ablation cá»§a nÃ³.

MÃ´ hÃ¬nhTá»· lá»‡ Sá»­a chá»¯a End-to-End Tá»· lá»‡ Sá»­a chá»¯a dá»±a Proxy (PaLM 2â€“S) Tá»· lá»‡ Sá»­a chá»¯a dá»±a Proxy (PaLM 2â€“Sâˆ—)
GD pass@ğ‘˜w/ Sampling GD pass@ğ‘˜w/ Sampling GD pass@ğ‘˜w/ Sampling
Acc.ğ‘˜=1ğ‘˜=5ğ‘˜=10ğ‘˜=25 Acc. ğ‘˜=1ğ‘˜=5ğ‘˜=10ğ‘˜=25 Acc. ğ‘˜=1ğ‘˜=5ğ‘˜=10ğ‘˜=25
GPT-3.5 68.9 59.4 84.5 89.2 93.0 42.1 39.0 66.1 73.4 80.2 46.3 44.6 71.6 78.8 86.8
GPT-3.5 w/o trace 65.2 65.4 85.3 89.2 92.6 45.7 41.7 68.2 76.3 84.5 50.0 47.2 73.8 81.1 88.6
GPT-4 79.9 77.6 89.3 91.1 92.9 56.1 55.4 75.7 80.8 85.8 61.0 57.7 77.5 82.7 87.4
GPT-4 w/o trace 79.3 68.9 88.3 90.7 92.9 54.9 46.1 72.3 79.0 86.1 59.8 48.7 74.4 80.8 87.5
PaLM 2-L 43.3 32.2 64.3 73.8 81.5 32.9 28.9 59.0 69.2 79.1 43.3 34.9 65.8 74.3 82.9
PaLM 2-L w/o trace 38.4 30.3 61.9 72.9 83.3 25.6 27.8 56.2 66.0 76.6 31.1 33.0 63.5 72.7 81.8
PaLM 2-L w/o rationale 53.0 45.3 71.5 78.9 85.4 â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“
PaLM 2-L w/o rationale + trace 48.2 43.2 71.4 80.0 87.7 â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“
NExT 46.3 42.5 62.6 69.1 76.5 31.7 34.8 54.8 62.4 70.2 40.9 41.3 61.8 68.9 76.4
test w/o trace 42.7 41.2 62.9 70.6 79.5 26.8 26.4 48.0 56.1 64.2 36.0 32.6 55.7 64.4 72.8
NExT w/o hard-only 48.8 47.7 64.8 70.4 76.6 32.9 37.2 50.8 55.5 61.9 41.5 42.4 56.3 60.8 66.9
test w/o trace 47.6 44.2 64.4 70.4 75.5 31.7 33.3 46.9 51.4 57.3 38.4 38.5 54.6 59.2 63.9
NExT w/o rationale 47.6 44.5 58.9 63.7 69.4 â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“
test w/o trace 46.3 44.7 60.4 65.2 70.2 â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“
NExT w/o trace 40.9 38.1 59.1 65.3 71.5 29.3 26.9 52.1 61.1 71.5 33.5 34.4 63.1 70.8 77.4
NExT w/o rationale w/o trace 30.5 31.4 44.6 49.0 54.1 â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“ â€“

Báº£ng 9|Káº¿t quáº£ Ä‘áº§y Ä‘á»§ trÃªn HeFix+. KÃ½ hiá»‡u tÆ°Æ¡ng tá»± tá»« Báº£ng 8 Ã¡p dá»¥ng.

cÃ¡c bÆ°á»›c 2 - 9 cá»§a Dáº¥u váº¿t 1 Ä‘á»ƒ giáº£i thÃ­ch nguyÃªn nhÃ¢n cá»§a pháº§n tá»­ cuá»‘i cÃ¹ng bá»‹ thiáº¿u trong danh sÃ¡ch káº¿t quáº£. ThÃº vá»‹ lÃ , trong khi mÃ´ hÃ¬nh cÃ³ thá»ƒ suy luáº­n qua nhiá»u bÆ°á»›c thá»±c thi trong lÃ½ luáº­n cá»§a nÃ³, khi chuá»—i suy luáº­n trá»Ÿ nÃªn dÃ i hÆ¡n, nÃ³ cÃ³ nhiá»u kháº£ nÄƒng chá»©a lá»—i logic nhá», nhÆ° Ä‘Æ°á»£c tÃ´ sÃ¡ng trong lÃ½ luáº­n cá»§a VÃ­ dá»¥ 3 vÃ  4.

BÃªn cáº¡nh lá»—i logic nhá» trong suy luáº­n CoT, chÃºng tÃ´i cÅ©ng xÃ¡c Ä‘á»‹nh má»™t sá»‘ cháº¿ Ä‘á»™ lá»—i rÃµ rá»‡t hÆ¡n. Äáº§u tiÃªn, ngay cáº£ khi lÃ½ luáº­n NL trÃ´ng há»£p lá»‡, sá»­a chá»¯a mÃ£ thá»±c táº¿ cÃ³ thá»ƒ khÃ´ng chÃ­nh xÃ¡c (VÃ­ dá»¥ 4). Thá»© hai, Ä‘á»‘i vá»›i cÃ¡c trÆ°á»ng há»£p cÃ³ nhiá»u lá»—i trong chÆ°Æ¡ng trÃ¬nh, mÃ´ hÃ¬nh cÃ³ thá»ƒ chá»‰ táº­p trung vÃ o cÃ¡c lá»—i rÃµ rÃ ng hÆ¡n trong quÃ¡ trÃ¬nh suy luáº­n (vÃ­ dá»¥: giáº£i thÃ­ch lÃ½ do IndexError trong Dáº¥u váº¿t 2 cá»§a VÃ­ dá»¥ 5), trong khi bá» qua cÃ¡c lá»—i tinh táº¿ khÃ¡c bá»‹ chÃ´n vÃ¹i trong dáº¥u váº¿t (vÃ­ dá»¥: Äáº§u ra khÃ´ng chÃ­nh xÃ¡c trong Dáº¥u váº¿t 1 vÃ  Dáº¥u váº¿t 3 gÃ¢y ra bá»Ÿi freq_arr Ä‘Æ°á»£c khá»Ÿi táº¡o báº±ng zero). Äiá»u nÃ y cÃ³ thá»ƒ Ä‘áº·c biá»‡t cÃ³ váº¥n Ä‘á» khi cÃ³ lá»—i áº©n khÃ´ng Ä‘Æ°á»£c ghi láº¡i trong dáº¥u váº¿t, cÃ³ thá»ƒ xáº£y ra khi má»™t chÆ°Æ¡ng trÃ¬nh lá»—i bá»‹ crash giá»¯a chá»«ng thá»±c thi vÃ  pháº§n cÃ²n láº¡i cá»§a mÃ£ khÃ´ng Ä‘Æ°á»£c bao phá»§ trong dáº¥u váº¿t. VÃ¬ mÃ´ hÃ¬nh cÃ³ thá»ƒ dá»±a nhiá»u hÆ¡n vÃ o thÃ´ng tin dáº¥u váº¿t sau tinh chá»‰nh, nÃ³ cÃ³ thá»ƒ dá»… bá» lá»¡ nhá»¯ng lá»—i ngáº§m nhÆ° váº­y hÆ¡n. VÃ­ dá»¥, trong VÃ­ dá»¥ 6 mÃ´ hÃ¬nh chá»‰ chÃº Ã½ Ä‘áº¿n TypeError trong dáº¥u váº¿t, mÃ  khÃ´ng phÃ¡t hiá»‡n ráº±ng mÃ£ tÃ­nh toÃ¡n chá»‰ sá»‘ cuá»‘i trong tuple Ä‘áº§u ra bá»‹ lá»‡ch má»™t.

24

--- TRANG 25 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

VÃ­ dá»¥ 1: Má»™t vÃ­ dá»¥ nÆ¡i mÃ´ hÃ¬nh cá»§a chÃºng tÃ´i giáº£i thÃ­ch ngoáº¡i lá»‡ trong dáº¥u váº¿t
Nhiá»‡m vá»¥: Viáº¿t má»™t hÃ m Ä‘á»ƒ loáº¡i bá» cÃ¡c sá»‘ 0 Ä‘áº§u tiÃªn tá»« má»™t Ä‘á»‹a chá»‰ ip
MÃ£ Lá»—i:
def removezero_ip(ip):
ip_list = ip.split(".")
for i in range(4):
ip_list[i] = str(int(ip_list[i]))
return ".".join(ip_list)
TrÆ°á»ng há»£p Kiá»ƒm tra:
assert removezero_ip("216.08.094.196")==('216.8.94.196')
assert removezero_ip("12.01.024")==('12.1.24')
assert removezero_ip("216.08.094.0196")==('216.8.94.196')
Dáº¥u váº¿t:
# Dáº¥u váº¿t 1:
def removezero_ip(ip): # (0) ip='216.08.094.196';
ip_list = ip.split(".") # (1) ip_list=['216','08','094','196'];
for i in range(4): # (2) i=0; (4) i=1; (6) i=2; ...; (10) NO_CHANGE;
ip_list[i] = str(int(ip_list[i])) # (3) NO_CHANGE; (5) ip_list=['216','8','094','196']; (7) ip_list
=['216','8','94','196']; (9) NO_CHANGE;
return ".".join(ip_list) # (11) __return__='216.8.94.196';
assert removezero_ip("216.08.094.196")==('216.8.94.196')
# Dáº¥u váº¿t 2:
def removezero_ip(ip): # (0) ip='12.01.024';
ip_list = ip.split(".") # (1) ip_list=['12','01','024'];
for i in range(4): # (2) i=0; (4) i=1; (6) i=2; (8) i=3;
ip_list[i] = str(int(ip_list[i])) # (3) NO_CHANGE; (5) ip_list=['12','1','024']; (7) ip_list=['12',
'1','24']; (9) __exception__ = IndexError('list index out of range')
return ".".join(ip_list)
assert removezero_ip("12.01.024")==('12.1.24')
# Dáº¥u váº¿t 3:
def removezero_ip(ip): # (0) ip='216.08.094.0196';
ip_list = ip.split(".") # (1) ip_list=['216','08','094','0196'];
for i in range(4): # (2) i=0; (4) i=1; (6) i=2; ...; (10) NO_CHANGE;
ip_list[i] = str(int(ip_list[i])) # (3) NO_CHANGE; (5) ip_list=['216','8','094','0196']; (7)
ip_list=['216','8','94','0196']; (9) ip_list=['216','8','94','196'];
return ".".join(ip_list) # (11) __return__='216.8.94.196';
assert removezero_ip("216.08.094.0196")==('216.8.94.196')
LÃ½ luáº­n vÃ  Giáº£i phÃ¡p MÃ£: (sá»­a chá»¯a mÃ£ Ä‘Ãºng
)
Äáº·c táº£ váº¥n Ä‘á» yÃªu cáº§u viáº¿t má»™t hÃ m Ä‘á»ƒ loáº¡i bá» cÃ¡c sá»‘ 0 Ä‘áº§u tiÃªn tá»« má»™t Ä‘á»‹a chá»‰ IP.
BÃ¢y giá» hÃ£y xem chÆ°Æ¡ng trÃ¬nh. ChÆ°Æ¡ng trÃ¬nh Ä‘áº§u tiÃªn chia Ä‘á»‹a chá»‰ IP thÃ nh má»™t danh sÃ¡ch cÃ¡c chuá»—i, sau Ä‘Ã³ láº·p qua danh sÃ¡ch Ä‘á»ƒ chuyá»ƒn Ä‘á»•i má»—i chuá»—i thÃ nh sá»‘ nguyÃªn, rá»“i trá»Ÿ láº¡i thÃ nh chuá»—i. Äiá»u nÃ y sáº½ loáº¡i bá» cÃ¡c sá»‘ 0 Ä‘áº§u tiÃªn. Tuy nhiÃªn, váº¥n Ä‘á» lÃ  nÃ³ láº·p qua danh sÃ¡ch 4 láº§n, nhÆ°ng Ä‘á»™ dÃ i cá»§a danh sÃ¡ch cÃ³ thá»ƒ khÃ´ng pháº£i lÃ  4. VÃ­ dá»¥, khi 'ip="12.01.024"', Ä‘á»™ dÃ i cá»§a danh sÃ¡ch chá»‰ lÃ  3. Do Ä‘Ã³ khi 'i=3', nÃ³ sáº½ nÃ©m má»™t 'IndexError'.
ÄÃ¢y lÃ  má»™t sá»­a chá»¯a Ä‘Æ¡n giáº£n:
def removezero_ip(ip):
ip_list = ip.split(".")
for i in range(len(ip_list)):
ip_list[i] = str(int(ip_list[i])).lstrip('0')
return ".".join(ip_list)

VÃ­ dá»¥ 2: Má»™t vÃ­ dá»¥ nÆ¡i mÃ´ hÃ¬nh cá»§a chÃºng tÃ´i sá»­ dá»¥ng tráº¡ng thÃ¡i biáº¿n Ä‘á»ƒ giáº£i quyáº¿t nhiá»‡m vá»¥
Nhiá»‡m vá»¥: Viáº¿t má»™t hÃ m Ä‘á»ƒ sáº¯p xáº¿p má»—i danh sÃ¡ch con chuá»—i trong má»™t danh sÃ¡ch cÃ¡c danh sÃ¡ch cho trÆ°á»›c

25

--- TRANG 26 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

def sort_sublists(words):
words.sort(key = len)
for w in words:
w.sort()
return words
TrÆ°á»ng há»£p Kiá»ƒm tra:
assert sort_sublists([['green','orange'], ['black','white'], ['white','black','orange']])==[['green','
orange'], ['black','white'], ['black','orange','white']]
assert sort_sublists([['green','orange'], ['black'], ['green','orange'], ['white']])==[['green','orange'], [
'black'], ['green','orange'], ['white']]
assert sort_sublists([['a','b'],['d','c'],['g','h'] , ['f','e']])==[['a','b'], ['c','d'], ['g','h'], ['e','
f']]
Dáº¥u váº¿t:
# Dáº¥u váº¿t 1:
def sort_sublists(words): # (0) words=[['green','orange'], ['black','white'], ['white','black','orange']];
words.sort(key = len) # (1) NO_CHANGE;
for w in words: # (2) w=['green','orange']; (4) w=['black','white']; (6) w=['white','black','orange'];
(8) NO_CHANGE;
w.sort() # (3) NO_CHANGE; (5) NO_CHANGE; (7) w=['black','orange','white'], words=[['green','orange
'], ['black','white'], ['black','orange','white']];
return words # (9) __return__=[['green','orange'], ['black','white'], ['black','orange','white']];
assert sort_sublists([['green','orange'], ['black','white'], ['white','black','orange']])==[['green','
orange'], ['black','white'], ['black','orange','white']]
# Dáº¥u váº¿t 2:
def sort_sublists(words): # (0) words=[['green','orange'], ['black'], ['green','orange'], ['white']];
words.sort(key = len) # (1) words=[['black'], ['white'], ['green', 'orange'], ['green', 'orange']];
for w in words: # (2) w=['black']; (4) w=['white']; (6) w=['green','orange']; ...; (10) NO_CHANGE;
w.sort() # (3) NO_CHANGE; (5) NO_CHANGE; (7) NO_CHANGE; (9) NO_CHANGE;
return words # (11) __return__=[['black'], ['white'], ['green','orange'], ['green','orange']];
assert sort_sublists([['green','orange'], ['black'], ['green','orange'], ['white']])==[['green','orange'], [
'black'], ['green','orange'], ['white']] # (12) __exception__ = AssertionError()
# Dáº¥u váº¿t 3:
def sort_sublists(words): # (0) words=[['a','b'], ['d','c'], ['g','h'], ['f','e']];
words.sort(key = len) # (1) NO_CHANGE;
for w in words: # (2) w=['a','b']; (4) w=['d','c']; (6) w=['g','h']; ...; (10) NO_CHANGE;
w.sort() # (3) NO_CHANGE; (5) w=['c','d'], words=[['a','b'], ['c','d'], ['g','h'], ['f','e']];
(7) NO_CHANGE; (9) w=['e','f'], words=[['a','b'], ['c','d'], ['g','h'], ['e','f']];
return words # (11) __return__=[['a','b'], ['c','d'], ['g','h'], ['e','f']];
assert sort_sublists([['a','b'],['d','c'],['g','h'] , ['f','e']])==[['a','b'], ['c','d'], ['g','h'], ['e','
f']]
LÃ½ luáº­n vÃ  Giáº£i phÃ¡p MÃ£: (sá»­a chá»¯a mÃ£ Ä‘Ãºng
)
Äáº·c táº£ váº¥n Ä‘á» yÃªu cáº§u sáº¯p xáº¿p má»—i danh sÃ¡ch con chuá»—i trong má»™t danh sÃ¡ch cÃ¡c danh sÃ¡ch cho trÆ°á»›c.
BÃ¢y giá» hÃ£y xem chÆ°Æ¡ng trÃ¬nh. ChÆ°Æ¡ng trÃ¬nh Ä‘áº§u tiÃªn sáº¯p xáº¿p danh sÃ¡ch cÃ¡c danh sÃ¡ch theo Ä‘á»™ dÃ i cá»§a má»—i danh sÃ¡ch con, sau Ä‘Ã³ sáº¯p xáº¿p má»—i danh sÃ¡ch con. Kháº³ng Ä‘á»‹nh Ä‘áº§u tiÃªn vÆ°á»£t qua vÃ¬ danh sÃ¡ch con Ä‘áº§u tiÃªn Ä‘Ã£ Ä‘Æ°á»£c sáº¯p xáº¿p, vÃ  danh sÃ¡ch con thá»© hai cÅ©ng Ä‘Æ°á»£c sáº¯p xáº¿p, vÃ  danh sÃ¡ch con thá»© ba Ä‘Æ°á»£c sáº¯p xáº¿p trong vÃ²ng for.
Kháº³ng Ä‘á»‹nh thá»© hai tháº¥t báº¡i vÃ¬ danh sÃ¡ch cÃ¡c danh sÃ¡ch Ä‘Æ°á»£c sáº¯p xáº¿p theo Ä‘á»™ dÃ i cá»§a má»—i danh sÃ¡ch con, vÃ  do Ä‘Ã³ giÃ¡ trá»‹ tráº£ vá» khÃ´ng giá»‘ng nhÆ° Ä‘áº§u vÃ o. Kháº³ng Ä‘á»‹nh thá»© ba vÆ°á»£t qua vÃ¬ danh sÃ¡ch con Ä‘áº§u tiÃªn vÃ  cuá»‘i cÃ¹ng Ä‘Ã£ Ä‘Æ°á»£c sáº¯p xáº¿p, vÃ  danh sÃ¡ch con thá»© hai vÃ  thá»© ba Ä‘Æ°á»£c sáº¯p xáº¿p trong vÃ²ng for.
Váº¥n Ä‘á» lÃ  chÆ°Æ¡ng trÃ¬nh sáº¯p xáº¿p danh sÃ¡ch cÃ¡c danh sÃ¡ch theo Ä‘á»™ dÃ i cá»§a má»—i danh sÃ¡ch con, Ä‘iá»u nÃ y khÃ´ng Ä‘Æ°á»£c yÃªu cáº§u bá»Ÿi Ä‘áº·c táº£ váº¥n Ä‘á». Do Ä‘Ã³ chÃºng ta cÃ³ thá»ƒ Ä‘Æ¡n giáº£n loáº¡i bá» dÃ²ng Ä‘áº§u tiÃªn cá»§a hÃ m.
ÄÃ¢y lÃ  mÃ£ Ä‘Ã£ sá»­a:
def sort_sublists(words):
for w in words:
w.sort()
return words

26

--- TRANG 27 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

VÃ­ dá»¥ 3: Má»™t vÃ­ dá»¥ nÆ¡i PaLM 2-L +NExT suy luáº­n qua nhiá»u bÆ°á»›c thá»±c thi
Nhiá»‡m vá»¥: Viáº¿t má»™t hÃ m Ä‘á»ƒ tÃ­nh tá»•ng cá»§a má»™t sá»‘ nguyÃªn khÃ´ng Ã¢m
MÃ£ Lá»—i:
def sum_digits(number):
sum = 0
while(number):
sum += number %
number = number / 10
return sum
TrÆ°á»ng há»£p Kiá»ƒm tra:
assert sum_digits(345)==12
assert sum_digits(12)==3
assert sum_digits(97)==16
Dáº¥u váº¿t:
# Dáº¥u váº¿t 1:
def sum_digits(number): # (0) number=345;
sum = 0 # (1) sum=0;
while(number):
sum += number %
number = number / 10 # (3) number=34.5; (5) number=3.45; (7) number=0.34500000000000003; ...; (655)
number=0.0;
return sum # (656) __return__=13.33333333333333;
assert sum_digits(345)==12 # (657) __exception__ = AssertionError()
# Dáº¥u váº¿t 2:
def sum_digits(number): # (0) number=12;
sum = 0 # (1) sum=0;
while(number):
sum += number %
number = number / 10 # (3) number=1.2; (5) number=0.12; (7) number=0.012; ...; (651) number=0.0;
return sum # (652) __return__=3.3333333333333335;
assert sum_digits(12)==3 # (653) __exception__ = AssertionError()
# Dáº¥u váº¿t 3:
def sum_digits(number): # (0) number=97;
sum = 0 # (1) sum=0;
while(number):
sum += number %
number = number / 10 # (3) number=9.7; (5) number=0.97; (7) number=0.097; ...; (653) number=0.0;
return sum # (654) __return__=17.77777777777777;
assert sum_digits(97)==16 # (655) __exception__ = AssertionError()
LÃ½ luáº­n vÃ  Giáº£i phÃ¡p MÃ£: (sá»­a chá»¯a mÃ£ Ä‘Ãºng
)
Äáº·c táº£ váº¥n Ä‘á» yÃªu cáº§u viáº¿t má»™t hÃ m Ä‘á»ƒ tÃ­nh tá»•ng cá»§a táº¥t cáº£ cÃ¡c chá»¯ sá»‘ trong má»™t sá»‘ nguyÃªn khÃ´ng Ã¢m.
BÃ¢y giá» hÃ£y xem chÆ°Æ¡ng trÃ¬nh. ChÆ°Æ¡ng trÃ¬nh cÃ³ váº» Ä‘Ãºng á»Ÿ cÃ¡i nhÃ¬n Ä‘áº§u tiÃªn. NÃ³ Ä‘áº§u tiÃªn khá»Ÿi táº¡o tá»•ng báº±ng 0, sau Ä‘Ã³ sá»­ dá»¥ng vÃ²ng while Ä‘á»ƒ láº¥y tá»«ng chá»¯ sá»‘ trong sá»‘ vÃ  thÃªm vÃ o tá»•ng. Tuy nhiÃªn, náº¿u chÃºng ta xem Ä‘áº§u ra cá»§a chÆ°Æ¡ng trÃ¬nh, chÃºng ta sáº½ tháº¥y ráº±ng tá»•ng khÃ´ng pháº£i lÃ  sá»‘ nguyÃªn.
Äiá»u nÃ y lÃ  do chÆ°Æ¡ng trÃ¬nh khÃ´ng chuyá»ƒn Ä‘á»•i sá»‘ thÃ nh sá»‘ nguyÃªn trÆ°á»›c khi láº¥y cÃ¡c chá»¯ sá»‘. VÃ­ dá»¥, Ä‘á»‘i vá»›i kháº³ng Ä‘á»‹nh Ä‘áº§u tiÃªn, khi 'number=345', chá»¯ sá»‘ Ä‘áº§u tiÃªn '5' Ä‘Æ°á»£c thÃªm vÃ o tá»•ng vÃ  'sum=5'. Sau Ä‘Ã³ 'number' Ä‘Æ°á»£c cáº­p nháº­t thÃ nh '34.5', vÃ  chá»¯ sá»‘ thá»© hai '4' Ä‘Æ°á»£c thÃªm vÃ o tá»•ng vÃ  'sum=9.5'. VÃ  cá»© tháº¿.
ÄÃ¢y lÃ  phiÃªn báº£n Ä‘Ã£ sá»­a:
def sum_digits(number):
number = int(number)
sum = 0
while(number):
sum += number %
number = number // 10
return sum

27

--- TRANG 28 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

VÃ­ dá»¥ 4: Má»™t vÃ­ dá»¥ nÆ¡i PaLM 2-L +NExT suy luáº­n qua nhiá»u bÆ°á»›c thá»±c thi
Nhiá»‡m vá»¥: Viáº¿t má»™t hÃ m Ä‘á»ƒ chuyá»ƒn Ä‘á»•i tuple thÃ nh danh sÃ¡ch báº±ng cÃ¡ch thÃªm chuá»—i cho trÆ°á»›c sau má»—i pháº§n tá»­.
MÃ£ Lá»—i:
def add_str(test_tuple, add_str):
res = list(test_tuple)
for i in range(1,len(test_tuple)):
res.insert(i âˆ—2âˆ’1,add_str)
return res
TrÆ°á»ng há»£p Kiá»ƒm tra:
assert add_str((5, 6, 7, 4, 9) , "FDF") == [5, 'FDF', 6, 'FDF', 7, 'FDF', 4, 'FDF', 9, 'FDF']
assert add_str((7, 8, 9, 10) , "PF") == [7, 'PF', 8, 'PF', 9, 'PF', 10, 'PF']
assert add_str((11, 14, 12, 1, 4) , "JH") == [11, 'JH', 14, 'JH', 12, 'JH', 1, 'JH', 4, 'JH']
Dáº¥u váº¿t:
# Dáº¥u váº¿t 1:
def add_str(test_tuple, add_str):
# Viáº¿t mÃ£ cá»§a báº¡n á»Ÿ Ä‘Ã¢y
res = list(test_tuple) # (1) res=[5, 6, 7, 4, 9];
for i in range(1,len(test_tuple)): # (2) i=1; (4) i=2; (6) i=3; ...; (10) NO_CHANGE;
res.insert(i âˆ—2âˆ’1,add_str) # (3) res=[5, 'FDF', 6, 7, 4, 9]; (5) res=[5, 'FDF', 6, 'FDF', 7, 4, 9];
(7) res=[5, 'FDF', 6, 'FDF', 7, 'FDF', 4, 9]; (9) res=[5, 'FDF', 6, 'FDF', 7, 'FDF', 4, 'FDF', 9];
return res # (11) __return__=[5, 'FDF', 6, 'FDF', 7, 'FDF', 4, 'FDF', 9];
assert add_str((5, 6, 7, 4, 9) , "FDF") == [5, 'FDF', 6, 'FDF', 7, 'FDF', 4, 'FDF', 9, 'FDF'] # (12)
__exception__ = AssertionError()
# Dáº¥u váº¿t 2:
def add_str(test_tuple, add_str):
# Viáº¿t mÃ£ cá»§a báº¡n á»Ÿ Ä‘Ã¢y
res = list(test_tuple) # (1) res=[7, 8, 9, 10];
for i in range(1,len(test_tuple)): # (2) i=1; (4) i=2; (6) i=3; (8) NO_CHANGE;
res.insert(i âˆ—2âˆ’1,add_str) # (3) res=[7, 'PF', 8, 9, 10]; (5) res=[7, 'PF', 8, 'PF', 9, 10]; (7) res
=[7, 'PF', 8, 'PF', 9, 'PF', 10];
return res # (9) __return__=[7, 'PF', 8, 'PF', 9, 'PF', 10];
assert add_str((7, 8, 9, 10) , "PF") == [7, 'PF', 8, 'PF', 9, 'PF', 10, 'PF'] # (10) __exception__ =
AssertionError()
# Dáº¥u váº¿t 3:
def add_str(test_tuple, add_str):
# Viáº¿t mÃ£ cá»§a báº¡n á»Ÿ Ä‘Ã¢y
res = list(test_tuple) # (1) res=[11, 14, 12, 1, 4];
for i in range(1,len(test_tuple)): # (2) i=1; (4) i=2; (6) i=3; ...; (10) NO_CHANGE;
res.insert(i âˆ—2âˆ’1,add_str) # (3) res=[11, 'JH', 14, 12, 1, 4]; (5) res=[11, 'JH', 14, 'JH', 12, 1, 4];
(7) res=[11, 'JH', 14, 'JH', 12, 'JH', 1, 4]; (9) res=[11, 'JH', 14, 'JH', 12, 'JH', 1, 'JH', 4];
return res # (11) __return__=[11, 'JH', 14, 'JH', 12, 'JH', 1, 'JH', 4];
assert add_str((11, 14, 12, 1, 4) , "JH") == [11, 'JH', 14, 'JH', 12, 'JH', 1, 'JH', 4, 'JH'] # (12)
__exception__ = AssertionError()
LÃ½ luáº­n vÃ  Giáº£i phÃ¡p MÃ£: (sá»­a chá»¯a mÃ£ sai
)
Äáº·c táº£ váº¥n Ä‘á» yÃªu cáº§u chuyá»ƒn Ä‘á»•i má»™t tuple thÃ nh danh sÃ¡ch vÃ  thÃªm má»™t chuá»—i cho trÆ°á»›c sau má»—i pháº§n tá»­.
BÃ¢y giá» hÃ£y xem chÆ°Æ¡ng trÃ¬nh. ChÆ°Æ¡ng trÃ¬nh Ä‘áº§u tiÃªn chuyá»ƒn Ä‘á»•i tuple thÃ nh danh sÃ¡ch, Ä‘iá»u nÃ y tá»‘t. Sau Ä‘Ã³ nÃ³ láº·p tá»« 1 Ä‘áº¿n Ä‘á»™ dÃ i cá»§a danh sÃ¡ch, vÃ  chÃ¨n chuá»—i cho trÆ°á»›c táº¡i chá»‰ sá»‘ `iâˆ—2âˆ’1`. Äiá»u nÃ y cÃ³ váº» Ä‘Ãºng á»Ÿ cÃ¡i nhÃ¬n Ä‘áº§u tiÃªn, nhÆ°ng váº¥n Ä‘á» lÃ  nÃ³ sáº½ khÃ´ng thÃªm chuá»—i sau pháº§n tá»­ cuá»‘i cÃ¹ng. VÃ­ dá»¥, khi 'test_tuple=(5, 6, 7, 4, 9)', Ä‘á»™ dÃ i cá»§a danh sÃ¡ch lÃ  5, vÃ  vÃ²ng for sáº½ láº·p tá»« 1 Ä‘áº¿n 4. Do Ä‘Ã³ chuá»—i sáº½ Ä‘Æ°á»£c chÃ¨n táº¡i chá»‰ sá»‘ 1, 3, 5, vÃ  7, tÆ°Æ¡ng á»©ng vá»›i sau pháº§n tá»­ thá»© hai, thá»© tÆ°, vÃ  thá»© sÃ¡u. Chuá»—i sáº½ khÃ´ng Ä‘Æ°á»£c chÃ¨n sau pháº§n tá»­ cuá»‘i cÃ¹ng (tá»©c lÃ  pháº§n tá»­ thá»© chÃ­n).
ÄÃ¢y lÃ  má»™t sá»­a chá»¯a Ä‘Æ¡n giáº£n:

28

--- TRANG 29 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

def add_str(test_tuple, add_str):
res = list(test_tuple)
for i in range(len(test_tuple)):
res.insert(i âˆ—2,add_str)
return res

VÃ­ dá»¥ 5: Má»™t vÃ­ dá»¥ nÆ¡i PaLM 2-L +NExT tháº¥t báº¡i trong viá»‡c xÃ¡c Ä‘á»‹nh táº¥t cáº£ lá»—i trong chÆ°Æ¡ng trÃ¬nh
Nhiá»‡m vá»¥: Viáº¿t má»™t hÃ m python Ä‘á»ƒ tÃ¬m sá»± khÃ¡c biá»‡t giá»¯a táº§n suáº¥t cao nháº¥t vÃ  tháº¥p nháº¥t trong má»™t máº£ng cho trÆ°á»›c.
MÃ£ Lá»—i:
def find_Diff(nums, n):
freq_arr = [0 for i in range(n)]
for i in range(len(nums)):
freq_arr[nums[i]] = freq_arr[nums[i]] + 1
return max(freq_arr) âˆ’min(freq_arr)
TrÆ°á»ng há»£p Kiá»ƒm tra:
assert find_Diff([1,1,2,2,7,8,4,5,1,4],10) == 2
assert find_Diff([1,7,9,2,3,3,1,3,3],9) == 3
assert find_Diff([1,2,1,2],4) == 0
Dáº¥u váº¿t:
# Dáº¥u váº¿t 1:
def find_Diff(nums, n): # (0) n=10, nums=[1, 1, 2, 2, 7, 8, 4, 5, 1, 4]; (1) .0=<range_iterator object>;
freq_arr = [0 for i in range(n)] # (2) i=0; (3) i=1; (4) i=2; ...; (13) freq_arr=[0, 0, 0, 0, 0, 0, 0, 0,
0, 0];
for i in range(len(nums)): # (14) i=0; (16) i=1; (18) i=2; ...; (34) NO_CHANGE;
freq_arr[nums[i]] = freq_arr[nums[i]] + 1 # (15) freq_arr=[0, 1, 0, 0, 0, 0, 0, 0, 0, 0]; (17)
freq_arr=[0, 2, 0, 0, 0, 0, 0, 0, 0, 0]; (19) freq_arr=[0, 2, 1, 0, 0, 0, 0, 0, 0, 0]; ...; (33) freq_arr=[0,
3, 2, 0, 2, 1, 0, 1, 1, 0];
return max(freq_arr) âˆ’min(freq_arr) # (35) __return__=3;
assert find_Diff([1,1,2,2,7,8,4,5,1,4],10) == 2 # (36) __exception__ = AssertionError()
# Dáº¥u váº¿t 2:
def find_Diff(nums, n): # (0) n=9, nums=[1, 7, 9, 2, 3, 3, 1, 3, 3]; (1) .0=<range_iterator object>;
freq_arr = [0 for i in range(n)] # (2) i=0; (3) i=1; (4) i=2; ...; (12) freq_arr=[0, 0, 0, 0, 0, 0, 0, 0,
0];
for i in range(len(nums)): # (13) i=0; (15) i=1; (17) i=2;
freq_arr[nums[i]] = freq_arr[nums[i]] + 1 # (14) freq_arr=[0, 1, 0, 0, 0, 0, 0, 0, 0]; (16) freq_arr
=[0, 1, 0, 0, 0, 0, 0, 1, 0]; (18) __exception__ = IndexError('list index out of range')
return max(freq_arr) âˆ’min(freq_arr)
assert find_Diff([1,7,9,2,3,3,1,3,3],9) == 3
# Dáº¥u váº¿t 3:
def find_Diff(nums, n): # (0) n=4, nums=[1, 2, 1, 2]; (1) .0=<range_iterator object>;
freq_arr = [0 for i in range(n)] # (2) i=0; (3) i=1; (4) i=2; ...; (7) freq_arr=[0, 0, 0, 0];
for i in range(len(nums)): # (8) i=0; (10) i=1; (12) i=2; ...; (16) NO_CHANGE;
freq_arr[nums[i]] = freq_arr[nums[i]] + 1 # (9) freq_arr=[0, 1, 0, 0]; (11) freq_arr=[0, 1, 1, 0];
(13) freq_arr=[0, 2, 1, 0]; (15) freq_arr=[0, 2, 2, 0];
return max(freq_arr) âˆ’min(freq_arr) # (17) __return__=2;
assert find_Diff([1,2,1,2],4) == 0 # (18) __exception__ = AssertionError()
LÃ½ luáº­n vÃ  Giáº£i phÃ¡p MÃ£: (sá»­a chá»¯a mÃ£ sai
)

29

--- TRANG 30 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

Äáº·c táº£ váº¥n Ä‘á» yÃªu cáº§u tÃ¬m sá»± khÃ¡c biá»‡t giá»¯a táº§n suáº¥t cao nháº¥t vÃ  tháº¥p nháº¥t trong má»™t máº£ng cho trÆ°á»›c.
BÃ¢y giá» hÃ£y xem chÆ°Æ¡ng trÃ¬nh. ChÆ°Æ¡ng trÃ¬nh Ä‘áº§u tiÃªn táº¡o má»™t máº£ng táº§n suáº¥t cÃ³ Ä‘á»™ dÃ i `n`, sau Ä‘Ã³ láº·p qua máº£ng Ä‘áº§u vÃ o Ä‘á»ƒ Ä‘áº¿m táº§n suáº¥t cá»§a má»—i sá»‘. Sau Ä‘Ã³ nÃ³ tráº£ vá» sá»± khÃ¡c biá»‡t giá»¯a táº§n suáº¥t tá»‘i Ä‘a vÃ  tá»‘i thiá»ƒu trong máº£ng táº§n suáº¥t.
ChÆ°Æ¡ng trÃ¬nh trÃ´ng tá»‘t á»Ÿ cÃ¡i nhÃ¬n Ä‘áº§u tiÃªn.
Tuy nhiÃªn, váº¥n Ä‘á» lÃ  Ä‘á»™ dÃ i cá»§a máº£ng táº§n suáº¥t lÃ  'n', lÃ  Ä‘á»™ dÃ i cá»§a máº£ng Ä‘áº§u vÃ o. Tuy nhiÃªn, cÃ¡c sá»‘ trong máº£ng Ä‘áº§u vÃ o cÃ³ thá»ƒ lá»›n hÆ¡n 'n', vÃ  do Ä‘Ã³ máº£ng táº§n suáº¥t sáº½ khÃ´ng thá»ƒ chá»©a táº¥t cáº£ cÃ¡c sá»‘ trong máº£ng Ä‘áº§u vÃ o. VÃ­ dá»¥, trong kháº³ng Ä‘á»‹nh thá»© hai, máº£ng Ä‘áº§u vÃ o lÃ  `[1, 7, 9, 2, 3, 3, 1, 3, 3]`, vÃ  Ä‘á»™ dÃ i cá»§a máº£ng táº§n suáº¥t cÅ©ng lÃ  `9`. Khi `nums[i]=9`, nÃ³ sáº½ cá»‘ gáº¯ng truy cáº­p `freq_arr[9]`, náº±m ngoÃ i pháº¡m vi, vÃ  do Ä‘Ã³ má»™t `IndexError` Ä‘Æ°á»£c nÃ©m ra.
ÄÃ¢y lÃ  má»™t sá»­a chá»¯a Ä‘Æ¡n giáº£n:
def find_Diff(nums, n):
freq_arr = {}
for i in range(len(nums)):
if nums[i] in freq_arr:
freq_arr[nums[i]] += 1
else:
freq_arr[nums[i]] = 1
max_freq = 0
min_freq = 0
for num, freq in freq_arr.items():
if freq > max_freq:
max_freq = freq
if freq < min_freq or min_freq == 0:
min_freq = freq
return max_freq âˆ’min_freq

VÃ­ dá»¥ 6: Má»™t vÃ­ dá»¥ nÆ¡i PaLM 2-L +NExT tháº¥t báº¡i trong viá»‡c xÃ¡c Ä‘á»‹nh má»™t lá»—i khÃ´ng Ä‘Æ°á»£c tiáº¿t lá»™ trong dáº¥u váº¿t
Nhiá»‡m vá»¥: Viáº¿t má»™t hÃ m Ä‘á»ƒ tÃ¬m kiáº¿m má»™t chuá»—i kÃ½ tá»± trong má»™t chuá»—i vÃ  cÅ©ng tÃ¬m vá»‹ trÃ­ trong chuá»—i gá»‘c nÆ¡i máº«u xuáº¥t hiá»‡n.
MÃ£ Lá»—i:
def search_literal(pattern, text):
match = tuple(text.find(pattern), text.find(pattern) + len(pattern) - 1)
return match
TrÆ°á»ng há»£p Kiá»ƒm tra:
assert search_literal('python','python programming language')==(0,6)
assert search_literal('programming','python programming language')==(7,18)
assert search_literal('language','python programming language')==(19,27)
Dáº¥u váº¿t:

30

--- TRANG 31 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

# Dáº¥u váº¿t 1:
def search_literal(pattern, text):
match = tuple(text.find(pattern), text.find(pattern) + len(pattern) âˆ’1) # (1) __exception__ = TypeError
('tuple expected at most 1 argument, got 2')
return match
assert search_literal('python','python programming language')==(0,6)
# Dáº¥u váº¿t 2:
def search_literal(pattern, text):
match = tuple(text.find(pattern), text.find(pattern) + len(pattern) âˆ’1) # (1) __exception__ = TypeError
('tuple expected at most 1 argument, got 2')
return match
assert search_literal('programming','python programming language')==(7,18)
# Dáº¥u váº¿t 3:
def search_literal(pattern, text):
match = tuple(text.find(pattern), text.find(pattern) + len(pattern) âˆ’1) # (1) __exception__ = TypeError
('tuple expected at most 1 argument, got 2')
return match
assert search_literal('language','python programming language')==(19,27)
LÃ½ luáº­n vÃ  Giáº£i phÃ¡p MÃ£: (sá»­a chá»¯a mÃ£ sai
)
BÃ¢y giá» hÃ£y xem chÆ°Æ¡ng trÃ¬nh. ChÆ°Æ¡ng trÃ¬nh trÃ´ng tá»‘t á»Ÿ cÃ¡i nhÃ¬n Ä‘áº§u tiÃªn vÃ¬ `text.find(pattern)` lÃ  cÃ¡ch Ä‘Ãºng Ä‘á»ƒ tÃ¬m vá»‹ trÃ­ cá»§a má»™t chuá»—i kÃ½ tá»± trong má»™t chuá»—i cho trÆ°á»›c. NhÆ°ng váº¥n Ä‘á» lÃ  nÃ³ khÃ´ng sá»­ dá»¥ng hÃ m `tuple()` Ä‘Ãºng cÃ¡ch. HÃ m `tuple()` nháº­n má»™t iterable duy nháº¥t lÃ m Ä‘áº§u vÃ o, vÃ  tráº£ vá» má»™t tuple vá»›i cÃ¡c pháº§n tá»­ tá»« iterable. NhÆ°ng trong chÆ°Æ¡ng trÃ¬nh, nÃ³ nháº­n hai Ä‘á»‘i sá»‘, Ä‘iá»u nÃ y sáº½ nÃ©m má»™t 'TypeError' cá»§a 'tuple expected at most 1 argument, got 2'.
ÄÃ¢y lÃ  má»™t sá»­a chá»¯a Ä‘Æ¡n giáº£n:
def search_literal(pattern, text):
match = tuple(text.find(pattern),)
match = match + (text.find(pattern) + len(pattern) âˆ’1,)
return match

31

--- TRANG 32 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

E. Prompt Äáº§y Ä‘á»§

á» Ä‘Ã¢y chÃºng tÃ´i hiá»ƒn thá»‹ hÆ°á»›ng dáº«n vÃ  cáº£ ba vÃ­ dá»¥ Ã­t máº«u Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ´ng viá»‡c nÃ y. LÃ½ luáº­n vÃ  sá»­a chá»¯a trong cÃ¡c vÃ­ dá»¥ Ã­t máº«u Ä‘Æ°á»£c chÃº thÃ­ch thá»§ cÃ´ng bá»Ÿi cÃ¡c tÃ¡c giáº£. Má»—i exemplar cÃ³ ba kiá»ƒm tra Ä‘Æ¡n vá»‹ vÃ  dáº¥u váº¿t cá»§a chÃºng.

1ChÃºng ta Ä‘ang láº­p trÃ¬nh cáº·p Ä‘Ã´i, tÃ´i sáº½ cung cáº¥p cho báº¡n Ä‘á»‹nh nghÄ©a váº¥n Ä‘á» vÃ  triá»ƒn khai cá»§a tÃ´i,
khÃ´ng vÆ°á»£t qua táº¥t cáº£ trÆ°á»ng há»£p kiá»ƒm tra. VÃ  báº¡n cáº§n giÃºp tÃ´i sá»­a mÃ£ cá»§a tÃ´i.â†©â†’
2
3# VÃ­ dá»¥ 1
4
5ÄÃ¢y lÃ  Ä‘áº·c táº£ báº±ng ngÃ´n ngá»¯ tá»± nhiÃªn vÃ  chÆ°Æ¡ng trÃ¬nh mÃ  tÃ´i Ä‘Ã£ viáº¿t:
6```
7# Viáº¿t má»™t hÃ m Ä‘á»ƒ tÃ¬m cÃ¡c pháº§n tá»­ tÆ°Æ¡ng tá»± tá»« hai danh sÃ¡ch tuple Ä‘Ã£ cho.
8def similar_elements(t1, t2):
9 s1 = set(t1)
10 s2 = set(t2)
11 return s1.intersection(s2)
12
13```
14 ÄÃ¢y lÃ  cÃ¡c kháº³ng Ä‘á»‹nh tÃ´i cáº§n vÆ°á»£t qua:
15```
16 assert similar_elements((3, 4, 5, 6),(5, 7, 4, 10)) == (4, 5)
17 assert similar_elements((1, 2, 3, 4),(5, 4, 3, 7)) == (3, 4)
18 assert similar_elements((11, 12, 14, 13),(17, 15, 14, 13)) == (13, 14)
19```
20
21 ÄÃ¢y lÃ  má»™t *cheatsheet* cho dáº¥u váº¿t thá»±c thi vÃ ng cho má»—i kháº³ng Ä‘á»‹nh, sá»­ dá»¥ng thÃ´ng tin
á»Ÿ Ä‘Ã¢y nhÆ°ng giáº£ vá» ráº±ng báº¡n Ä‘Ã£ thá»±c hiá»‡n táº¥t cáº£ suy luáº­n vá» thá»±c thi.â†©â†’
22
23 #################### cheatsheet báº¯t Ä‘áº§u ####################
24 def similar_elements(t1, t2): # (0) t1=(3, 4, 5, 6), t2=(5, 7, 4, 10);
25 s1 = set(t1) # (1) s1={3, 4, 5, 6};
26 s2 = set(t2) # (2) s2={10, 4, 5, 7};
27 return s1.intersection(s2) # (3) __return__={4, 5}
28
29
30 assert similar_elements((3, 4, 5, 6),(5, 7, 4, 10)) == (4, 5) #
31 --------------------
32 def similar_elements(t1, t2): # (0) t1=(1, 2, 3, 4), t2=(5, 4, 3, 7);
33 s1 = set(t1) # (1) s1={1, 2, 3, 4};
34 s2 = set(t2) # (2) s2={3, 4, 5, 7};
35 return s1.intersection(s2) # (3) __return__={3, 4}
36
37
38 assert similar_elements((1, 2, 3, 4),(5, 4, 3, 7)) == (3, 4) #
39 --------------------
40 def similar_elements(t1, t2): # (0) t1=(11, 12, 14, 13), t2=(17, 15, 14, 13);
41 s1 = set(t1) # (1) s1={11, 12, 13, 14};
42 s2 = set(t2) # (2) s2={17, 13, 14, 15};
43 return s1.intersection(s2) # (3) __return__={13, 14}
44
45
46 assert similar_elements((11, 12, 14, 13),(17, 15, 14, 13)) == (13, 14) #
47 #################### cheatsheet káº¿t thÃºc ####################
48
49 Vá»›i thÃ´ng tin trÃªn, báº¡n cÃ³ thá»ƒ cho tÃ´i biáº¿t táº¡i sao mÃ£ cá»§a tÃ´i sai, vÃ  cÅ©ng cung cáº¥p má»™t phiÃªn báº£n Ä‘Ã£ sá»­a khÃ´ng?â†©â†’
50
51 Äáº·c táº£ váº¥n Ä‘á» yÃªu cáº§u tÃ¬m cÃ¡c pháº§n tá»­ tÆ°Æ¡ng tá»± trong hai tuple, tá»« kháº³ng Ä‘á»‹nh chÃºng ta cÃ³ thá»ƒ
tháº¥y ráº±ng nÃ³ vá» cÆ¡ báº£n muá»‘n cÃ¡c pháº§n tá»­ chung tá»« hai tuple. NÃ³ cÅ©ng cÃ³ váº» nhÆ°
cÃ¡c pháº§n tá»­ chung nÃªn Ä‘Æ°á»£c tráº£ vá» trong má»™t tuple vá»›i thá»© tá»± tÄƒng dáº§n.â†©â†’
â†©â†’
52
53 BÃ¢y giá» hÃ£y xem chÆ°Æ¡ng trÃ¬nh. Trong khi viá»‡c sá»­ dá»¥ng `intersection()` Ä‘á»ƒ tÃ¬m
cÃ¡c pháº§n tá»­ chung giá»¯a hai set lÃ  Ä‘Ãºng vÃ  hiá»‡u quáº£, nÃ³ cÅ©ng sáº½ tráº£ vá» má»™t set. Láº¥y kháº³ng Ä‘á»‹nh Ä‘áº§u tiÃªn lÃ m
vÃ­ dá»¥, `s1` Ä‘áº§u tiÃªn sáº½ Ä‘Æ°á»£c chuyá»ƒn Ä‘á»•i thÃ nh má»™t set nhÆ° `{3, 4, 5, 6}` vÃ  tÆ°Æ¡ng tá»± cho
`s2`, sau Ä‘Ã³ giÃ¡ trá»‹ tráº£ vá» sáº½ lÃ  `{4, 5}`. Máº·c dÃ¹ cÃ¡c pháº§n tá»­ Ä‘Ãºng, giÃ¡ trá»‹ tráº£ vá» mong Ä‘á»£i
lÃ  má»™t tuple chá»© khÃ´ng pháº£i set. Do Ä‘Ã³ chÃºng ta chá»‰ cáº§n chuyá»ƒn Ä‘á»•i thÃªm cÃ¡c set thÃ nh
tuple sá»­ dá»¥ng `tuple()`.â†©â†’
â†©â†’
â†©â†’
â†©â†’
â†©â†’

32

--- TRANG 33 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

54
55 ÄÃ¢y lÃ  mÃ£ Ä‘Ã£ sá»­a:
56 ```
57 def similar_elements(t1, t2):
58 s1 = set(t1)
59 s2 = set(t2)
60 return tuple(s1.intersection(s2))
61 ```
62
63 # VÃ­ dá»¥ 2
64
65 ÄÃ¢y lÃ  Ä‘áº·c táº£ báº±ng ngÃ´n ngá»¯ tá»± nhiÃªn vÃ  chÆ°Æ¡ng trÃ¬nh mÃ  tÃ´i Ä‘Ã£ viáº¿t:
66 ```
67 # Viáº¿t má»™t hÃ m python Ä‘á»ƒ xÃ¡c Ä‘á»‹nh cÃ¡c sá»‘ khÃ´ng nguyÃªn tá»‘.
68 def is_not_prime(n):
69 if n==1:
70 return False
71 else:
72 for i in range(2,n//2+1):
73 if n%
74 return False
75 else:
76 return True
77 ```
78 ÄÃ¢y lÃ  cÃ¡c kháº³ng Ä‘á»‹nh tÃ´i cáº§n vÆ°á»£t qua:
79 ```
80 assert is_not_prime(2) == False
81 assert is_not_prime(10) == True
82 assert is_not_prime(35) == True
83 ```
84
85 ÄÃ¢y lÃ  má»™t *cheatsheet* cho dáº¥u váº¿t thá»±c thi vÃ ng cho má»—i kháº³ng Ä‘á»‹nh, sá»­ dá»¥ng thÃ´ng tin
á»Ÿ Ä‘Ã¢y nhÆ°ng giáº£ vá» ráº±ng báº¡n Ä‘Ã£ thá»±c hiá»‡n táº¥t cáº£ suy luáº­n vá» thá»±c thi.â†©â†’
86
87 #################### cheatsheet báº¯t Ä‘áº§u ####################
88 def is_not_prime(n): # (0) n=2;
89 if n==1: #
90 return False
91 else:
92 for i in range(2,n//2+1): # (1) __return__=None
93 if n%
94 return False
95 else:
96 return True
97
98
99 assert is_not_prime(2) == False #
100 --------------------
101 def is_not_prime(n): # (0) n=10;
102 if n==1: #
103 return False
104 else:
105 for i in range(2,n//2+1): # (1) i=2;
106 if n%
107 return False # (2) __return__=False
108 else:
109 return True
110
111
112 assert is_not_prime(10) == True #
113 --------------------
114 def is_not_prime(n): # (0) n=35;
115 if n==1: #
116 return False
117 else:
118 for i in range(2,n//2+1): # (1) i=2;
119 if n%
120 return False
121 else:
122 return True # (2) __return__=True

33

--- TRANG 34 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

123
124
125 assert is_not_prime(35) == True #
126 #################### cheatsheet káº¿t thÃºc ####################
127
128 Vá»›i thÃ´ng tin trÃªn, báº¡n cÃ³ thá»ƒ cho tÃ´i biáº¿t táº¡i sao mÃ£ cá»§a tÃ´i sai, vÃ  cÅ©ng cung cáº¥p má»™t phiÃªn báº£n Ä‘Ã£ sá»­a khÃ´ng?â†©â†’
129
130 Äáº·c táº£ váº¥n Ä‘á» yÃªu cáº§u viáº¿t má»™t hÃ m Python xÃ¡c Ä‘á»‹nh cÃ¡c sá»‘ khÃ´ng nguyÃªn tá»‘. CÃ¡c sá»‘ khÃ´ng nguyÃªn tá»‘
lÃ  cÃ¡c sá»‘ chia háº¿t cho cÃ¡c sá»‘ khÃ¡c ngoÃ i 1 vÃ  chÃ­nh nÃ³. LÆ°u Ã½ ráº±ng 0 vÃ  1
cÅ©ng lÃ  cÃ¡c sá»‘ khÃ´ng nguyÃªn tá»‘.â†©â†’
â†©â†’
131
132 BÃ¢y giá» hÃ£y kiá»ƒm tra chÆ°Æ¡ng trÃ¬nh. HÃ£y cháº¡y chÆ°Æ¡ng trÃ¬nh qua má»™t sá»‘ vÃ­ dá»¥. Äá»‘i vá»›i kháº³ng Ä‘á»‹nh Ä‘áº§u tiÃªn,
khi `n=2`, nÃ³ sáº½ vÃ o nhÃ¡nh `else`, vÃ  sau Ä‘Ã³ trong vÃ²ng for, vÃ¬ Ä‘iá»u kiá»‡n
lÃ  `i in range(2, n//2+1)`, lÃ  `range(2, 2)`, nÃ³ thá»±c táº¿ sáº½ khÃ´ng vÃ o
vÃ²ng láº·p vÃ¬ Ä‘iá»u kiá»‡n khÃ´ng Ä‘Æ°á»£c Ä‘Ã¡p á»©ng ngay tá»« Ä‘áº§u. VÃ  sau Ä‘Ã³ nÃ³ sáº½ Ä‘áº¿n cuá»‘i
hÃ m, vÃ  giÃ¡ trá»‹ tráº£ vá» sáº½ lÃ  `None`. VÃ  Ä‘á»‘i vá»›i kháº³ng Ä‘á»‹nh thá»© ba, khi `n=35`,
nÃ³ cÅ©ng vÃ o nhÃ¡nh `else`, vÃ  sau Ä‘Ã³ vÃ o vÃ²ng láº·p vá»›i `i=2` vÃ¬ `n//2+1=18 > 2`.
Sau Ä‘Ã³ á»Ÿ bÆ°á»›c tiáº¿p theo, vÃ¬ `n%â†©â†’
â†©â†’
â†©â†’
â†©â†’
â†©â†’
â†©â†’
133
134 Trong khi khÃ´ng rÃµ rÃ ng cÃ¡ch sá»­a chÆ°Æ¡ng trÃ¬nh nÃ y, má»™t cÃ¡ch khÃ¡c Ä‘á»ƒ triá»ƒn khai
hÃ m `is_not_prime()` chá»‰ lÃ  Ä‘áº§u tiÃªn táº¡o má»™t hÃ m trá»£ giÃºp Ä‘á»ƒ xÃ¡c Ä‘á»‹nh sá»‘
nguyÃªn tá»‘ lÃ  `is_prime()`, vÃ  sau Ä‘Ã³ Ä‘Æ¡n giáº£n `return not is_prime(x)`.â†©â†’
â†©â†’
135
136 ÄÃ¢y lÃ  má»™t triá»ƒn khai láº¡i:
137 ```
138 def is_prime(x):
139 if x <= 1:
140 return False
141 else:
142 for i in range(2,x):
143 if x%
144 return False
145 return True
146
147 def is_not_prime(x):
148 return not is_prime(x)
149 ```
150
151 # VÃ­ dá»¥ 3
152
153 ÄÃ¢y lÃ  Ä‘áº·c táº£ báº±ng ngÃ´n ngá»¯ tá»± nhiÃªn vÃ  chÆ°Æ¡ng trÃ¬nh mÃ  tÃ´i Ä‘Ã£ viáº¿t:
154 ```
155 # Viáº¿t má»™t hÃ m Ä‘á»ƒ tÃ¬m cÃ¡c sá»‘ nguyÃªn lá»›n nháº¥t tá»« má»™t danh sÃ¡ch cÃ¡c sá»‘ cho trÆ°á»›c sá»­ dá»¥ng thuáº­t toÃ¡n
hÃ ng Ä‘á»£i heap.â†©â†’
156 def heap_queue_largest(list1,n):
157 largest=heapq.nlargest(n,list1)
158 return largest
159
160 ```
161 ÄÃ¢y lÃ  cÃ¡c kháº³ng Ä‘á»‹nh tÃ´i cáº§n vÆ°á»£t qua:
162 ```
163 assert heap_queue_largest([25, 35, 22, 85, 14, 65, 75, 22, 58],3)==[85, 75, 65]
164 assert heap_queue_largest([25, 35, 22, 85, 14, 65, 75, 22, 58],2)==[85, 75]
165 assert heap_queue_largest([25, 35, 22, 85, 14, 65, 75, 22, 58],5)==[85, 75, 65, 58, 35]
166 ```
167
168 ÄÃ¢y lÃ  má»™t *cheatsheet* cho dáº¥u váº¿t thá»±c thi vÃ ng cho má»—i kháº³ng Ä‘á»‹nh, sá»­ dá»¥ng thÃ´ng tin
á»Ÿ Ä‘Ã¢y nhÆ°ng giáº£ vá» ráº±ng báº¡n Ä‘Ã£ thá»±c hiá»‡n táº¥t cáº£ suy luáº­n vá» thá»±c thi.â†©â†’
169
170 #################### cheatsheet báº¯t Ä‘áº§u ####################
171 def heap_queue_largest(list1,n): # (0) list1=[25, 35, 22, 85, 14, 65, 75, 22, 58], n=3;
172 largest=heapq.nlargest(n,list1) # (1) __exception__ = NameError("name 'heapq' is not
defined")â†©â†’
173 return largest
174
175
176 assert heap_queue_largest([25, 35, 22, 85, 14, 65, 75, 22, 58],3)==[85, 75, 65]
177 --------------------
178 def heap_queue_largest(list1,n): # (0) list1=[25, 35, 22, 85, 14, 65, 75, 22, 58], n=2;

34

--- TRANG 35 ---
NExT: Dáº¡y cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n Suy luáº­n vá» Thá»±c thi MÃ£

179 largest=heapq.nlargest(n,list1) # (1) __exception__ = NameError("name 'heapq' is not
defined")â†©â†’
180 return largest
181
182
183 assert heap_queue_largest([25, 35, 22, 85, 14, 65, 75, 22, 58],2)==[85, 75]
184 --------------------
185 def heap_queue_largest(list1,n): # (0) list1=[25, 35, 22, 85, 14, 65, 75, 22, 58], n=5;
186 largest=heapq.nlargest(n,list1) # (1) __exception__ = NameError("name 'heapq' is not
defined")â†©â†’
187 return largest
188
189
190 assert heap_queue_largest([25, 35, 22, 85, 14, 65, 75, 22, 58],5)==[85, 75, 65, 58, 35]
191 #################### cheatsheet káº¿t thÃºc ####################
192
193 Vá»›i thÃ´ng tin trÃªn, báº¡n cÃ³ thá»ƒ cho tÃ´i biáº¿t táº¡i sao mÃ£ cá»§a tÃ´i sai, vÃ  cÅ©ng cung cáº¥p má»™t phiÃªn báº£n Ä‘Ã£ sá»­a khÃ´ng?â†©â†’
194
195 Äáº·c táº£ váº¥n Ä‘á» yÃªu cáº§u tÃ¬m `n` sá»‘ nguyÃªn lá»›n nháº¥t trong má»™t danh sÃ¡ch cho trÆ°á»›c. NÃ³ cÅ©ng gá»£i Ã½ ráº±ng
hÃ ng Ä‘á»£i heap nÃªn Ä‘Æ°á»£c sá»­ dá»¥ng.â†©â†’
196
197 BÃ¢y giá» hÃ£y xem chÆ°Æ¡ng trÃ¬nh. ChÆ°Æ¡ng trÃ¬nh trÃ´ng tá»‘t á»Ÿ cÃ¡i nhÃ¬n Ä‘áº§u tiÃªn vÃ¬ `heapq.nlargest()`
lÃ  cÃ¡ch Ä‘Ãºng Ä‘á»ƒ láº¥y `n` sá»‘ nguyÃªn lá»›n nháº¥t tá»« má»™t iterable (vÃ­ dá»¥: má»™t danh sÃ¡ch). NhÆ°ng
váº¥n Ä‘á» lÃ  nÃ³ khÃ´ng import gÃ³i `heapq` trÆ°á»›c. Do Ä‘Ã³ cáº£ ba kháº³ng Ä‘á»‹nh sáº½
tháº¥t báº¡i á»Ÿ dÃ²ng Ä‘áº§u tiÃªn cá»§a hÃ m, vÃ  nÃ©m má»™t `NameError` cá»§a `name 'heapq' is not
defined`.â†©â†’
â†©â†’
â†©â†’
â†©â†’
198
199 ÄÃ¢y lÃ  má»™t sá»­a chá»¯a Ä‘Æ¡n giáº£n:
200 ```
201 import heapq
202 def heap_queue_largest(list1,n):
203 largest=heapq.nlargest(n,list1)
204 return largest
205 ```
35
