# 2306.09896.pdf
# Chuyá»ƒn Ä‘á»•i tá»« PDF sang TXT
# ÄÆ°á»ng dáº«n nguá»“n: /home/admin88/arxiv-downloader/rl-alignment/2306.09896.pdf
# KÃ­ch thÆ°á»›c tá»‡p: 3023070 bytes

===============================================
Ná»˜I DUNG Tá»†P PDF
===============================================


--- TRANG 1 ---
Xuáº¥t báº£n nhÆ° má»™t bÃ i bÃ¡o há»™i nghá»‹ táº¡i ICLR 2024
LIá»†U Tá»° Sá»¬A CHá»®A CÃ“ PHáº¢I LÃ€ VIÃŠN Äáº N Báº C CHO
VIá»†C Táº O MÃƒ ?
Theo X. Olausson1,â€ ,Jeevana Priya Inala2,Chenglong Wang2,
Jianfeng Gao2,Armando Solar-Lezama1
1MIT CSAIL2Microsoft Research
TÃ“M Táº®T
CÃ¡c mÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n Ä‘Ã£ cho tháº¥y nÄƒng lá»±c Ä‘Ã¡ng chÃº Ã½ trong viá»‡c táº¡o mÃ£, nhÆ°ng
váº«n gáº·p khÃ³ khÄƒn trong viá»‡c thá»±c hiá»‡n cÃ¡c tÃ¡c vá»¥ phá»©c táº¡p. Tá»± sá»­a chá»¯aâ€”trong Ä‘Ã³ mÃ´ hÃ¬nh
gá»¡ lá»—i vÃ  sá»­a chá»¯a mÃ£ cá»§a chÃ­nh nÃ³â€”gáº§n Ä‘Ã¢y Ä‘Ã£ trá»Ÿ thÃ nh má»™t cÃ¡ch phá»• biáº¿n Ä‘á»ƒ nÃ¢ng cao
hiá»‡u suáº¥t trong nhá»¯ng bá»‘i cáº£nh nÃ y. Tuy nhiÃªn, máº·c dÃ¹ ngÃ y cÃ ng phá»• biáº¿n, cÃ¡c nghiÃªn cá»©u
hiá»‡n cÃ³ vá» tá»± sá»­a chá»¯a cÃ²n háº¡n cháº¿ vá» pháº¡m vi; trong nhiá»u bá»‘i cáº£nh, hiá»‡u quáº£ cá»§a nÃ³ váº«n
chÆ°a Ä‘Æ°á»£c hiá»ƒu rÃµ. Trong bÃ i bÃ¡o nÃ y, chÃºng tÃ´i phÃ¢n tÃ­ch kháº£ nÄƒng thá»±c hiá»‡n tá»± sá»­a chá»¯a
cá»§a Code Llama, GPT-3.5 vÃ  GPT-4 trÃªn cÃ¡c bÃ i toÃ¡n tá»« HumanEval vÃ  APPS. ChÃºng tÃ´i
phÃ¡t hiá»‡n ráº±ng khi chi phÃ­ thá»±c hiá»‡n sá»­a chá»¯a Ä‘Æ°á»£c tÃ­nh vÃ o, lá»£i Ã­ch vá» hiá»‡u suáº¥t thÆ°á»ng
khiÃªm tá»‘n, thay Ä‘á»•i nhiá»u giá»¯a cÃ¡c táº­p con cá»§a dá»¯ liá»‡u, vÃ  Ä‘Ã´i khi hoÃ n toÃ n khÃ´ng cÃ³ máº·t.
ChÃºng tÃ´i Ä‘Æ°a ra giáº£ thuyáº¿t ráº±ng Ä‘iá»u nÃ y lÃ  do tá»± sá»­a chá»¯a bá»‹ ngháº½n cá»• chai bá»Ÿi kháº£ nÄƒng
cung cáº¥p pháº£n há»“i vá» mÃ£ cá»§a chÃ­nh mÃ´ hÃ¬nh; sá»­ dá»¥ng má»™t mÃ´ hÃ¬nh máº¡nh hÆ¡n Ä‘á»ƒ tÄƒng cÆ°á»ng
nhÃ¢n táº¡o cháº¥t lÆ°á»£ng pháº£n há»“i, chÃºng tÃ´i quan sÃ¡t Ä‘Æ°á»£c nhá»¯ng cáº£i thiá»‡n hiá»‡u suáº¥t Ä‘Ã¡ng ká»ƒ hÆ¡n.
TÆ°Æ¡ng tá»±, má»™t nghiÃªn cá»©u quy mÃ´ nhá» trong Ä‘Ã³ chÃºng tÃ´i cung cáº¥p cho GPT-4 pháº£n há»“i tá»«
cÃ¡c tham gia viÃªn con ngÆ°á»i cho tháº¥y ráº±ng ngay cáº£ Ä‘á»‘i vá»›i cÃ¡c mÃ´ hÃ¬nh máº¡nh nháº¥t, tá»± sá»­a
chá»¯a váº«n thua kÃ©m xa so vá»›i nhá»¯ng gÃ¬ cÃ³ thá»ƒ Ä‘áº¡t Ä‘Æ°á»£c vá»›i kháº£ nÄƒng gá»¡ lá»—i á»Ÿ má»©c con ngÆ°á»i.

1 GIá»šI THIá»†U
CÃ¡c mÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n (LLM) Ä‘Ã£ chá»©ng minh kháº£ nÄƒng táº¡o ra cÃ¡c Ä‘oáº¡n mÃ£ tá»« cÃ¡c Ä‘áº·c táº£
ngÃ´n ngá»¯ tá»± nhiÃªn, nhÆ°ng váº«n gáº·p khÃ³ khÄƒn vá»›i cÃ¡c thá»­ thÃ¡ch láº­p trÃ¬nh phá»©c táº¡p nhÆ° nhá»¯ng
thá»­ thÃ¡ch trong cÃ¡c cuá»™c thi vÃ  phá»ng váº¥n ká»¹ thuáº­t pháº§n má»m chuyÃªn nghiá»‡p. CÃ¡c nghiÃªn cá»©u
gáº§n Ä‘Ã¢y Ä‘Ã£ tÃ¬m cÃ¡ch cáº£i thiá»‡n hiá»‡u suáº¥t báº±ng cÃ¡ch táº­n dá»¥ng tá»± sá»­a chá»¯a (Gupta et al., 2020;
Le et al., 2022; Chen et al., 2023b; Zhang et al., 2023), trong Ä‘Ã³ mÃ´ hÃ¬nh tá»± xem xÃ©t vÃ  sá»­a
chá»¯a cÃ¡c lá»—i trong mÃ£ cá»§a chÃ­nh nÃ³. HÃ¬nh 1 cho tháº¥y má»™t quy trÃ¬nh lÃ m viá»‡c Ä‘iá»ƒn hÃ¬nh. Äáº§u
tiÃªn, má»™t chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c láº¥y máº«u tá»« má»™t mÃ´ hÃ¬nh táº¡o mÃ£; chÆ°Æ¡ng trÃ¬nh nÃ y sau Ä‘Ã³ Ä‘Æ°á»£c
cháº¡y trÃªn má»™t bá»™ cÃ¡c bÃ i kiá»ƒm tra Ä‘Æ¡n vá»‹ Ä‘Æ°á»£c cung cáº¥p nhÆ° má»™t pháº§n cá»§a Ä‘áº·c táº£; náº¿u chÆ°Æ¡ng
trÃ¬nh tháº¥t báº¡i á»Ÿ báº¥t ká»³ bÃ i kiá»ƒm tra nÃ o, thÃ¬ thÃ´ng bÃ¡o lá»—i vÃ  chÆ°Æ¡ng trÃ¬nh bá»‹ lá»—i Ä‘Æ°á»£c Ä‘Æ°a
cho má»™t mÃ´ hÃ¬nh táº¡o pháº£n há»“i, mÃ´ hÃ¬nh nÃ y xuáº¥t ra má»™t giáº£i thÃ­ch ngáº¯n gá»n vá» lÃ½ do táº¡i sao
mÃ£ tháº¥t báº¡i; cuá»‘i cÃ¹ng, pháº£n há»“i Ä‘Æ°á»£c chuyá»ƒn cho má»™t mÃ´ hÃ¬nh sá»­a chá»¯a, mÃ´ hÃ¬nh nÃ y táº¡o ra
má»™t phiÃªn báº£n Ä‘Ã£ sá»­a cá»§a chÆ°Æ¡ng trÃ¬nh.1 TrÃªn bá» máº·t, Ä‘Ã¢y lÃ  má»™t Ã½ tÆ°á»Ÿng ráº¥t háº¥p dáº«n. NÃ³
cho phÃ©p há»‡ thá»‘ng vÆ°á»£t qua cÃ¡c lá»—i do cÃ¡c máº«u khÃ´ng may máº¯n trong quÃ¡ trÃ¬nh giáº£i mÃ£; dá»…
dÃ ng tÃ­ch há»£p pháº£n há»“i trong giai Ä‘oáº¡n sá»­a chá»¯a tá»« cÃ¡c há»‡ thá»‘ng kÃ½ hiá»‡u nhÆ° trÃ¬nh biÃªn dá»‹ch,
cÃ´ng cá»¥ phÃ¢n tÃ­ch tÄ©nh vÃ  engine thá»±c thi; vÃ  báº¯t chÆ°á»›c cÃ¡ch thá»­ vÃ  sai mÃ  cÃ¡c ká»¹ sÆ° pháº§n
má»m con ngÆ°á»i viáº¿t mÃ£.

Tuy nhiÃªn, quan trá»ng lÃ  pháº£i nhá»› ráº±ng tá»± sá»­a chá»¯a Ä‘Ã²i há»i nhiá»u láº§n gá»i mÃ´ hÃ¬nh hÆ¡n, do Ä‘Ã³
tÄƒng chi phÃ­ tÃ­nh toÃ¡n. Äáº·c biá»‡t, viá»‡c tá»± sá»­a chá»¯a cÃ³ pháº£i lÃ  má»™t chiáº¿n lÆ°á»£c tháº¯ng lá»£i hay khÃ´ng
cuá»‘i cÃ¹ng phá»¥ thuá»™c vÃ o viá»‡c báº¡n cÃ³â€”vá»›i má»™t ngÃ¢n sÃ¡ch tÃ­nh toÃ¡n tÆ°Æ¡ng Ä‘Æ°Æ¡ngâ€”cÃ³ cÆ¡ há»™i
thÃ nh cÃ´ng lá»›n hÆ¡n náº¿u báº¡n chá»‰ Ä‘Æ¡n giáº£n rÃºt thÃªm cÃ¡c máº«u mÃ£ i.i.d. tá»« mÃ´ hÃ¬nh vÃ  kiá»ƒm tra
chÃºng vá»›i bá»™ cÃ¡c bÃ i kiá»ƒm tra Ä‘Æ¡n vá»‹ Ä‘Æ°á»£c cung cáº¥p nhÆ° má»™t pháº§n cá»§a tÃ¡c vá»¥. Quan trá»ng,
trong má»™t bá»‘i cáº£nh láº­p trÃ¬nh cáº¡nh tranh, hiá»‡u quáº£ cá»§a tá»± sá»­a chá»¯a khÃ´ng chá»‰ phá»¥ thuá»™c vÃ o
kháº£ nÄƒng táº¡o mÃ£ cá»§a mÃ´ hÃ¬nh, Ä‘iá»u Ä‘Ã£ Ä‘Æ°á»£c nghiÃªn cá»©u rá»™ng rÃ£i trong tÃ i liá»‡u, mÃ  cÃ²n phá»¥
thuá»™c vÃ o kháº£ nÄƒng xÃ¡c Ä‘á»‹nh cÃ¡ch mÃ£ (Ä‘Æ°á»£c táº¡o bá»Ÿi chÃ­nh mÃ´ hÃ¬nh) sai so vá»›i Ä‘áº·c táº£ tÃ¡c vá»¥.
Theo nhÆ° chÃºng tÃ´i biáº¿t, khÃ´ng cÃ³ nghiÃªn cá»©u nÃ o trÆ°á»›c Ä‘Ã¢y Ä‘Ã£ nghiÃªn cá»©u tÃ¡c Ä‘á»™ng cá»§a giai
Ä‘oáº¡n nÃ y má»™t cÃ¡ch chi tiáº¿t.

1Trong thá»±c táº¿, viá»‡c táº¡o pháº£n há»“i vÃ  sáº£n xuáº¥t mÃ£ Ä‘Ã£ sá»­a cÃ³ thá»ƒ Ä‘Æ°á»£c thá»±c hiá»‡n thÃ´ng qua má»™t tÆ°Æ¡ng tÃ¡c
duy nháº¥t vá»›i mÃ´ hÃ¬nh; nhÆ° chÃºng ta sáº½ tháº¥y, váº«n cÃ³ thá»ƒ há»¯u Ã­ch khi xem chÃºng nhÆ° cÃ¡c bÆ°á»›c riÃªng biá»‡t vá»
máº·t khÃ¡i niá»‡m.
â€ LiÃªn há»‡ vá»›i theoxo@csail.mit.edu. CÃ´ng viá»‡c Ä‘Æ°á»£c thá»±c hiá»‡n má»™t pháº§n khi T.X.O. lÃ m viá»‡c táº¡i Microsoft
Research. MÃ£ vÃ  dá»¯ liá»‡u cÃ³ sáºµn táº¡i github.com/theoxo/self-repair.
1arXiv:2306.09896v5 [cs.CL] 2 Feb 2024

--- TRANG 2 ---
Xuáº¥t báº£n nhÆ° má»™t bÃ i bÃ¡o há»™i nghá»‹ táº¡i ICLR 2024
assert f(x3) == y3
NgÆ°á»i dÃ¹ng(1)
MÃ´ hÃ¬nh MÃ£assert f(x1) == y1
assert f(x2) == y2
ğ„‚âœ“
âœ“
Thá»±c thiassert f(x3) == y3assert f(x1) == y1
assert f(x2) == y2âœ“
âœ“
âœ“(2) (3)
MÃ´ hÃ¬nh Pháº£n há»“i(4)
MÃ´ hÃ¬nh MÃ£(5)

Cho má»™t chuá»—i s Ä‘áº¡i diá»‡n cho thá»© trong tuáº§n
hÃ´m nay. s lÃ  má»™t trong SUN,
MON, TUE, WED, THU, FRI, hoáº·c SAT.
Sau bao nhiá»u ngÃ y lÃ  Chá»§ nháº­t tiáº¿p theo
(ngÃ y mai hoáº·c sau Ä‘Ã³)?
# BÃ€I KIá»‚M TRA ÄÆ N Vá»Š
# (CÃ“ THá»‚ THá»°C THI)
assertf('MON') == 6
assertf('WED') == 4
assertf('SUN') == 7(1)deff(s):
return(7 - ['SUN', ... , 'FRI', 'SAT'].index(s)) % 7(2)

Vá»›i Ä‘áº§u vÃ o 'SUN', chÆ°Æ¡ng trÃ¬nh tráº£ vá» 0, nhÆ°ng Ä‘áº§u ra mong Ä‘á»£i lÃ  7. (3)
MÃ£ khÃ´ng tÃ­nh Ä‘áº¿n trÆ°á»ng há»£p Ä‘áº§u vÃ o lÃ  'SUN' vÃ  Ä‘áº§u ra pháº£i
lÃ  7. Äiá»u nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­a báº±ng cÃ¡ch loáº¡i bá» phÃ©p toÃ¡n modulo.(4)
deff(s):
return(7 - ['SUN', ... , 'FRI', 'SAT'].index(s)) # % 7(5)

HÃ¬nh 1: Tá»± sá»­a chá»¯a vá»›i cÃ¡c mÃ´ hÃ¬nh mÃ£ vÃ  pháº£n há»“i riÃªng biá»‡t. Äáº§u tiÃªn, ngÆ°á»i dÃ¹ng Ä‘Æ°a ra má»™t Ä‘áº·c táº£ dÆ°á»›i
dáº¡ng vÄƒn báº£n vÃ  má»™t bá»™ cÃ¡c bÃ i kiá»ƒm tra Ä‘Æ¡n vá»‹ (1). Sau Ä‘Ã³, má»™t mÃ´ hÃ¬nh mÃ£ (mÃ u xanh) táº¡o ra má»™t chÆ°Æ¡ng trÃ¬nh (2). ChÆ°Æ¡ng
trÃ¬nh Ä‘Æ°á»£c kiá»ƒm tra vá»›i cÃ¡c bÃ i kiá»ƒm tra Ä‘Æ¡n vá»‹ báº±ng engine thá»±c thi kÃ½ hiá»‡u, vÃ  má»™t thÃ´ng bÃ¡o lá»—i
Ä‘Æ°á»£c tráº£ vá» (3). Äá»ƒ cung cáº¥p nhiá»u tÃ­n hiá»‡u hÆ¡n cho mÃ´ hÃ¬nh mÃ£, pháº£n há»“i vÄƒn báº£n vá» lÃ½ do táº¡i sao Ä‘iá»u nÃ y
xáº£y ra Ä‘Æ°á»£c cung cáº¥p bá»Ÿi má»™t mÃ´ hÃ¬nh pháº£n há»“i (mÃ u vÃ ng; 4). Cuá»‘i cÃ¹ng, pháº£n há»“i nÃ y Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi mÃ´ hÃ¬nh mÃ£ Ä‘á»ƒ sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh (5).

ÄÃ³ng gÃ³p: Trong bÃ i bÃ¡o nÃ y, chÃºng tÃ´i Ä‘iá»u tra hiá»‡u quáº£ cá»§a cÃ¡c ká»¹ thuáº­t tá»± sá»­a chá»¯a Ä‘Æ°á»£c Ã¡p dá»¥ng cho
CodeLlama-13b-instruct (RoziÃ¨re et al., 2023), GPT-3.5 (Ouyang et al., 2022; OpenAI, 2022),
vÃ  GPT-4 (OpenAI, 2023) cho cÃ¡c tÃ¡c vá»¥ láº­p trÃ¬nh Python Ä‘á»™c láº­p. ChÃºng tÃ´i táº­p trung vÃ o viá»‡c Ä‘Ã¡nh giÃ¡
kháº£ nÄƒng cá»§a cÃ¡c mÃ´ hÃ¬nh trong viá»‡c suy ngáº«m, cung cáº¥p pháº£n há»“i vÃ  gá»¡ lá»—i mÃ£. ChÃºng tÃ´i quan sÃ¡t ráº±ng:

â€¢Tá»± sá»­a chá»¯a khÃ´ng pháº£i lÃ  viÃªn Ä‘áº¡n báº¡c: khi chi phÃ­ sá»­a chá»¯a Ä‘Æ°á»£c tÃ­nh vÃ o, chÃºng tÃ´i tÃ¬m tháº¥y má»™t sá»‘
trÆ°á»ng há»£p trong Ä‘Ã³ tá»· lá»‡ vÆ°á»£t qua cao hÆ¡n hoáº·c báº±ng vá»›i viá»‡c láº¥y máº«u i.i.d. (khÃ´ng sá»­a chá»¯a),
Ä‘áº·c biá»‡t lÃ  khi ngÃ¢n sÃ¡ch nhá». ChÃºng tÃ´i suy Ä‘oÃ¡n ráº±ng Ä‘iá»u nÃ y lÃ  do tá»· lá»‡ táº¡o chÆ°Æ¡ng trÃ¬nh vÃ 
sá»­a chá»¯a cÃ³ xu hÆ°á»›ng cÃ¹ng nhau, vÃ  nhiá»u yáº¿u tá»‘ tinh táº¿ áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡i nÃ o sáº½ tháº¯ng tháº¿ vá»›i
cÃ¡i kia cho má»™t tÃ¡c vá»¥ nháº¥t Ä‘á»‹nh (xem Phá»¥ lá»¥c C).

â€¢Tá»± sá»­a chá»¯a cÃ³ nhiá»u kháº£ nÄƒng cÃ³ lá»£i hÆ¡n khi nhiá»u ngÃ¢n sÃ¡ch láº¥y máº«u Ä‘Æ°á»£c dÃ nh cho viá»‡c táº¡o ra
má»™t táº­p há»£p Ä‘a dáº¡ng cÃ¡c chÆ°Æ¡ng trÃ¬nh ban Ä‘áº§u hÆ¡n lÃ  thá»±c hiá»‡n sá»­a chá»¯a rá»™ng rÃ£i. VÃ­ dá»¥, Ä‘á»‘i vá»›i GPT-4
trÃªn APPS, rÃºt 10 máº«u trÆ°á»›c vÃ  sau Ä‘Ã³ 1 á»©ng viÃªn sá»­a chá»¯a má»—i cÃ¡i (tá»•ng cá»™ng 20 máº«u)
dáº«n Ä‘áº¿n tá»· lá»‡ vÆ°á»£t qua cao hÆ¡n 1,05Ã— so vá»›i pass@20 tá»« cÃ¹ng mÃ´ hÃ¬nh khÃ´ng sá»­a chá»¯a; rÃºt 2
máº«u trÆ°á»›c vÃ  sau Ä‘Ã³ rÃºt 10 á»©ng viÃªn sá»­a chá»¯a má»—i cÃ¡i (tá»•ng cá»™ng 22 máº«u) dáº«n Ä‘áº¿n má»™t
tá»· lá»‡ vÆ°á»£t qua tháº¥p hÆ¡n so vá»›i baseline pass@22 (0,97Ã—).

â€¢TÄƒng cÆ°á»ng cháº¥t lÆ°á»£ng pháº£n há»“i má»™t cÃ¡ch nhÃ¢n táº¡o cáº£i thiá»‡n Ä‘Ã¡ng ká»ƒ hiá»‡u quáº£ cá»§a tá»± sá»­a chá»¯a. ChÃºng
tÃ´i thay tháº¿ pháº£n há»“i cá»§a Code Llama báº±ng pháº£n há»“i Ä‘Æ°á»£c sáº£n xuáº¥t bá»Ÿi GPT-3.5 hoáº·c GPT-4, vÃ  pháº£n há»“i cá»§a GPT-3.5
báº±ng cá»§a GPT-4; trong má»i trÆ°á»ng há»£p, cáº¥u hÃ¬nh Ä‘Æ°á»£c tÄƒng cÆ°á»ng Ä‘Ã¡nh báº¡i cáº£
baseline i.i.d. tÆ°Æ¡ng á»©ng vÃ  cáº¥u hÃ¬nh tá»± sá»­a chá»¯a tÆ°Æ¡ng á»©ng á»Ÿ táº¥t cáº£ ngÃ¢n sÃ¡ch. HÆ¡n ná»¯a, thay tháº¿
giáº£i thÃ­ch cá»§a chÃ­nh GPT-4 báº±ng giáº£i thÃ­ch cá»§a má»™t láº­p trÃ¬nh viÃªn con ngÆ°á»i cáº£i thiá»‡n sá»­a chá»¯a Ä‘Ã¡ng ká»ƒ, tÄƒng
pháº§n trÄƒm cÃ¡c chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c sá»­a chá»¯a vÆ°á»£t qua cÃ¡c bÃ i kiá»ƒm tra lÃªn 1,58Ã— (tá»« 33,3% lÃªn 52,6%).

2 CÃ”NG TRÃŒNH LIÃŠN QUAN
Tá»•ng há»£p chÆ°Æ¡ng trÃ¬nh vá»›i cÃ¡c mÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n. Viá»‡c sá»­ dá»¥ng cÃ¡c mÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n cho tá»•ng há»£p chÆ°Æ¡ng trÃ¬nh
Ä‘Ã£ Ä‘Æ°á»£c nghiÃªn cá»©u rá»™ng rÃ£i trong tÃ i liá»‡u (Li et al., 2022; Austin et al., 2021; Chen et al.,
2021; Le et al., 2022; Fried et al., 2023; Nijkamp et al., 2023; Chowdhery et al., 2022; Touvron et al.,
2023; Li et al., 2023). TÃ i liá»‡u nÃ y chá»§ yáº¿u táº­p trung vÃ o viá»‡c Ä‘Ã¡nh giÃ¡ cÃ¡c mÃ´ hÃ¬nh vá»
Ä‘á»™ chÃ­nh xÃ¡c thÃ´ hoáº·c thÃ´ng sá»‘ pass@k (Kulal et al., 2019; Chen et al., 2021), thÆ°á»ng táº­n dá»¥ng
cÃ¡c ká»¹ thuáº­t lá»c dá»±a trÃªn thá»±c thi (Li et al., 2022; Shi et al., 2022) hoáº·c xáº¿p háº¡ng (Chen et al., 2021;
Inala et al., 2022; Zhang et al., 2022) Ä‘á»ƒ giáº£m sá»‘ lÆ°á»£ng máº«u Ä‘Æ°á»£c xem xÃ©t cho
cÃ¢u tráº£ lá»i cuá»‘i cÃ¹ng. CÃ´ng trÃ¬nh cá»§a chÃºng tÃ´i khÃ¡c vá»›i má»™t sá»‘ cÃ´ng trÃ¬nh trong tÃ i liá»‡u nÃ y á»Ÿ chá»— chÃºng tÃ´i giáº£ Ä‘á»‹nh cÃ³ quyá»n truy cáº­p vÃ o
bá»™ sÆ°u táº­p Ä‘áº§y Ä‘á»§ cÃ¡c vÃ­ dá»¥ Ä‘áº§u vÃ o-Ä‘áº§u ra, nhÆ° thÆ°á»ng Ä‘Æ°á»£c thá»±c hiá»‡n trong tá»•ng há»£p quy náº¡p (Kitzelmann, 2010;

--- TRANG 3 ---
Xuáº¥t báº£n nhÆ° má»™t bÃ i bÃ¡o há»™i nghá»‹ táº¡i ICLR 2024
Polozov & Gulwani, 2015; Gulwani et al., 2017; Chen et al., 2019a; Ellis et al., 2021). Äáº·c biá»‡t,
khÃ´ng giá»‘ng nhÆ° má»™t sá»‘ cÃ´ng trÃ¬nh trÆ°á»›c Ä‘Ã¢y (Li et al., 2022; Shi et al., 2022), chÃºng tÃ´i khÃ´ng phÃ¢n biá»‡t giá»¯a cÃ¡c bÃ i kiá»ƒm tra cÃ´ng khai
Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ lá»c vÃ  cÃ¡c bÃ i kiá»ƒm tra riÃªng tÆ° Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ xÃ¡c Ä‘á»‹nh tÃ­nh Ä‘Ãºng Ä‘áº¯n, vÃ¬ phÆ°Æ¡ng phÃ¡p cá»§a chÃºng tÃ´i khÃ´ng
liÃªn quan Ä‘áº¿n viá»‡c lá»c cÃ¡c Ä‘áº§u ra.

Sá»­a chá»¯a mÃ£. Sá»­a chá»¯a mÃ£ thá»‘ng kÃª vÃ  dá»±a trÃªn há»c mÃ¡y cÃ³ lá»‹ch sá»­ phong phÃº trong cáº£ cá»™ng Ä‘á»“ng ngÃ´n ngá»¯ láº­p trÃ¬nh
vÃ  há»c mÃ¡y, máº·c dÃ¹ nÃ³ chá»§ yáº¿u Ä‘Æ°á»£c Ã¡p dá»¥ng cho mÃ£ Ä‘Æ°á»£c viáº¿t bá»Ÿi con ngÆ°á»i trong bá»‘i cáº£nh ká»¹ thuáº­t pháº§n má»m (Long & Rinard, 2016; Bader et al., 2019;
Le Goues et al., 2021; Yasunaga & Liang, 2021; Chen et al., 2019b; Mesbah et al., 2019; Wang
et al., 2018). Gáº§n Ä‘Ã¢y hÆ¡n, viá»‡c sá»­ dá»¥ng sá»­a chá»¯a nhÆ° má»™t bÆ°á»›c háº­u xá»­ lÃ½ Ä‘á»ƒ cáº£i thiá»‡n mÃ£ Ä‘Æ°á»£c
tá»± Ä‘á»™ng tá»•ng há»£p Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng trong viá»‡c tá»•ng há»£p cáº£ ngÃ´n ngá»¯ cá»¥ thá»ƒ miá»n
(Gupta et al., 2020) vÃ  mÃ£ má»¥c Ä‘Ã­ch chung (Le et al., 2022; Yasunaga & Liang, 2021; 2020). ÄÃ³ng gÃ³p cá»§a chÃºng tÃ´i
khÃ¡c vá»›i háº§u háº¿t cÃ´ng trÃ¬nh trÆ°á»›c Ä‘Ã¢y trong tÃ i liá»‡u nÃ y á»Ÿ viá»‡c sá»­ dá»¥ng pháº£n há»“i vÄƒn báº£n Ä‘á»ƒ sá»­a chá»¯a,
Ä‘iá»u nÃ y cÃ³ thá»ƒ nhá» vÃ o sá»± gia tÄƒng Ä‘Ã£ Ä‘á» cáº­p á»Ÿ trÃªn trong viá»‡c sá»­ dá»¥ng LLM cho tá»•ng há»£p chÆ°Æ¡ng trÃ¬nh.

CÃ´ng trÃ¬nh Ä‘Æ°Æ¡ng Ä‘áº¡i vá» tá»± sá»­a chá»¯a LLM. CÃ³ nhiá»u cÃ´ng trÃ¬nh Ä‘Æ°Æ¡ng Ä‘áº¡i tÃ¬m cÃ¡ch tá»± sá»­a chá»¯a
vá»›i LLM, cáº£ trong viá»‡c táº¡o mÃ£ vÃ  ngoÃ i. ChÃºng tÃ´i bÃ¢y giá» lÃ m ná»•i báº­t má»™t sá»‘ cÃ´ng trÃ¬nh nÃ y Ä‘áº·c biá»‡t
gáº§n vá»›i chÃºng tÃ´i; xem Pan et al. (2023) Ä‘á»ƒ cÃ³ má»™t kháº£o sÃ¡t hoÃ n chá»‰nh hÆ¡n vá» cÃ´ng trÃ¬nh gáº§n Ä‘Ã¢y trong lÄ©nh vá»±c nÃ y
Ä‘ang phÃ¡t triá»ƒn nhanh chÃ³ng. Zhang et al. (2023) khÃ¡m phÃ¡ tá»± sá»­a chá»¯a khÃ´ng cÃ³ pháº£n há»“i ngÃ´n ngá»¯ tá»± nhiÃªn
trÃªn APPS (Hendrycks et al., 2021) sá»­ dá»¥ng cáº£ cÃ¡c mÃ´ hÃ¬nh Ä‘Æ°á»£c tinh chá»‰nh vÃ  tá»± sá»­a chá»¯a dá»±a trÃªn prompt vá»›i
Codex (Chen et al., 2021), InCoder (Fried et al., 2023), vÃ  CodeGen (Nijkamp et al., 2023). ÄÃ¡ng chÃº Ã½,
khung cá»§a há» khÃ´ng xem xÃ©t chi phÃ­ liÃªn quan Ä‘áº¿n pháº£n há»“i vÃ  sá»­a chá»¯a, Ä‘iá»u nÃ y trÃ¬nh bÃ y má»™t
quan Ä‘iá»ƒm khÃ¡c nhau Ä‘Ã¡ng ká»ƒ. TÆ°Æ¡ng tá»±, Chen et al. (2023b) Ä‘Ã¡nh giÃ¡ kháº£ nÄƒng tá»± sá»­a chá»¯a cá»§a Codex
trÃªn nhiá»u tÃ¡c vá»¥ khÃ¡c nhau, trong má»™t khung tÆ°Æ¡ng tá»± nhÆ° cÃ¡i chÃºng tÃ´i nghiÃªn cá»©u trong cÃ´ng trÃ¬nh nÃ y.
Tuy nhiÃªn, nghiÃªn cá»©u cá»§a há» khÃ¡c vá»›i chÃºng tÃ´i vá» cÃ¡c mÃ´ hÃ¬nh Ä‘Æ°á»£c xem xÃ©t vÃ , quan trá»ng hÆ¡n,
má»¥c tiÃªu nghiÃªn cá»©u, vÃ¬ chÃºng tÃ´i Ä‘áº·c biá»‡t nháº±m Ä‘iá»u tra táº§m quan trá»ng cá»§a giai Ä‘oáº¡n pháº£n há»“i vÄƒn báº£n.
NgoÃ i viá»‡c táº¡o mÃ£, tá»± sá»­a chá»¯a Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng cho nhiá»u má»¥c Ä‘Ã­ch khÃ¡c nhau, bao gá»“m
giáº£m thiá»ƒu áº£o giÃ¡c vÃ  cáº£i thiá»‡n ná»n táº£ng thá»±c táº¿ trong trá»£ lÃ½ tÃ¬m kiáº¿m (Peng et al., 2023) cÅ©ng nhÆ°
tá»‘i Æ°u hÃ³a mÃ£ vÃ  cáº£i thiá»‡n kháº£ nÄƒng Ä‘á»c (Madaan et al., 2023). Cuá»‘i cÃ¹ng, chÃºng tÃ´i xem
cÃ´ng trÃ¬nh cá»§a mÃ¬nh, trong Ä‘Ã³ chÃºng tÃ´i Ä‘iá»u tra táº§m quan trá»ng cá»§a giai Ä‘oáº¡n pháº£n há»“i vÄƒn báº£n Ä‘áº·c biá»‡t, lÃ 
bá»• sung cho nghiÃªn cá»©u Ä‘Æ°Æ¡ng Ä‘áº¡i tÃ¬m cÃ¡ch Ä‘Ã¡nh giÃ¡ tá»± sá»­a chá»¯a trong bá»‘i cáº£nh rá»™ng hÆ¡n; chÃºng tÃ´i
mong muá»‘n tháº¥y nhá»¯ng tÃ¡c Ä‘á»™ng cá»§a káº¿t quáº£ chÃºng tÃ´i sáº½ lÃ  gÃ¬ trong cÃ¡c lÄ©nh vá»±c khÃ¡c nÃ y.

3 PHÆ¯Æ NG PHÃP
3.1 Tá»”NG QUAN Tá»° Sá»¬A CHá»®A
NhÆ° Ä‘Æ°á»£c hiá»ƒn thá»‹ trong HÃ¬nh 1, chÃºng tÃ´i mÃ´ hÃ¬nh hÃ³a tá»± sá»­a chá»¯a nhÆ° bao gá»“m bá»‘n giai Ä‘oáº¡n: táº¡o mÃ£, thá»±c thi mÃ£, táº¡o pháº£n há»“i, vÃ  sá»­a chá»¯a mÃ£. ChÃºng tÃ´i bÃ¢y giá» Ä‘á»‹nh nghÄ©a chÃ­nh thá»©c cÃ¡c giai Ä‘oáº¡n khÃ¡c nhau nÃ y.

Táº¡o mÃ£. ÄÆ°á»£c Ä‘Æ°a ra má»™t Ä‘áº·c táº£ Ïˆ, má»™t mÃ´ hÃ¬nh láº­p trÃ¬nh MP Ä‘áº§u tiÃªn táº¡o ra np máº«u
i.i.d., mÃ  chÃºng tÃ´i kÃ½ hiá»‡u
{pi}np
i=1i.i.d.âˆ¼MP(Ïˆ)

Thá»±c thi mÃ£. CÃ¡c np máº«u mÃ£ nÃ y sau Ä‘Ã³ Ä‘Æ°á»£c thá»±c thi trÃªn má»™t testbed.2 Náº¿u báº¥t ká»³ máº«u p nÃ o vÆ°á»£t qua
táº¥t cáº£ cÃ¡c bÃ i kiá»ƒm traâ€”mÃ  chÃºng tÃ´i kÃ½ hiá»‡u p|=Ïˆâ€”chÃºng tÃ´i dá»«ng láº¡i, vÃ¬ má»™t chÆ°Æ¡ng trÃ¬nh thá»a mÃ£n Ä‘Ã£ Ä‘Æ°á»£c tÃ¬m tháº¥y.
Náº¿u khÃ´ng, chÃºng tÃ´i thu tháº­p cÃ¡c thÃ´ng bÃ¡o lá»—i {ei}i Ä‘Æ°á»£c tráº£ vá» bá»Ÿi mÃ´i trÆ°á»ng thá»±c thi. CÃ¡c thÃ´ng bÃ¡o lá»—i nÃ y
chá»©a thÃ´ng tin lá»—i biÃªn dá»‹ch/runtime hoáº·c má»™t vÃ­ dá»¥ Ä‘áº§u vÃ o mÃ  Ä‘áº§u ra cá»§a chÆ°Æ¡ng trÃ¬nh khÃ¡c vá»›i Ä‘áº§u ra mong Ä‘á»£i. Má»™t vÃ­ dá»¥ Ä‘Æ°á»£c hiá»ƒn thá»‹ trong HÃ¬nh 1 (thÃ nh pháº§n 3).

Táº¡o pháº£n há»“i. ThÃ´ng bÃ¡o lá»—i tá»« mÃ´i trÆ°á»ng thá»±c thi thÆ°á»ng ráº¥t cáº¥p cao,
cung cáº¥p Ã­t tÃ­n hiá»‡u cho viá»‡c sá»­a chá»¯a. Do Ä‘Ã³, nhÆ° má»™t bÆ°á»›c trung gian, chÃºng tÃ´i sá»­ dá»¥ng má»™t mÃ´ hÃ¬nh pháº£n há»“i Ä‘á»ƒ
táº¡o ra má»™t giáº£i thÃ­ch chi tiáº¿t hÆ¡n vá» nhá»¯ng gÃ¬ Ä‘Ã£ sai; HÃ¬nh 1 (thÃ nh pháº§n 4) cho tháº¥y má»™t vÃ­ dá»¥.
ChÃ­nh thá»©c, trong giai Ä‘oáº¡n nÃ y, chÃºng tÃ´i táº¡o ra nf chuá»—i pháº£n há»“i, {fij}j, cho má»—i chÆ°Æ¡ng trÃ¬nh sai, pi, nhÆ°
sau:
{fij}nf
j=1i.i.d.âˆ¼MF(Ïˆ;pi;ei)

CÃ³ má»™t bÆ°á»›c táº¡o pháº£n há»“i rÃµ rÃ ng cho phÃ©p chÃºng tÃ´i loáº¡i bá» thÃ nh pháº§n nÃ y Ä‘á»ƒ chÃºng tÃ´i cÃ³ thá»ƒ nghiÃªn cá»©u
táº§m quan trá»ng cá»§a nÃ³ má»™t cÃ¡ch riÃªng láº».

2ChÃºng tÃ´i giáº£ Ä‘á»‹nh cÃ³ quyá»n truy cáº­p vÃ o táº­p há»£p Ä‘áº§y Ä‘á»§ cÃ¡c bÃ i kiá»ƒm tra dÆ°á»›i dáº¡ng cÃ³ thá»ƒ thá»±c thi; xem Pháº§n 5 Ä‘á»ƒ tháº£o luáº­n ngáº¯n gá»n vá»
tÃ­nh há»£p lá»‡ cá»§a giáº£ Ä‘á»‹nh nÃ y trong cÃ¡c lÄ©nh vá»±c ká»¹ thuáº­t pháº§n má»m.

--- TRANG 4 ---
Xuáº¥t báº£n nhÆ° má»™t bÃ i bÃ¡o há»™i nghá»‹ táº¡i ICLR 2024
ğ›™
...
... ...
... ... ... ...
Táº¡o MÃ£Pháº£n há»“i
Sá»­a chá»¯a

HÃ¬nh 2: Má»™t cÃ¢y sá»­a chá»¯a báº¯t Ä‘áº§u vá»›i má»™t Ä‘áº·c táº£ Ïˆ (nÃºt gá»‘c), sau Ä‘Ã³ phÃ¡t triá»ƒn thÃ nh cÃ¡c chÆ°Æ¡ng trÃ¬nh ban Ä‘áº§u
{pi}, pháº£n há»“i {fij}, vÃ  sá»­a chá»¯a {rijk}.

Sá»­a chá»¯a mÃ£. Trong bÆ°á»›c cuá»‘i cÃ¹ng, cho má»—i chÆ°Æ¡ng trÃ¬nh ban Ä‘áº§u pi vÃ  pháº£n há»“i fij, nr á»©ng viÃªn chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c sá»­a chá»¯a
Ä‘Æ°á»£c láº¥y máº«u tá»« MP3:
{rijk}nr
k=1i.i.d.âˆ¼MP(Ïˆ;pi;ei;fij)

CÃ¢y sá»­a chá»¯a. ChÃºng tÃ´i gá»i cÃ¢y vÄƒn báº£n vÃ  chÆ°Æ¡ng trÃ¬nh xen káº½ Ä‘Æ°á»£c táº¡o ra bá»Ÿi quy trÃ¬nh nÃ yâ€”báº¯t nguá»“n tá»«
Ä‘áº·c táº£ Ïˆ, sau Ä‘Ã³ phÃ¢n nhÃ¡nh thÃ nh cÃ¡c chÆ°Æ¡ng trÃ¬nh ban Ä‘áº§u pi, má»—i chÆ°Æ¡ng trÃ¬nh phÃ¢n nhÃ¡nh thÃ nh pháº£n há»“i fij
vÃ  sau Ä‘Ã³ sá»­a chá»¯a rijkâ€”lÃ  má»™t cÃ¢y sá»­a chá»¯a, T (HÃ¬nh 2).

Láº¥y máº«u chung pháº£n há»“i vÃ  sá»­a chá»¯a. Khung tá»•ng quÃ¡t Ä‘Æ°á»£c trÃ¬nh bÃ y á»Ÿ trÃªn khÃ´ng yÃªu cáº§u
mÃ´ hÃ¬nh láº­p trÃ¬nh vÃ  mÃ´ hÃ¬nh pháº£n há»“i pháº£i giá»‘ng nhau, do Ä‘Ã³ cho phÃ©p sá»­ dá»¥ng cÃ¡c mÃ´ hÃ¬nh chuyÃªn biá»‡t
trong há»‡ thá»‘ng. Khi MP=MF, chÃºng tÃ´i táº¡o chung cáº£ pháº£n há»“i vÃ  chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c sá»­a chá»¯a
trong má»™t máº«u duy nháº¥t tá»« mÃ´ hÃ¬nh; xem Phá»¥ lá»¥c G Ä‘á»ƒ xem chi tiáº¿t cÃ¡ch prompt khÃ¡c
giá»¯a cÃ i Ä‘áº·t nÃ y vÃ  cÃ i Ä‘áº·t trÆ°á»›c Ä‘Ã³. ChÃ­nh thá»©c, chÃºng tÃ´i kÃ½ hiá»‡u Ä‘iá»u nÃ y lÃ 
{(fij, rij)}nfr
j=1i.i.d.âˆ¼MP(Ïˆ;pi;ei)

3.2 PASS@K CHO Tá»° Sá»¬A CHá»®A
Trong tá»•ng há»£p chÆ°Æ¡ng trÃ¬nh khÃ´ng cÃ³ tá»± sá»­a chá»¯a, hiá»‡u suáº¥t thÆ°á»ng Ä‘Æ°á»£c Ä‘o báº±ng pass@k (Chen et al.,
2021; Kulal et al., 2019)â€”xÃ¡c suáº¥t ráº±ng Ã­t nháº¥t má»™t trong k máº«u chÆ°Æ¡ng trÃ¬nh i.i.d. tá»« mÃ´ hÃ¬nh
thá»a mÃ£n má»™t Ä‘áº·c táº£ nháº¥t Ä‘á»‹nh. Trong tá»± sá»­a chá»¯a, cÃ¡c máº«u chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c rÃºt tá»« mÃ´ hÃ¬nh cáº£ trong
giai Ä‘oáº¡n máº«u ban Ä‘áº§u vÃ  trong giai Ä‘oáº¡n sá»­a chá»¯a; do Ä‘Ã³, chÃºng ta cáº§n Ã¡p dá»¥ng pass@k Ä‘á»ƒ tÃ­nh Ä‘áº¿n
sá»‘ lÆ°á»£ng máº«u tá»« cáº£ hai giai Ä‘oáº¡n.

Trong pháº§n chÃ­nh cá»§a cÃ´ng trÃ¬nh nÃ y, chÃºng tÃ´i xem cÃ¡c cÃ¢y sá»­a chá»¯a T nhÆ° chÃ­nh chÃºng táº¡o thÃ nh cÃ¡c máº«u Ä‘á»™c láº­p
tá»« má»™t mÃ´ hÃ¬nh chung Tâˆ¼M= (MPâ—¦MFâ—¦MP) vÃ  Ä‘á»‹nh nghÄ©a sá»‘ chÆ°Æ¡ng trÃ¬nh trong cÃ¢y
lÃ  |programs(T)|â‰œnp+npnfr (hoáº·c |programs(T)|â‰œnp+npnfnr); sau Ä‘Ã³ chÃºng tÃ´i so sÃ¡nh vá»›i má»™t
baseline vá»›i k=|programs(T)| máº«u i.i.d. ChÃºng tÃ´i tin ráº±ng Ä‘iá»u nÃ y sáº½ lÃ m cho cÃ¡c phÃ¡t hiá»‡n cá»§a chÃºng tÃ´i phÃ¹ há»£p nháº¥t
vá»›i cÃ¡c nhÃ  thá»±c hÃ nh, nhá»¯ng ngÆ°á»i cÃ³ kháº£ nÄƒng triá»ƒn khai cÃ¡c agent tá»± sá»­a chá»¯a vá»›i láº¥y máº«u theo lÃ´. Phá»¥ lá»¥c A
láº·p láº¡i cÃ¡c thÃ­ nghiá»‡m cá»§a chÃºng tÃ´i vá»›i hai chiáº¿n lÆ°á»£c Ä‘Ã¡nh giÃ¡ thay tháº¿, trong Ä‘Ã³ chÃºng tÃ´i thay Ä‘á»•i chiáº¿n lÆ°á»£c tÃ¬m kiáº¿m
vÃ  Ä‘o chi phÃ­ láº¥y máº«u báº±ng tá»•ng sá»‘ token Ä‘Æ°á»£c láº¥y máº«u tá»« mÃ´ hÃ¬nh Ä‘á»ƒ tÃ­nh Ä‘áº¿n Ä‘á»™ dÃ i khÃ¡c nhau
cá»§a cÃ¡c máº«u pháº£n há»“i vÃ  chÆ°Æ¡ng trÃ¬nh. Quan trá»ng, máº·c dÃ¹ chi tiáº¿t khÃ¡c nhau, cÃ¡c xu hÆ°á»›ng tá»•ng thá»ƒ mÃ  chÃºng tÃ´i quan sÃ¡t váº«n giá»‘ng nhau.

Viá»‡c táº¡o ra má»™t lÆ°á»£ng lá»›n cÃ¢y sá»­a chá»¯a Ä‘á»™c láº­p cho má»—i cÃ i Ä‘áº·t cá»§a cÃ¡c siÃªu tham sá»‘
nhanh chÃ³ng trá»Ÿ nÃªn khÃ´ng kháº£ thi vá» máº·t tÃ­nh toÃ¡n, vÃ¬ váº­y chÃºng tÃ´i váº½ cÃ¡c Æ°á»›c tÃ­nh bootstrap cá»§a tá»· lá»‡ pass trong
cÃ¡c thÃ­ nghiá»‡m cá»§a chÃºng tÃ´i. ChÃºng tÃ´i Ä‘áº§u tiÃªn táº¡o ra má»™t cÃ¢y sá»­a chá»¯a ráº¥t lá»›n duy nháº¥t cho má»—i Ä‘áº·c táº£ tÃ¡c vá»¥, vá»›i:
Npâ‰¥np máº«u chÆ°Æ¡ng trÃ¬nh ban Ä‘áº§u; Nfâ‰¥nf chuá»—i pháº£n há»“i cho má»—i chÆ°Æ¡ng trÃ¬nh sai; vÃ  Nrâ‰¥nr
á»©ng viÃªn sá»­a chá»¯a cho má»—i chuá»—i pháº£n há»“i. ÄÆ°á»£c Ä‘Æ°a ra má»™t cÃ i Ä‘áº·t cá»§a (np, nf, nr), chÃºng tÃ´i sau Ä‘Ã³ láº¥y máº«u con (vá»›i
thay tháº¿) Nt cÃ¢y con sá»­a chá»¯a khÃ¡c nhau tá»« táº­p dá»¯ liá»‡u Ä‘Ã´ng láº¡nh nÃ y vÃ  tÃ­nh trung bÃ¬nh trÃªn cÃ¡c láº§n cháº¡y. ChÃºng tÃ´i
sá»­ dá»¥ng Np= 50 cho táº¥t cáº£ cÃ¡c thÃ­ nghiá»‡m, vÃ  xem xÃ©t npâ‰¤25 cho cÃ¡c phÆ°Æ¡ng phÃ¡p tá»± sá»­a chá»¯a vÃ  npâ‰¤50
cho phÆ°Æ¡ng phÃ¡p baseline, khÃ´ng sá»­a chá»¯a. TÆ°Æ¡ng tá»±, cho cÃ¡c chuá»—i pháº£n há»“i, chÃºng tÃ´i sá»­ dá»¥ng Nf= 25 vÃ 

3ChÃºng tÃ´i sá»­ dá»¥ng cÃ¹ng má»™t mÃ´ hÃ¬nh cho cáº£ viá»‡c táº¡o mÃ£ ban Ä‘áº§u vÃ  sá»­a chá»¯a mÃ£, vÃ¬ Ä‘Ã¢y lÃ  cÃ¡c tÃ¡c vá»¥
tÆ°Æ¡ng tá»± vá» cÆ¡ báº£n.

--- TRANG 5 ---
Xuáº¥t báº£n nhÆ° má»™t bÃ i bÃ¡o há»™i nghá»‹ táº¡i ICLR 2024
nfâ‰¤10 (ngoáº¡i trá»« Pháº§n 4.2, trong Ä‘Ã³ chÃºng tÃ´i chá»‰ xem xÃ©t nf= 1 vÃ  do Ä‘Ã³ thá»a hiá»‡p vá»›i Nf= 10
thay tháº¿). Äá»‘i vá»›i cÃ¡c á»©ng viÃªn sá»­a chá»¯a, vÃ¬ chÃºng tÃ´i thá»±c hiá»‡n láº¥y máº«u chung pháº£n há»“i vÃ  sá»­a chá»¯a trong háº§u háº¿t
cÃ¡c thÃ­ nghiá»‡m cá»§a chÃºng tÃ´i, chÃºng tÃ´i Ä‘áº·t Nr=nr= 1. Cuá»‘i cÃ¹ng, chÃºng tÃ´i sá»­ dá»¥ng Nt= 1000 cho táº¥t cáº£ cÃ¡c cÃ i Ä‘áº·t. Æ¯á»›c tÃ­nh tá»· lá»‡ pass
theo cÃ¡ch nÃ y giáº£m Ä‘Ã¡ng ká»ƒ chi phÃ­ tÃ­nh toÃ¡n cá»§a cÃ¡c thÃ­ nghiá»‡m cá»§a chÃºng tÃ´i, vÃ¬ chÃºng tÃ´i cÃ³ thá»ƒ tÃ¡i sá»­ dá»¥ng
cÃ¹ng má»™t táº­p dá»¯ liá»‡u ban Ä‘áº§u Ä‘á»ƒ tÃ­nh toÃ¡n cÃ¡c Æ°á»›c tÃ­nh cho táº¥t cáº£ cÃ¡c lá»±a chá»n khÃ¡c nhau cá»§a np, nf, vÃ  nr.

4 THÃ NGHIá»†M
Trong pháº§n nÃ y, chÃºng tÃ´i thá»±c hiá»‡n cÃ¡c thÃ­ nghiá»‡m Ä‘á»ƒ tráº£ lá»i cÃ¡c cÃ¢u há»i nghiÃªn cá»©u sau: (a) Trong bá»‘i cáº£nh
cÃ¡c cÃ¢u Ä‘á»‘ láº­p trÃ¬nh Python, liá»‡u tá»± sá»­a chá»¯a cÃ³ tá»‘t hÆ¡n láº¥y máº«u i.i.d. khÃ´ng sá»­a chá»¯a cho
cÃ¡c mÃ´ hÃ¬nh chÃºng tÃ´i xem xÃ©t khÃ´ng? Náº¿u cÃ³, dÆ°á»›i cÃ¡c siÃªu tham sá»‘ nÃ o thÃ¬ tá»± sá»­a chá»¯a hiá»‡u quáº£ nháº¥t? (b) Liá»‡u
má»™t mÃ´ hÃ¬nh pháº£n há»“i máº¡nh hÆ¡n cÃ³ tÄƒng cÆ°á»ng hiá»‡u suáº¥t sá»­a chá»¯a cá»§a mÃ´ hÃ¬nh khÃ´ng? (c) Liá»‡u viá»‡c giá»¯ má»™t con ngÆ°á»i trong
vÃ²ng láº·p Ä‘á»ƒ cung cáº¥p pháº£n há»“i cÃ³ má»Ÿ khÃ³a hiá»‡u suáº¥t sá»­a chá»¯a tá»‘t hÆ¡n ngay cáº£ cho mÃ´ hÃ¬nh máº¡nh nháº¥t?

ChÃºng tÃ´i Ä‘Ã¡nh giÃ¡ cÃ¡c giáº£ thuyáº¿t nÃ y cho hai mÃ´ hÃ¬nh Ä‘Æ°á»£c phá»¥c vá»¥ APIâ€”GPT-3.5 (Ouyang et al., 2022; OpenAI,
2022) vÃ  GPT-44 (OpenAI, 2023)â€”cÅ©ng nhÆ° CodeLlama-13b-instruct5 (RoziÃ¨re et al., 2023), má»™t
mÃ´ hÃ¬nh vá»›i trá»ng sá»‘ cÃ³ thá»ƒ truy cáº­p cÃ´ng khai cÃ³ thá»ƒ Ä‘Æ°á»£c cháº¡y cá»¥c bá»™ trÃªn pháº§n cá»©ng cáº¥p ngÆ°á»i tiÃªu dÃ¹ng. ChÃºng tÃ´i
xem xÃ©t cÃ¡c thá»­ thÃ¡ch láº­p trÃ¬nh Python tá»« cáº£ APPS (Hendrycks et al., 2021) vÃ  HumanEval
(Chen et al., 2021); cho má»—i táº­p dá»¯ liá»‡u chÃºng tÃ´i háº¡n cháº¿ sá»± chÃº Ã½ cá»§a mÃ¬nh vÃ o má»™t mÃ´ hÃ¬nh vá»›i hiá»‡u suáº¥t baseline
máº¡nh hÆ¡n (GPT-3.5 trÃªn HumanEval, GPT-4 trÃªn APPS) vÃ  má»™t mÃ´ hÃ¬nh vá»›i hiá»‡u suáº¥t baseline
yáº¿u hÆ¡n (Code LLama trÃªn HumanEval, GPT-3.5 trÃªn APPS). TrÃªn APPS, Ä‘á»ƒ giá»¯ cho cÃ¡c thÃ­ nghiá»‡m cá»§a chÃºng tÃ´i
kháº£ thi, chÃºng tÃ´i Ä‘Ã¡nh giÃ¡ trÃªn má»™t táº­p há»£p Ä‘Æ°á»£c chá»n ngáº«u nhiÃªn gá»“m 300 tÃ¡c vá»¥.6 ChÃºng tÃ´i triá»ƒn khai tá»± sá»­a chá»¯a
sá»­ dá»¥ng ná»‘i chuá»—i máº«u vá»›i prompting má»™t láº§n; cÃ¡c prompt cá»§a chÃºng tÃ´i Ä‘Æ°á»£c Ä‘Æ°a ra trong Phá»¥ lá»¥c G.
Dá»±a trÃªn cÃ¡c thÃ­ nghiá»‡m sÆ¡ bá»™, chÃºng tÃ´i Ä‘áº·t nhiá»‡t Ä‘á»™ giáº£i mÃ£ thÃ nh 0.8 cho táº¥t cáº£ cÃ¡c mÃ´ hÃ¬nh. Khi thÃ­ch há»£p, chÃºng tÃ´i so sÃ¡nh vá»›i má»™t baseline khÃ´ng sá»­a chá»¯a. Baseline nÃ y, Ä‘Æ°á»£c hiá»ƒn thá»‹ báº±ng má»™t Ä‘Æ°á»ng Ä‘en
trong cÃ¡c biá»ƒu Ä‘á»“, Ä‘Æ¡n giáº£n lÃ  láº¥y máº«u i.i.d. tá»« mÃ´ hÃ¬nh tÆ°Æ¡ng á»©ng (vÃ­ dá»¥, GPT-4 khi chÃºng tÃ´i khÃ¡m phÃ¡
liá»‡u GPT-4 cÃ³ kháº£ nÄƒng tá»± sá»­a chá»¯a khÃ´ng).

4.1 Tá»° Sá»¬A CHá»®A KHÃ”NG PHáº¢I LÃ€ VIÃŠN Äáº N Báº C, NHÆ¯NG Cáº¢I THIá»†N Vá»šI CÃC MáºªU BAN Äáº¦U ÄA Dáº NG
Trong tiá»ƒu má»¥c nÃ y, chÃºng tÃ´i xem xÃ©t thiáº¿t láº­p trong Ä‘Ã³ MP=MF, tá»©c lÃ  má»™t thiáº¿t láº­p tá»± sá»­a chá»¯a thá»±c sá»± trong Ä‘Ã³
má»™t mÃ´ hÃ¬nh duy nháº¥t Ä‘Æ°á»£c sá»­ dá»¥ng cho cáº£ viá»‡c táº¡o mÃ£/sá»­a chá»¯a vÃ  táº¡o pháº£n há»“i. Äá»ƒ Ä‘Ã¡nh giÃ¡ xem
tá»± sá»­a chá»¯a cÃ³ dáº«n Ä‘áº¿n hiá»‡u suáº¥t tá»‘t hÆ¡n so vá»›i phÆ°Æ¡ng phÃ¡p baseline dá»±a trÃªn láº¥y máº«u i.i.d., khÃ´ng sá»­a chá»¯a hay khÃ´ng, chÃºng tÃ´i
thay Ä‘á»•i np vÃ  nfrâ€”tá»©c lÃ  sá»‘ lÆ°á»£ng máº«u cÆ¡ sá»Ÿ ban Ä‘áº§u i.i.d. vÃ  cÃ¡c máº«u pháº£n há»“i, sá»­a chá»¯a chung
Ä‘Æ°á»£c rÃºt tá»« MPâ€”trong pháº¡m vi (np, nfr)âˆˆ {1,2,5,10,25} Ã— { 1,3,5,10}.7

HÃ¬nh 4 cho tháº¥y káº¿t quáº£ cho Code LLama vÃ  GPT-3.5 trÃªn HumanEval, trong khi HÃ¬nh 3 cho tháº¥y
káº¿t quáº£ cho GPT-3.5 vÃ  GPT-4 trÃªn táº­p dá»¯ liá»‡u APPS thÃ¡ch thá»©c hÆ¡n. (ChÃºng tÃ´i cÅ©ng cháº¡y GPT-4 trÃªn
HumanEval vÃ  CodeLlama trÃªn APPS, nhÆ°ng hoÃ£n cÃ¡c káº¿t quáº£ nÃ y Ä‘áº¿n Phá»¥ lá»¥c B Ä‘á»ƒ ngáº¯n gá»n.) Trong cÃ¡c
biá»ƒu Ä‘á»“ con bÃªn trÃ¡i, mÃ u sáº¯c cá»§a má»—i cháº¥m cho biáº¿t sá»‘ lÆ°á»£ng máº«u ban Ä‘áº§u (np), trong khi hÃ¬nh dáº¡ng cá»§a nÃ³
cho biáº¿t sá»‘ lÆ°á»£ng máº«u pháº£n há»“i-sá»­a chá»¯a (nfr). Trong cÃ¡c biá»ƒu Ä‘á»“ bÃªn pháº£i, chÃºng tÃ´i hiá»ƒn thá»‹ má»™t báº£n Ä‘á»“ nhiá»‡t
vá»›i hai siÃªu tham sá»‘ dá»c theo cÃ¡c trá»¥c, trong Ä‘Ã³ giÃ¡ trá»‹ trong má»—i Ã´ cho biáº¿t tá»· lá»‡ pass trung bÃ¬nh vá»›i tá»± sá»­a chá»¯a
Ä‘Æ°á»£c chuáº©n hÃ³a bá»Ÿi tá»· lá»‡ pass trung bÃ¬nh cá»§a phÆ°Æ¡ng phÃ¡p baseline, khÃ´ng sá»­a chá»¯a khi Ä‘Æ°á»£c Ä‘Æ°a ra
cÃ¹ng ngÃ¢n sÃ¡ch. Khi tá»· lá»‡ pass trung bÃ¬nh chuáº©n hÃ³a lÃ  1, Ä‘iá»u nÃ y cÃ³ nghÄ©a lÃ  tá»± sá»­a chá»¯a Ä‘áº¡t Ä‘Æ°á»£c
cÃ¹ng tá»· lá»‡ pass nhÆ° phÆ°Æ¡ng phÃ¡p baseline á»Ÿ ngÃ¢n sÃ¡ch máº«u Ä‘Ã³; má»™t giÃ¡ trá»‹ cao hÆ¡n (â‰¥1)
cÃ³ nghÄ©a lÃ  tá»± sá»­a chá»¯a hoáº¡t Ä‘á»™ng tá»‘t hÆ¡n baseline.

TrÃªn APPS, chÃºng tÃ´i quan sÃ¡t nhá»¯ng cáº£i thiá»‡n nhá» cho GPT-3.5 chá»‰ cho cÃ¡c giÃ¡ trá»‹ lá»›n nháº¥t cá»§a np. GPT-4, máº·t khÃ¡c, cho tháº¥y nhá»¯ng cáº£i thiá»‡n Ä‘Ã¡ng ká»ƒ hÆ¡n, Ä‘Ã¡nh báº¡i baseline lÃªn Ä‘áº¿n 8%. Khi chÃºng tÃ´i
chia nhá» cÃ¡c bÃ i toÃ¡n theo má»©c Ä‘á»™ khÃ³ (xem cÃ¡c hÃ¬nh trong Phá»¥ lá»¥c C), chÃºng tÃ´i tháº¥y ráº±ng lá»£i Ã­ch lá»›n hÆ¡n
trÃªn cÃ¡c bÃ i toÃ¡n khÃ³ hÆ¡n: GPT-3.5 tháº¥y lÃªn Ä‘áº¿n 34% cáº£i thiá»‡n hiá»‡u suáº¥t so vá»›i baseline trÃªn
cÃ¡c bÃ i toÃ¡n cáº¥p Ä‘á»™ cáº¡nh tranh, cháº³ng háº¡n. Trong khi Ä‘Ã³, trÃªn HumanEval chÃºng tÃ´i quan sÃ¡t nhá»¯ng cáº£i thiá»‡n hiá»‡u suáº¥t

4ChÃºng tÃ´i sá»­ dá»¥ng cÃ¡c endpoint Ä‘Ã´ng láº¡nh gpt-3.5-turbo-0301 vÃ  gpt-4-0314.
5https://huggingface.co/codellama/CodeLlama-13b-Instruct-hf
6CÃ¡c tÃ¡c vá»¥ nÃ y Ä‘Æ°á»£c láº¥y máº«u theo tá»· lá»‡ phÃ¹ há»£p vá»›i táº§n suáº¥t cá»§a cÃ¡c má»©c Ä‘á»™ khÃ³ khÃ¡c nhau trong
táº­p kiá»ƒm tra APPS rá»™ng hÆ¡n: 180 cÃ¢u há»i cáº¥p Ä‘á»™ phá»ng váº¥n, 60 cÃ¢u há»i cáº¥p Ä‘á»™ cáº¡nh tranh, vÃ  60 cÃ¢u há»i cáº¥p Ä‘á»™ giá»›i thiá»‡u. Táº¥t cáº£ cÃ¡c tÃ¡c vá»¥ Ä‘Æ°á»£c liá»‡t kÃª trong Phá»¥ lá»¥c H.
7Nhá»› láº¡i ráº±ng khi MP=MF, chÃºng tÃ´i láº¥y máº«u chung cho nfr cáº·p chuá»—i pháº£n há»“i vÃ  chÆ°Æ¡ng trÃ¬nh sá»­a chá»¯a
thay vÃ¬ láº¥y máº«u chÃºng láº§n lÆ°á»£t (Pháº§n 3.1).

--- TRANG 6 ---
Xuáº¥t báº£n nhÆ° má»™t bÃ i bÃ¡o há»™i nghá»‹ táº¡i ICLR 2024
0 10 20 30 40 50
Sá»‘ chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c láº¥y máº«u0.00.20.40.60.81.0Tá»· lá»‡ pass trung bÃ¬nhnp=1
np=2
np=5
np=10
np=25nfr=1
nfr=3
nfr=5
nfr=10
1 2 5 10 25
ChÆ°Æ¡ng trÃ¬nh ban Ä‘áº§u (np)10
5
3
1Pháº£n há»“i-sá»­a chá»¯a (nfr)0.83 0.89 O.O.B. O.O.B. O.O.B.
0.85 0.90 0.96 O.O.B. O.O.B.
0.87 0.92 0.96 1.01 O.O.B.
0.91 0.95 0.98 1.00 1.04
(a) GPT-3.5.

0 10 20 30 40 50
Sá»‘ chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c láº¥y máº«u0.00.20.40.60.81.0Tá»· lá»‡ pass trung bÃ¬nhnp=1
np=2
np=5
np=10
np=25nfr=1
nfr=3
nfr=5
nfr=10
1 2 5 10 25
ChÆ°Æ¡ng trÃ¬nh ban Ä‘áº§u (np)10
5
3
1Pháº£n há»“i-sá»­a chá»¯a (nfr)0.90 0.97 O.O.B. O.O.B. O.O.B.
0.92 0.97 1.04 O.O.B. O.O.B.
0.94 0.98 1.03 1.06 O.O.B.
0.99 1.00 1.03 1.05 1.08
(b) GPT-4.

HÃ¬nh 3: Káº¿t quáº£ tá»± sá»­a chá»¯a GPT-3.5 vÃ  GPT-4 trÃªn APPS. TrÃ¡i: Tá»· lá»‡ pass trung bÃ¬nh so vá»›i sá»‘
máº«u Ä‘Æ°á»£c táº¡o. ÄÆ°á»ng Ä‘en lÃ  láº¥y máº«u i.i.d. khÃ´ng sá»­a chá»¯a tá»« cÃ¹ng mÃ´ hÃ¬nh. LÆ°u Ã½ ráº±ng
cÃ¡c thanh lá»—i thÆ°á»ng nhá» hÆ¡n cÃ¡c Ä‘iá»ƒm Ä‘Ã¡nh dáº¥u. Pháº£i: Tá»· lá»‡ pass trung bÃ¬nh chuáº©n hÃ³a so vá»›i
baseline á»Ÿ ngÃ¢n sÃ¡ch tÆ°Æ¡ng Ä‘Æ°Æ¡ng. CÃ¡c Ã´ mÃ  sá»‘ máº«u vÆ°á»£t quÃ¡ 50 Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u O.O.B.
(ngoÃ i giá»›i háº¡n).

tÆ°Æ¡ng tá»± nhÆ° GPT-4 trÃªn APPS cho Code Llama (lÃªn Ä‘áº¿n 10% cáº£i thiá»‡n so vá»›i baseline),
trong khi lá»£i Ã­ch cho GPT-3.5 bá»‹ háº¡n cháº¿ vÃ¬ nÃ³ tiáº¿p cáº­n tráº§n (lÃªn Ä‘áº¿n 3%).

Tá»« nhá»¯ng quan sÃ¡t nÃ y, rÃµ rÃ ng lÃ  tá»± sá»­a chá»¯a khÃ´ng pháº£i lÃºc nÃ o cÅ©ng lÃ  chiáº¿n lÆ°á»£c tá»‘t nháº¥t khi so sÃ¡nh vá»›i má»™t
baseline khÃ´ng sá»­a chá»¯a vá»›i cÃ¹ng ngÃ¢n sÃ¡ch máº«u, Ä‘áº·c biá»‡t lÃ  cho cÃ¡c ngÃ¢n sÃ¡ch nhá» hÆ¡n. HÆ¡n ná»¯a, khÃ³ dá»± Ä‘oÃ¡n khi nÃ o
tá»± sá»­a chá»¯a sáº½ hiá»‡u quáº£. Trong má»™t phÃ¢n tÃ­ch vá» tá»· lá»‡ thÃ nh cÃ´ng sá»­a chá»¯a (Phá»¥ lá»¥c C),
chÃºng tÃ´i tháº¥y ráº±ng cÃ¡c mÃ´ hÃ¬nh máº¡nh hÆ¡n cÃ³ tá»· lá»‡ thÃ nh cÃ´ng sá»­a chá»¯a cao hÆ¡n trÃªn cÃ¡c tÃ¡c vá»¥ dá»… hÆ¡nâ€”nhÆ°ng Ä‘á»“ng thá»i,
cÆ¡ há»™i nháº­n Ä‘Æ°á»£c má»™t chÆ°Æ¡ng trÃ¬nh Ä‘Ãºng báº±ng cÃ¡ch láº¥y máº«u láº¡i cÅ©ng tÄƒng khi tÃ¡c vá»¥ cÃ ng dá»…. Do Ä‘Ã³,
chÃºng ta tháº¥y ráº±ng tá»· lá»‡ thÃ nh cÃ´ng táº¡o chÆ°Æ¡ng trÃ¬nh vÃ  sá»­a chá»¯a cÃ³ xu hÆ°á»›ng cÃ¹ng nhau, vÃ  nhiá»u yáº¿u tá»‘ tinh táº¿ chÆ°a biáº¿t
áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡i nÃ o sáº½ tháº¯ng tháº¿ vá»›i cÃ¡i kia trong báº¥t ká»³ lÄ©nh vá»±c nháº¥t Ä‘á»‹nh nÃ o.

Máº·c dÃ¹ hiá»‡u quáº£ tá»•ng thá»ƒ cá»§a tá»± sá»­a chá»¯a khÃ´ng rÃµ rÃ ng, chÃºng tÃ´i quan sÃ¡t má»™t xu hÆ°á»›ng rÃµ rÃ ng liÃªn quan Ä‘áº¿n
má»‘i quan há»‡ giá»¯a cÃ¡c siÃªu tham sá»‘. ÄÆ°á»£c Ä‘Æ°a ra má»™t sá»‘ lÆ°á»£ng pháº£n há»“i-sá»­a chá»¯a cá»‘ Ä‘á»‹nh (nfr),
tÄƒng sá»‘ lÆ°á»£ng chÆ°Æ¡ng trÃ¬nh ban Ä‘áº§u (np) (tá»©c lÃ  di chuyá»ƒn sang pháº£i dá»c theo trá»¥c x trÃªn cÃ¡c báº£n Ä‘á»“ nhiá»‡t)
má»™t cÃ¡ch nháº¥t quÃ¡n dáº«n Ä‘áº¿n lá»£i Ã­ch hiá»‡u suáº¥t tÆ°Æ¡ng Ä‘á»‘i cho táº¥t cáº£ cÃ¡c mÃ´ hÃ¬nh. Máº·t khÃ¡c, cá»‘ Ä‘á»‹nh np vÃ 
tÄƒng nfr (tá»©c lÃ  di chuyá»ƒn lÃªn dá»c theo trá»¥c y trÃªn cÃ¡c báº£n Ä‘á»“ nhiá»‡t) dÆ°á»ng nhÆ° khÃ´ng Ä‘Ã¡ng giÃ¡ chi phÃ­ bá»• sung
phÃ¡t sinh, Ä‘Æ°a ra lá»£i Ã­ch nhá» á»Ÿ ngÃ¢n sÃ¡ch cao hÆ¡n vÃ  thÆ°á»ng tháº­m chÃ­ giáº£m hiá»‡u suáº¥t á»Ÿ ngÃ¢n sÃ¡ch tháº¥p hÆ¡n. Äiá»u nÃ y cho tháº¥y ráº±ng, vá»›i má»™t ngÃ¢n sÃ¡ch cá»‘ Ä‘á»‹nh, yáº¿u tá»‘ quan trá»ng nháº¥t
xÃ¡c Ä‘á»‹nh liá»‡u tá»± sá»­a chá»¯a cÃ³ dáº«n Ä‘áº¿n má»™t chÆ°Æ¡ng trÃ¬nh Ä‘Ãºng hay khÃ´ng lÃ  sá»± Ä‘a dáº¡ng cá»§a cÃ¡c máº«u cÆ¡ sá»Ÿ
Ä‘Æ°á»£c táº¡o ra trÆ°á»›c, thay vÃ¬ sá»± Ä‘a dáº¡ng cá»§a cÃ¡c sá»­a chá»¯a Ä‘Æ°á»£c láº¥y máº«u. CÃ³ nhiá»u máº«u ban Ä‘áº§u hÆ¡n tÄƒng kháº£ nÄƒng cÃ³ Ã­t nháº¥t má»™t chÆ°Æ¡ng trÃ¬nh gáº§n vá»›i chÆ°Æ¡ng trÃ¬nh lÃ½ tÆ°á»Ÿng vÃ , do Ä‘Ã³, cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­a chá»¯a thÃ nh cÃ´ng.

VÃ¬ nfr= 1 dÆ°á»ng nhÆ° lÃ  lá»±a chá»n tá»•ng thá»ƒ tá»‘t nháº¥t cho siÃªu tham sá»‘ nfr, tiáº¿p theo chÃºng tÃ´i cÃ´ láº­p
tÃ¡c Ä‘á»™ng cá»§a sá»‘ lÆ°á»£ng chÆ°Æ¡ng trÃ¬nh ban Ä‘áº§u, np, báº±ng cÃ¡ch khÃ¡m phÃ¡ má»™t táº­p há»£p cÃ¡c giÃ¡ trá»‹ cÃ³ thá»ƒ dÃ y Ä‘áº·c hÆ¡n

--- TRANG 7 ---
Xuáº¥t báº£n nhÆ° má»™t bÃ i bÃ¡o há»™i nghá»‹ táº¡i ICLR 2024
0 10 20 30 40 50
Sá»‘ chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c láº¥y máº«u0.00.20.40.60.81.0Tá»· lá»‡ pass trung bÃ¬nhnp=1
np=2
np=5
np=10
np=25nfr=1
nfr=3
nfr=5
nfr=10
1 2 5 10 25
ChÆ°Æ¡ng trÃ¬nh ban Ä‘áº§u (np)10
5
3
1Pháº£n há»“i-sá»­a chá»¯a (nfr)0.94 1.00 O.O.B. O.O.B. O.O.B.
0.94 1.00 1.06 O.O.B. O.O.B.
0.94 0.99 1.06 1.09 O.O.B.
0.95 1.00 1.04 1.07 1.09
(a) CodeLlama-13b-instruct.

0 10 20 30 40 50
Sá»‘ chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c láº¥y máº«u0.00.20.40.60.81.0Tá»· lá»‡ pass trung bÃ¬nhnp=1
np=2
np=5
np=10
np=25nfr=1
nfr=3
nfr=5
nfr=10
1 2 5 10 25
ChÆ°Æ¡ng trÃ¬nh ban Ä‘áº§u (np)10
5
3
1Pháº£n há»“i-sá»­a chá»¯a (nfr)0.97 1.00 O.O.B. O.O.B. O.O.B.
0.98 1.00 1.02 O.O.B. O.O.B.
0.98 1.00 1.02 1.02 O.O.B.
0.99 1.00 1.02 1.02 1.03
(b) GPT-3.5.

HÃ¬nh 4: Káº¿t quáº£ tá»± sá»­a chá»¯a CodeLlama-13b-instruct vÃ  GPT-3.5 trÃªn HumanEval. TrÃ¡i: Tá»· lá»‡ pass trung bÃ¬nh
so vá»›i sá»‘ máº«u Ä‘Æ°á»£c táº¡o. ÄÆ°á»ng Ä‘en lÃ  láº¥y máº«u i.i.d. khÃ´ng sá»­a chá»¯a tá»« cÃ¹ng mÃ´ hÃ¬nh. LÆ°u Ã½ ráº±ng
cÃ¡c thanh lá»—i thÆ°á»ng nhá» hÆ¡n cÃ¡c Ä‘iá»ƒm Ä‘Ã¡nh dáº¥u. Pháº£i: Tá»· lá»‡ pass trung bÃ¬nh chuáº©n hÃ³a so vá»›i
baseline á»Ÿ ngÃ¢n sÃ¡ch tÆ°Æ¡ng Ä‘Æ°Æ¡ng. CÃ¡c Ã´ mÃ  sá»‘ máº«u vÆ°á»£t quÃ¡ 50 Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u O.O.B. (ngoÃ i giá»›i háº¡n).

10 20 30 40 50
Sá»‘ chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c láº¥y máº«u0.20.40.60.81.0Tá»· lá»‡ pass trung bÃ¬nh
(a) HumanEval.

10 20 30 40 50
Sá»‘ chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c láº¥y máº«u0.20.40.60.81.0Tá»· lá»‡ pass trung bÃ¬nh
 (b) APPS.

MP= Code Llama (khÃ´ng sá»­a chá»¯a)
MP= GPT-3.5 (khÃ´ng sá»­a chá»¯a)
MP= GPT-4 (khÃ´ng sá»­a chá»¯a)
MP=MF= Code Llama
MP=MF= GPT-3.5
MP=MF= GPT-4
MP= Code Llama; MF= GPT-3.5
MP= Code Llama; MF= GPT-4
MP= GPT-3.5; MF= GPT-4

HÃ¬nh 5: Káº¿t quáº£ khi nfr (hoáº·c nf vÃ  nr) = 1. VÃ¹ng tÃ´ bÃ³ng hiá»ƒn thá»‹ Â±1 Ä‘á»™ lá»‡ch chuáº©n.

ues:(np, nfr)âˆˆ {1,2, ....,24,25} Ã— { 1}. CÃ¡c biá»ƒu Ä‘á»“ Ä‘Æ°á»£c hiá»ƒn thá»‹ trong HÃ¬nh 5 cho MP=MFâˆˆ
{CodeLlama ,GPT-3.5 ,GPT-4} vÃ  cÃ¡c phÆ°Æ¡ng phÃ¡p baseline, khÃ´ng sá»­a chá»¯a.8 9 ChÃºng tÃ´i quan sÃ¡t lá»£i Ã­ch hiá»‡u suáº¥t
cho cáº£ Code Llama vÃ  GPT-3.5 trÃªn HumanEval. TrÃªn APPS, chá»‰ GPT-4 hÆ°á»Ÿng lá»£i Ä‘Ã¡ng ká»ƒ
tá»« tá»± sá»­a chá»¯a, trong khi cáº£ Code Llama vÃ  GPT-3.5 chá»§ yáº¿u thua kÃ©m hoáº·c báº±ng cÃ¡c baseline cá»§a há»,
cÃ³ thá»ƒ tháº¥y má»™t sá»‘ lá»£i Ã­ch ráº¥t nhá» á»Ÿ ngÃ¢n sÃ¡ch cao. Trong táº¥t cáº£ cÃ¡c trÆ°á»ng há»£p, lá»£i Ã­ch hiá»‡u suáº¥t á»Ÿ ngÃ¢n sÃ¡ch nhá» hÆ¡n
ráº¥t nhá» hoáº·c khÃ´ng tá»“n táº¡i, nhÆ°ng tÄƒng lÃªn pháº§n nÃ o khi ngÃ¢n sÃ¡ch tÄƒng.

8VÃ¬ GPT-3.5 Ä‘Ã£ gáº§n Ä‘áº¡t tráº§n trÃªn HumanEval, chÃºng tÃ´i bá» qua GPT-4 khá»i hÃ¬nh nÃ y Ä‘á»ƒ giáº£m bá»›t sá»± lá»™n xá»™n.
9LÆ°u Ã½ ráº±ng vÃ¬ nfr Ä‘Æ°á»£c cá»‘ Ä‘á»‹nh, trong cÃ¡c biá»ƒu Ä‘á»“ nÃ y, cÃ³ má»‘i tÆ°Æ¡ng quan trá»±c tiáº¿p giá»¯a np vÃ  k: k=np+np.

--- TRANG 8 ---
Xuáº¥t báº£n nhÆ° má»™t bÃ i bÃ¡o há»™i nghá»‹ táº¡i ICLR 2024
Báº£ng 1: Tá»· lá»‡ thÃ nh cÃ´ng sá»­a chá»¯a vá»›i giáº£i thÃ­ch cá»§a GPT-4 so vá»›i nhá»¯ng giáº£i thÃ­ch cá»§a cÃ¡c tham gia viÃªn con ngÆ°á»i cá»§a chÃºng tÃ´i.

Äá»™ khÃ³ | Giá»›i thiá»‡u | Phá»ng váº¥n | Cáº¡nh tranh | Tá»•ng thá»ƒ
GPT-4 Pháº£n há»“i | 42.64% | 19.33% | 3.67% | 33.30%
Pháº£n há»“i Con ngÆ°á»i | 62.21% | 45.67% | 14.67% | 52.60%

4.2 TÄ‚NG CÆ¯á»œNG PHáº¢N Há»’I Má» KHÃ“A Lá»¢I ÃCH HIá»†U SUáº¤T Tá»ª Sá»¬A CHá»®A
Tiáº¿p theo, chÃºng tÃ´i tiáº¿n hÃ nh má»™t thÃ­ nghiá»‡m trong Ä‘Ã³ chÃºng tÃ´i Ä‘Ã¡nh giÃ¡ tÃ¡c Ä‘á»™ng cá»§a viá»‡c sá»­ dá»¥ng má»™t mÃ´ hÃ¬nh riÃªng biá»‡t, máº¡nh hÆ¡n
Ä‘á»ƒ táº¡o pháº£n há»“i; Ä‘iá»u nÃ y lÃ  Ä‘á»ƒ kiá»ƒm tra giáº£ thuyáº¿t ráº±ng tá»± sá»­a chá»¯a bá»‹ cáº£n trá»Ÿ bá»Ÿi sá»± khÃ´ng thá»ƒ cá»§a mÃ´ hÃ¬nh
trong viá»‡c tá»± xem xÃ©t vÃ  gá»¡ lá»—i mÃ£ cá»§a chÃ­nh nÃ³. Do Ä‘Ã³ chÃºng tÃ´i Ä‘áº·t MP lÃ  má»™t mÃ´ hÃ¬nh yáº¿u hÆ¡n (Code Llama trÃªn
HumanEval, Code Llama hoáº·c GPT-3.5 trÃªn APPS) vÃ  MF lÃ  má»™t mÃ´ hÃ¬nh máº¡nh hÆ¡n (GPT-3.5 hoáº·c GPT-4
cho Code Llama trÃªn HumanEval; GPT-3.5 cho Code Llama vÃ  GPT-4 cho GPT-3.5 trÃªn APPS). Sau Ä‘Ã³ chÃºng tÃ´i
thay Ä‘á»•i cÃ¡c siÃªu tham sá»‘ nhÆ° (np, nf, nr)âˆˆ {1, ....,25} Ã— { 1} Ã— { 1}, tÆ°Æ¡ng tá»± nhÆ° thÃ­ nghiá»‡m trÆ°á»›c Ä‘Ã³.10 11

Káº¿t quáº£ cho thÃ­ nghiá»‡m nÃ y cÅ©ng Ä‘Æ°á»£c hiá»ƒn thá»‹ trong HÃ¬nh 5 (Code Llama káº¿t há»£p vá»›i GPT-3.5 mÃ u vÃ ng;
Code Llama vá»›i GPT-4 mÃ u xanh sÃ¡ng; GPT-3.5 vá»›i GPT-4 mÃ u xanh sÃ¡ng). ChÃºng tÃ´i quan sÃ¡t má»™t
xu hÆ°á»›ng nháº¥t quÃ¡n: trÃªn APPS, cáº£ Code Llama vÃ  GPT-3.5 bÃ¢y giá» Ä‘Ã¡nh báº¡i cáº£ baseline cá»§a há» (xanh Ä‘áº­m, xÃ¡m) vÃ  cÃ¡c cháº¿ Ä‘á»™ tá»± sá»­a chá»¯a tÆ°Æ¡ng á»©ng cá»§a há» (tÃ­m, Ä‘á»). TrÃªn HumanEval, hiá»‡u suáº¥t
mÃ  Code Llama Ä‘áº¡t Ä‘Æ°á»£c tÄƒng thÃªm vá»›i sá»©c máº¡nh cá»§a mÃ´ hÃ¬nh pháº£n há»“i; lÆ°u Ã½ Ä‘áº·c biá»‡t
hiá»‡u suáº¥t mÃ  Code Llama Ä‘áº¡t Ä‘Æ°á»£c khi Ä‘Æ°á»£c Ä‘Æ°a ra pháº£n há»“i tá»« GPT-4 (Ä‘Æ°á»ng xanh sÃ¡ng). Äiá»u nÃ y
cho tháº¥y ráº±ng giai Ä‘oáº¡n pháº£n há»“i vÄƒn báº£n tá»± nÃ³ cÃ³ táº§m quan trá»ng then chá»‘t, vÃ  viá»‡c cáº£i thiá»‡n nÃ³ lÃ m giáº£m
ngháº½n cá»• chai trong tá»± sá»­a chá»¯a.

4.3 PHáº¢N Há»’I CON NGÆ¯á»œI Cáº¢I THIá»†N ÄÃNG Ká»‚ Tá»¶ Lá»† THÃ€NH CÃ”NG Sá»¬A CHá»®A Cá»¦A GPT-4
Äá»‘i vá»›i thÃ­ nghiá»‡m cuá»‘i cÃ¹ng cá»§a chÃºng tÃ´i, chÃºng tÃ´i xem xÃ©t tÃ¡c Ä‘á»™ng cá»§a viá»‡c sá»­ dá»¥ng pháº£n há»“i cá»§a má»™t láº­p trÃ¬nh viÃªn con ngÆ°á»i chuyÃªn gia
khi thá»±c hiá»‡n sá»­a chá»¯a vá»›i cÃ¡c mÃ´ hÃ¬nh ráº¥t máº¡nh nhÆ° GPT-4. Má»¥c tiÃªu cá»§a nghiÃªn cá»©u nÃ y khÃ´ng pháº£i lÃ  thá»±c hiá»‡n má»™t
so sÃ¡nh trá»±c tiáº¿p giá»¯a phÆ°Æ¡ng phÃ¡p cÃ³ con ngÆ°á»i trong vÃ²ng láº·p so vá»›i tá»± sá»­a chá»¯a, vÃ¬ phÆ°Æ¡ng phÃ¡p cÃ³ con ngÆ°á»i trong vÃ²ng láº·p
Ã¡p Ä‘áº·t gÃ¡nh náº·ng nháº­n thá»©c nhiá»u hÆ¡n, Ä‘iá»u mÃ  chÃºng tÃ´i khÃ´ng nghiÃªn cá»©u. Thay vÃ o Ä‘Ã³, má»¥c tiÃªu cá»§a chÃºng tÃ´i lÃ  tiáº¿p tá»¥c
Ä‘iá»u tra cÃ¡ch thá»©c vÃ  lÃ½ do cháº¥t lÆ°á»£ng pháº£n há»“i áº£nh hÆ°á»Ÿng Ä‘áº¿n hiá»‡u suáº¥t downstream trong tá»± sá»­a chá»¯a.

PhÆ°Æ¡ng phÃ¡p thu tháº­p dá»¯ liá»‡u. ChÃºng tÃ´i tuyá»ƒn dá»¥ng 16 tham gia viÃªn vÃ  thu tháº­p tá»•ng cá»™ng 2 pháº§n pháº£n há»“i Ä‘Æ°á»£c viáº¿t bá»Ÿi con ngÆ°á»i
cho má»—i trong sá»‘ 40 chÆ°Æ¡ng trÃ¬nh tháº¥t báº¡i Ä‘Æ°á»£c láº¥y máº«u tá»« GPT-4. Má»—i chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c hiá»ƒn thá»‹ cho
hai tham gia viÃªn khÃ¡c nhau, Ä‘á»ƒ giáº£m phÆ°Æ¡ng sai do má»©c Ä‘á»™ ká»¹ nÄƒng vÃ  phong cÃ¡ch viáº¿t cá»§a tham gia viÃªn.
CÃ¡c tham gia viÃªn Ä‘Æ°á»£c yÃªu cáº§u dÃ nh khoáº£ng má»™t giá» cho nghiÃªn cá»©u tá»•ng thá»ƒ, vÃ  Ä‘Æ°á»£c bá»“i thÆ°á»ng
báº±ng tháº» quÃ  táº·ng $15. NghiÃªn cá»©u nÃ y Ä‘Æ°á»£c phÃª duyá»‡t bá»Ÿi Há»™i Ä‘á»“ng ÄÃ¡nh giÃ¡ Thá»ƒ cháº¿ (IRB) cá»§a chÃºng tÃ´i vÃ  Ä‘Æ°á»£c thá»±c hiá»‡n
hoÃ n toÃ n thÃ´ng qua má»™t cuá»™c kháº£o sÃ¡t trá»±c tuyáº¿n. Xem Phá»¥ lá»¥c D Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t vá» phÆ°Æ¡ng phÃ¡p thu tháº­p dá»¯ liá»‡u, bao gá»“m má»™t báº£n sao hoÃ n chá»‰nh cá»§a cÃ¡c hÆ°á»›ng dáº«n mÃ  chÃºng tÃ´i cung cáº¥p cho cÃ¡c tham gia viÃªn.

PhÃ¢n tÃ­ch Ä‘á»‹nh lÆ°á»£ng. Sau khi cÃ³ Ä‘Æ°á»£c hai pháº§n pháº£n há»“i Ä‘Æ°á»£c viáº¿t bá»Ÿi con ngÆ°á»i cho má»—i chÆ°Æ¡ng trÃ¬nh,
chÃºng tÃ´i láº¥y máº«u 25 á»©ng viÃªn sá»­a chá»¯a cho má»—i cáº·p (pháº£n há»“i, chÆ°Æ¡ng trÃ¬nh) tá»« GPT-4. ChÃºng tÃ´i Ä‘iá»u kiá»‡n hÃ³a
Ä‘áº·c táº£, chÆ°Æ¡ng trÃ¬nh ban Ä‘áº§u vÃ  chuá»—i pháº£n há»“i; ngoÃ i pháº£n há»“i Ä‘Æ°á»£c thu tháº­p
tá»« cÃ¡c tham gia viÃªn cá»§a chÃºng tÃ´i, chÃºng tÃ´i cÅ©ng thá»­ hai chuá»—i pháº£n há»“i cá»§a chÃ­nh GPT-4 cho má»—i chÆ°Æ¡ng trÃ¬nh. Cuá»‘i cÃ¹ng, chÃºng tÃ´i
thá»±c thi táº¥t cáº£ cÃ¡c á»©ng viÃªn sá»­a chá»¯a nÃ y vá»›i testbed, vÃ  ghi nháº­n táº§n suáº¥t chÃºng vÆ°á»£t qua.

Káº¿t quáº£ Ä‘Æ°á»£c tÃ³m táº¯t trong Báº£ng 1, vá»›i phÃ¢n tÃ­ch chi tiáº¿t tá»«ng tÃ¡c vá»¥ trong Phá»¥ lá»¥c E. ChÃºng tÃ´i
lÆ°u Ã½ ráº±ng tá»· lá»‡ thÃ nh cÃ´ng tá»•ng thá»ƒ tÄƒng 1.58Ã— khi chÃºng tÃ´i thay tháº¿ pháº£n há»“i cá»§a chÃ­nh GPT-4
báº±ng pháº£n há»“i cá»§a cÃ¡c tham gia viÃªn con ngÆ°á»i. CÃ³ láº½ khÃ´ng ngáº¡c nhiÃªn, sá»± khÃ¡c biá»‡t tÆ°Æ¡ng Ä‘á»‘i tÄƒng khi cÃ¡c
bÃ i toÃ¡n trá»Ÿ nÃªn khÃ³ hÆ¡n, cho tháº¥y ráº±ng kháº£ nÄƒng sáº£n xuáº¥t pháº£n há»“i chÃ­nh xÃ¡c vÃ  há»¯u Ã­ch cá»§a GPT-4 thua kÃ©m
xa hÆ¡n so vá»›i cÃ¡c tham gia viÃªn con ngÆ°á»i cá»§a chÃºng tÃ´i khi tÃ¡c vá»¥ (vÃ  mÃ£) trá»Ÿ nÃªn phá»©c táº¡p hÆ¡n.

PhÃ¢n tÃ­ch Ä‘á»‹nh tÃ­nh. ChÃºng tÃ´i xem qua thá»§ cÃ´ng táº¥t cáº£ pháº£n há»“i cá»§a GPT-4 vÃ  cÃ¡c tham gia viÃªn vÃ 
ghi nháº­n xem pháº£n há»“i cÃ³: (a) cÃ³ váº», nhÃ¬n qua, Ä‘Ãºng, hoáº·c náº¿u nÃ³ rÃµ rÃ ng
khÃ´ng chÃ­nh xÃ¡c; (b) rÃµ rÃ ng Ä‘á» xuáº¥t má»™t thay Ä‘á»•i nhá» Ä‘á»‘i vá»›i mÃ£ (vÃ­ dá»¥ "thay Ä‘á»•i Ä‘iá»u kiá»‡n trÃªn dÃ²ng
10LÆ°u Ã½ ráº±ng vÃ¬ chÃºng tÃ´i hiá»‡n Ä‘ang hoáº¡t Ä‘á»™ng trong má»™t thiáº¿t láº­p trong Ä‘Ã³ cÃ¡c giai Ä‘oáº¡n pháº£n há»“i vÃ  sá»­a chá»¯a pháº£i Ä‘Æ°á»£c tÃ¡ch biá»‡t,
chÃºng tÃ´i cÃ³ ba siÃªu tham sá»‘â€”np, nf, nrâ€”thay vÃ¬ haiâ€”np, nfr (Pháº§n 3.1).
11Äá»ƒ giáº£m chi phÃ­, chÃºng tÃ´i sá»­ dá»¥ng Nf= 10 thay vÃ¬ Nf= 25 cho thÃ­ nghiá»‡m nÃ y (xem Pháº§n 3.2).

--- TRANG 9 ---
Xuáº¥t báº£n nhÆ° má»™t bÃ i bÃ¡o há»™i nghá»‹ táº¡i ICLR 2024
X"); (c) rÃµ rÃ ng Ä‘á» xuáº¥t má»™t thay Ä‘á»•i lá»›n Ä‘á»‘i vá»›i mÃ£ (vÃ­ dá»¥ "Ä‘áº·t bÃ i toÃ¡n nhÆ° min-cut thay vÃ¬
shortest-path"); (d) chá»©a cÃ¡c khá»‘i mÃ£ giáº£ hoáº·c Python (Ä‘iá»u mÃ  pháº£n há»“i cá»§a GPT-4 khÃ´ng bao giá» lÃ m,
theo thiáº¿t káº¿ thÃ­ nghiá»‡m cá»§a chÃºng tÃ´i); hoáº·c (e) bÃ y tá» sá»± khÃ´ng cháº¯c cháº¯n (sá»­ dá»¥ng cÃ¡c cá»¥m tá»« nhÆ° "khÃ´ng cháº¯c cháº¯n", "cÃ³ váº» nhÆ°",
v.v.).12 VÃ­ dá»¥ vá» má»—i danh má»¥c Ä‘Æ°á»£c hiá»ƒn thá»‹ trong Phá»¥ lá»¥c F. ChÃºng tÃ´i tháº¥y ráº±ng

â€¢Háº§u nhÆ° táº¥t cáº£ pháº£n há»“i do con ngÆ°á»i Ä‘Ã³ng gÃ³p xen káº½ ngÃ´n ngá»¯ tá»± nhiÃªn vá»›i cÃ¡c biá»ƒu thá»©c toÃ¡n há»c/mÃ£ Ä‘Æ¡n láº» thá»‰nh thoáº£ng; chá»‰ 2/80 pháº£n há»“i bao gá»“m mÃ£ giáº£ hoáº·c Python rÃµ rÃ ng.

â€¢ Pháº£n há»“i cá»§a GPT-4 cÃ³ nhiá»u kháº£ nÄƒng khÃ´ng chÃ­nh xÃ¡c hÆ¡n (32/80 so vá»›i 7/80 cho pháº£n há»“i con ngÆ°á»i).

â€¢GPT-4 cÃ³ nhiá»u kháº£ nÄƒng Ä‘á» xuáº¥t rÃµ rÃ ng cÃ¡c thay Ä‘á»•i nhá» (54/80 so vá»›i 42/80 cho GPT-4 vÃ  cÃ¡c
tham gia viÃªn, tÆ°Æ¡ng á»©ng; 28/48 so vá»›i 38/73 náº¿u chÃºng tÃ´i lá»c ra cÃ¡c Ä‘á» xuáº¥t rÃµ rÃ ng khÃ´ng Ä‘Ãºng),
trong khi cÃ¡c tham gia viÃªn con ngÆ°á»i cho tháº¥y xu hÆ°á»›ng hÆ¡i lá»›n hÆ¡n Ä‘á»ƒ Ä‘á» xuáº¥t cÃ¡c thay Ä‘á»•i cáº¥p cao (23/80 so vá»›i
18/80 cho GPT-4; 21/73 so vá»›i 13/48 khi cÃ³ váº» Ä‘Ãºng).

â€¢ CÃ¡c tham gia viÃªn con ngÆ°á»i cá»§a chÃºng tÃ´i Ä‘Ã´i khi bÃ y tá» sá»± khÃ´ng cháº¯c cháº¯n (7/80); GPT-4 khÃ´ng bao giá» lÃ m váº­y (0/80).

PhÃ¢n tÃ­ch sÃ¢u hÆ¡n nÃ y cho tháº¥y ráº±ng káº¿t quáº£ trong Báº£ng 1 khÃ´ng pháº£i do cÃ¡c artifacts nhÆ° cÃ¡c tham gia viÃªn cá»§a chÃºng tÃ´i
cung cáº¥p cÃ¡c khá»‘i mÃ£ rÃµ rÃ ng mÃ  mÃ´ hÃ¬nh chá»‰ Ä‘Æ¡n giáº£n sao chÃ©p. Thay vÃ o Ä‘Ã³, sá»± khÃ¡c biá»‡t vá» hiá»‡u suáº¥t
dÆ°á»ng nhÆ° Ä‘Æ°á»£c gÃ¢y ra bá»Ÿi sá»± káº¿t há»£p cá»§a pháº£n há»“i chÃ­nh xÃ¡c hÆ¡n, kháº£ nÄƒng lá»›n hÆ¡n Ä‘á»ƒ Ä‘á» xuáº¥t cÃ¡c thay Ä‘á»•i cáº¥p cao, quy mÃ´ lá»›n Ä‘á»‘i vá»›i mÃ£ khi cáº§n thiáº¿t, vÃ  kháº£ nÄƒng cá»§a cÃ¡c tham gia viÃªn cá»§a chÃºng tÃ´i trong viá»‡c bÃ y tá» sá»±
khÃ´ng cháº¯c cháº¯n cá»§a há» (thay vÃ¬ tá»± tin Ä‘Æ°a ra pháº£n há»“i cÃ³ kháº£ nÄƒng khÃ´ng chÃ­nh xÃ¡c).

5 Háº N CHáº¾
Äáº§u tiÃªn, Ä‘á»ƒ giáº£m chi phÃ­ tÃ­nh toÃ¡n, chÃºng tÃ´i Ä‘iá»n trÆ°á»›c vÃ  sau Ä‘Ã³ láº¥y máº«u con tá»« má»™t cÃ¢y sá»­a chá»¯a lá»›n duy nháº¥t Ä‘á»ƒ bootstrap má»™t sá»‘ lÆ°á»£ng lá»›n cÃ¢y sá»­a chá»¯a cho má»—i cÃ i Ä‘áº·t cá»§a cÃ¡c siÃªu tham sá»‘ (Pháº§n 3.2).
Äiá»u nÃ y cÃ³ nguy cÆ¡ Ä‘Æ°a cÃ¡c artifacts thá»‘ng kÃª vÃ o phÃ¢n tÃ­ch cá»§a chÃºng tÃ´i. Äá»ƒ giáº£m thiá»ƒu rá»§i ro nÃ y, chÃºng tÃ´i giá»›i háº¡n np vÃ 
nfr xa dÆ°á»›i Np vÃ  Nfr, tÆ°Æ¡ng á»©ng, trong cÃ¡c thÃ­ nghiá»‡m tá»± sá»­a chá»¯a cá»§a chÃºng tÃ´i. HÆ¡n ná»¯a, chÃºng tÃ´i lÆ°u Ã½ ráº±ng
Ä‘á»™ lá»‡ch chuáº©n ráº¥t nhá» trong cÃ¡c thÃ­ nghiá»‡m cá»§a chÃºng tÃ´i cho táº¥t cáº£ cÃ¡c giÃ¡ trá»‹ cá»§a np vÃ  nfr (xem cÃ¡c biá»ƒu Ä‘á»“ phÃ¢n tÃ¡n
trong HÃ¬nh 3, 4), mang láº¡i sá»± tin tÆ°Æ¡ng tÄƒng trong káº¿t quáº£ cá»§a chÃºng tÃ´i.

Thá»© hai, cÃ¡c thÃ­ nghiá»‡m cá»§a chÃºng tÃ´i táº­p trung vÃ o cÃ¡c tÃ¡c vá»¥ láº­p trÃ¬nh Python Ä‘á»™c láº­p vá»›i cÃ¡c bÃ i kiá»ƒm tra Ä‘Æ¡n vá»‹ cÃ³ thá»ƒ thá»±c thi. Äiá»u nÃ y khÃ¡ khÃ¡c vá»›i cÃ¡c tÃ¡c vá»¥ phÃ¡t triá»ƒn pháº§n má»m thá»±c táº¿, nÆ¡i cÃ¡c Ä‘áº·c táº£ thÆ°á»ng
khÃ´ng Ä‘áº§y Ä‘á»§, cÃ³ cÃ¡c phá»¥ thuá»™c ngá»¯ cáº£nh dÃ i, vÃ  cÃ¡c bÃ i kiá»ƒm tra khÃ´ng cÃ³ kháº£ nÄƒng cÃ³ sáºµn cho
má»—i Ä‘oáº¡n mÃ£ riÃªng láº». CÃ´ng viá»‡c tÆ°Æ¡ng lai sáº½ Ä‘Æ°á»£c yÃªu cáº§u Ä‘á»ƒ xem vai trÃ² mÃ  tá»± sá»­a chá»¯a cÃ³ thá»ƒ Ä‘Ã³ng á»Ÿ Ä‘Ã³: vÃ­ dá»¥, liá»‡u nÃ³ cÃ³ thá»ƒ giáº£i quyáº¿t sá»± mÆ¡ há»“ trong Ä‘áº·c táº£, hoáº·c náº¿u cÃ¡c ká»¹ thuáº­t tá»•ng há»£p bÃ i kiá»ƒm tra Ä‘Æ¡n vá»‹ tá»± Ä‘á»™ng (Li et al., 2022; Chen et al., 2023a) cÃ³ thá»ƒ Ä‘Æ°á»£c táº­n dá»¥ng cÃ¹ng vá»›i cÃ¡c thá»±c hÃ nh ká»¹ thuáº­t Ä‘Ã£ Ä‘Æ°á»£c thiáº¿t láº­p nhÆ° PhÃ¡t triá»ƒn HÆ°á»›ng Kiá»ƒm tra (Astels, 2003) Ä‘á»ƒ vÆ°á»£t qua viá»‡c thiáº¿u cÃ¡c bÃ i kiá»ƒm tra cháº¥t lÆ°á»£ng cao.

Cuá»‘i cÃ¹ng, nghiÃªn cá»©u cá»§a chÃºng tÃ´i vá» dá»¯ liá»‡u con ngÆ°á»i khÃ´ng theo dÃµi thá»i gian mÃ  cÃ¡c tham gia viÃªn máº¥t Ä‘á»ƒ gá»¡ lá»—i cÃ¡c
chÆ°Æ¡ng trÃ¬nh. Káº¿t quáº£ lÃ , chÃºng tÃ´i chá»‰ cÃ³ thá»ƒ Ä‘Ã¡nh giÃ¡ cháº¥t lÆ°á»£ng cá»§a pháº£n há»“i (vÃ  tÃ¡c Ä‘á»™ng nÃ y cÃ³
Ä‘á»‘i vá»›i sá»­a chá»¯a). NghiÃªn cá»©u thÃªm táº¡i giao Ä‘iá»ƒm cá»§a TÆ°Æ¡ng tÃ¡c Con ngÆ°á»i-MÃ¡y tÃ­nh, AI, vÃ  tá»•ng há»£p chÆ°Æ¡ng trÃ¬nh
lÃ  cáº§n thiáº¿t Ä‘á»ƒ khÃ¡m phÃ¡ khi nÃ o vÃ  cÃ¡ch thá»©c can thiá»‡p cá»§a con ngÆ°á»i nÃªn Ä‘Æ°á»£c táº­n dá»¥ng, cÅ©ng nhÆ° cÃ¡ch thá»©c
cÃ¡c trá»£ lÃ½ láº­p trÃ¬nh nÃªn Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ táº¡o Ä‘iá»u kiá»‡n cho phong cÃ¡ch tÆ°Æ¡ng tÃ¡c nÃ y.

6 Káº¾T LUáº¬N
ChÃºng tÃ´i Ä‘Ã£ Ä‘iá»u tra tá»± sá»­a chá»¯a cho viá»‡c táº¡o mÃ£, nhÃ¬n Ä‘áº·c biá»‡t vÃ o CodeLlama-13b-instruct,
GPT-3.5 vÃ  GPT-4 trÃªn cÃ¡c bÃ i toÃ¡n tá»« HumanEval vÃ  APPS. Trong má»™t loáº¡t cÃ¡c thÃ­ nghiá»‡m, chÃºng tÃ´i
quan sÃ¡t ráº±ng (1) khi chi phÃ­ thá»±c hiá»‡n sá»­a chá»¯a Ä‘Æ°á»£c tÃ­nh vÃ o, lá»£i Ã­ch hiá»‡u suáº¥t tá»«
tá»± sá»­a chá»¯a thÆ°á»ng khiÃªm tá»‘n, thay Ä‘á»•i khÃ´ng chá»‰ giá»¯a mÃ  cÃ²n trong cÃ¡c táº­p dá»¯ liá»‡u, vÃ  dá»±a vÃ o viá»‡c Ä‘áº¡t Ä‘Æ°á»£c
sá»± Ä‘a dáº¡ng Ä‘á»§ trong cÃ¡c chÆ°Æ¡ng trÃ¬nh ban Ä‘áº§u. HÆ¡n ná»¯a, báº±ng cÃ¡ch thay tháº¿ giai Ä‘oáº¡n pháº£n há»“i, chÃºng tÃ´i tháº¥y ráº±ng
(2) thay tháº¿ pháº£n há»“i cá»§a má»™t mÃ´ hÃ¬nh yáº¿u hÆ¡n báº±ng pháº£n há»“i cá»§a má»™t mÃ´ hÃ¬nh máº¡nh hÆ¡n cáº£i thiá»‡n Ä‘Ã¡ng ká»ƒ
hiá»‡u suáº¥t. Cuá»‘i cÃ¹ng, chÃºng tÃ´i thá»±c hiá»‡n má»™t thÃ­ nghiá»‡m vá»›i cÃ¡c tham gia viÃªn con ngÆ°á»i, trong Ä‘Ã³ chÃºng tÃ´i tháº¥y ráº±ng
(3) thay tháº¿ pháº£n há»“i tá»± táº¡o cá»§a GPT-4 báº±ng pháº£n há»“i Ä‘Æ°á»£c cung cáº¥p bá»Ÿi má»™t láº­p trÃ¬nh viÃªn cÃ³ kinh nghiá»‡m
tÄƒng sá»‘ lÆ°á»£ng chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c sá»­a chá»¯a vÆ°á»£t qua táº¥t cáº£ cÃ¡c bÃ i kiá»ƒm tra Ä‘Æ¡n vá»‹ lÃªn 1.58Ã—. Káº¿t quáº£ cá»§a chÃºng tÃ´i cho tháº¥y
ráº±ng tá»± sá»­a chá»¯a khÃ´ng pháº£i lÃ  viÃªn Ä‘áº¡n báº¡c cho viá»‡c táº¡o mÃ£, vÃ  cÃ¡c mÃ´ hÃ¬nh hiá»‡n táº¡i bá»‹ cáº£n trá»Ÿ bá»Ÿi
sá»± khÃ´ng thá»ƒ sáº£n xuáº¥t pháº£n há»“i chÃ­nh xÃ¡c vÃ  há»¯u Ã­ch má»™t cÃ¡ch Ä‘Ã¡ng tin cáº­y vá» lÃ½ do táº¡i sao mÃ£ sai.
