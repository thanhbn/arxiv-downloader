# 2309.00608.pdf
# Chuyá»ƒn Ä‘á»•i tá»« PDF sang TXT
# ÄÆ°á»ng dáº«n nguá»“n: ./2309.00608.pdf
# KÃ­ch thÆ°á»›c tá»‡p: 2762798 bytes

===============================================
Ná»˜I DUNG Tá»†P PDF
===============================================

--- TRANG 1 ---
Äá»“ng hÃ nh vá»›i cÃ¡c Trá»£ lÃ½: Káº¿t há»£p MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n vá»›i
CÃ´ng cá»¥ HoÃ n thiá»‡n Ä‘á»ƒ Sá»­a chá»¯a ChÆ°Æ¡ng trÃ¬nh Tá»± Ä‘á»™ng
Yuxiang Wei
Äáº¡i há»c Illinois
Urbana-Champaign, USA
ywei40@illinois.edu

Chunqiu Steven Xia
Äáº¡i há»c Illinois
Urbana-Champaign, USA
chunqiu2@illinois.edu

Lingming Zhang
Äáº¡i há»c Illinois
Urbana-Champaign, USA
lingming@illinois.edu

TÃ“M Táº®T
Trong quÃ¡ trÃ¬nh Sá»­a chá»¯a ChÆ°Æ¡ng trÃ¬nh Tá»± Ä‘á»™ng (APR), viá»‡c tá»•ng há»£p cÃ¡c báº£n vÃ¡ chÃ­nh xÃ¡c cho cÃ¡c há»‡ thá»‘ng thá»±c táº¿ báº±ng cÃ¡c ngÃ´n ngá»¯ láº­p trÃ¬nh Ä‘a má»¥c Ä‘Ã­ch cÃ³ thá»ƒ ráº¥t thÃ¡ch thá»©c. CÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n (LLM) gáº§n Ä‘Ã¢y Ä‘Ã£ Ä‘Æ°á»£c chá»©ng minh lÃ  nhá»¯ng "copilot" há»¯u Ã­ch trong viá»‡c há»— trá»£ cÃ¡c nhÃ  phÃ¡t triá»ƒn vá»›i nhiá»u tÃ¡c vá»¥ mÃ£ hÃ³a khÃ¡c nhau, vÃ  cÅ©ng Ä‘Ã£ Ä‘Æ°á»£c Ã¡p dá»¥ng trá»±c tiáº¿p Ä‘á»ƒ tá»•ng há»£p báº£n vÃ¡. Tuy nhiÃªn, háº§u háº¿t cÃ¡c LLM coi chÆ°Æ¡ng trÃ¬nh nhÆ° chuá»—i token, cÃ³ nghÄ©a lÃ  chÃºng khÃ´ng biáº¿t vá» cÃ¡c rÃ ng buá»™c ngá»¯ nghÄ©a cÆ¡ báº£n cá»§a ngÃ´n ngá»¯ láº­p trÃ¬nh Ä‘Ã­ch. Äiá»u nÃ y dáº«n Ä‘áº¿n nhiá»u báº£n vÃ¡ Ä‘Æ°á»£c táº¡o ra khÃ´ng há»£p lá»‡ vá» máº·t tÄ©nh, cáº£n trá»Ÿ tÃ­nh thá»±c tiá»…n cá»§a ká»¹ thuáº­t. Do Ä‘Ã³, chÃºng tÃ´i Ä‘á» xuáº¥t Repilot, má»™t framework tá»•ng há»£p mÃ£ tá»•ng quÃ¡t Ä‘á»ƒ tiáº¿p tá»¥c Ä‘á»“ng hÃ nh vá»›i cÃ¡c "copilot" AI (tá»©c lÃ  LLM) báº±ng cÃ¡ch tá»•ng há»£p nhiá»u báº£n vÃ¡ há»£p lá»‡ hÆ¡n trong quÃ¡ trÃ¬nh sá»­a chá»¯a. Hiá»ƒu biáº¿t chÃ­nh cá»§a chÃºng tÃ´i lÃ  nhiá»u LLM táº¡o ra Ä‘áº§u ra theo cÃ¡ch tá»± há»“i quy (tá»©c lÃ  tá»«ng token má»™t), giá»‘ng nhÆ° con ngÆ°á»i viáº¿t chÆ°Æ¡ng trÃ¬nh, Ä‘iá»u nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c tÄƒng cÆ°á»ng vÃ  hÆ°á»›ng dáº«n Ä‘Ã¡ng ká»ƒ thÃ´ng qua má»™t CÃ´ng cá»¥ HoÃ n thiá»‡n. Repilot tá»•ng há»£p má»™t báº£n vÃ¡ á»©ng cá»­ viÃªn má»™t cÃ¡ch hiá»‡p Ä‘á»“ng thÃ´ng qua sá»± tÆ°Æ¡ng tÃ¡c giá»¯a LLM vÃ  CÃ´ng cá»¥ HoÃ n thiá»‡n, Ä‘iá»u nÃ y 1) loáº¡i bá» cÃ¡c token khÃ´ng kháº£ thi Ä‘Æ°á»£c Ä‘á» xuáº¥t bá»Ÿi LLM vÃ  2) hoÃ n thiá»‡n chá»§ Ä‘á»™ng token dá»±a trÃªn cÃ¡c gá»£i Ã½ Ä‘Æ°á»£c cung cáº¥p bá»Ÿi CÃ´ng cá»¥ HoÃ n thiá»‡n. ÄÃ¡nh giÃ¡ cá»§a chÃºng tÃ´i trÃªn má»™t táº­p con cá»§a bá»™ dá»¯ liá»‡u Defects4j 1.2 vÃ  2.0 Ä‘Æ°á»£c sá»­ dá»¥ng rá»™ng rÃ£i cho tháº¥y Repilot vÆ°á»£t trá»™i hÆ¡n cÃ¡c ká»¹ thuáº­t tá»‘i tÃ¢n báº±ng cÃ¡ch sá»­a nhiá»u hÆ¡n 27% vÃ  47% lá»—i tÆ°Æ¡ng á»©ng. HÆ¡n ná»¯a, Repilot táº¡o ra nhiá»u báº£n vÃ¡ há»£p lá»‡ vÃ  chÃ­nh xÃ¡c hÆ¡n so vá»›i LLM cÆ¡ sá»Ÿ vá»›i cÃ¹ng má»™t ngÃ¢n sÃ¡ch. Máº·c dÃ¹ chÃºng tÃ´i táº­p trung vÃ o viá»‡c táº­n dá»¥ng Repilot cho APR trong cÃ´ng viá»‡c nÃ y, phÆ°Æ¡ng phÃ¡p tá»•ng thá»ƒ cÅ©ng cÃ³ thá»ƒ tá»•ng quÃ¡t hÃ³a cho cÃ¡c tÃ¡c vá»¥ táº¡o mÃ£ khÃ¡c.

KHÃI NIá»†M CCS
â€¢Pháº§n má»m vÃ  ká»¹ thuáº­t cá»§a nÃ³ â†’Kiá»ƒm thá»­ vÃ  gá»¡ lá»—i pháº§n má»m; Láº­p trÃ¬nh tá»± Ä‘á»™ng.

Tá»ª KHÃ“A
Sá»­a chá»¯a ChÆ°Æ¡ng trÃ¬nh, MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n, CÃ´ng cá»¥ HoÃ n thiá»‡n

Äá»‹nh dáº¡ng Tham chiáº¿u ACM:
Yuxiang Wei, Chunqiu Steven Xia, vÃ  Lingming Zhang. 2023. Äá»“ng hÃ nh vá»›i cÃ¡c Trá»£ lÃ½: Káº¿t há»£p MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n vá»›i CÃ´ng cá»¥ HoÃ n thiá»‡n Ä‘á»ƒ Sá»­a chá»¯a ChÆ°Æ¡ng trÃ¬nh Tá»± Ä‘á»™ng. Trong Proceedings of the 31st ACM Joint European Software Engineering Conference and Symposium on the Foundations of Software Engineering (ESEC/FSE '23), December 3â€“9, 2023, San Francisco, CA, USA. ACM, New York, NY, USA, 13 pages. https://doi.org/10.1145/3611643.3616271

1 GIá»šI THIá»†U
Sá»­a chá»¯a ChÆ°Æ¡ng trÃ¬nh Tá»± Ä‘á»™ng (APR) tÃ¬m cÃ¡ch giáº£m bá»›t ná»— lá»±c sá»­a lá»—i thá»§ cÃ´ng cá»§a cÃ¡c nhÃ  phÃ¡t triá»ƒn báº±ng cÃ¡ch tá»± Ä‘á»™ng tá»•ng há»£p cÃ¡c báº£n vÃ¡ Ä‘Æ°á»£c cung cáº¥p mÃ£ lá»—i gá»‘c [20]. CÃ¡c cÃ´ng cá»¥ APR truyá»n thá»‘ng tá»‘i tÃ¢n chá»§ yáº¿u dá»±a trÃªn cÃ¡c máº«u sá»­a chá»¯a Ä‘Æ°á»£c táº¡o thá»§ cÃ´ng Ä‘á»ƒ khá»›p vá»›i cÃ¡c máº«u mÃ£ lá»—i vÃ  Ã¡p dá»¥ng cÃ¡c thay Ä‘á»•i mÃ£ tÆ°Æ¡ng á»©ng [21,41]. Máº·c dÃ¹ vÆ°á»£t trá»™i hÆ¡n cÃ¡c ká»¹ thuáº­t truyá»n thá»‘ng khÃ¡c [37,43,47], cÃ¡c cÃ´ng cá»¥ nhÆ° váº­y chá»‰ cÃ³ thá»ƒ sá»­a cÃ¡c loáº¡i lá»—i trong cÃ¡c máº«u Ä‘Æ°á»£c Ä‘áº·t trÆ°á»›c vÃ  khÃ´ng thá»ƒ tá»•ng quÃ¡t hÃ³a cho cÃ¡c loáº¡i lá»—i má»›i. Vá»›i sá»± phÃ¡t triá»ƒn cá»§a cÃ¡c ká»¹ thuáº­t Há»c sÃ¢u (DL), cÃ¡c nhÃ  nghiÃªn cá»©u xÃ¢y dá»±ng cÃ¡c cÃ´ng cá»¥ APR dá»±a trÃªn há»c [29,72,74] dá»±a trÃªn kiáº¿n trÃºc Dá»‹ch mÃ¡y Tháº§n kinh (NMT) [57]. Há» huáº¥n luyá»‡n cÃ¡c mÃ´ hÃ¬nh NMT Ä‘á»ƒ dá»‹ch mÃ£ lá»—i thÃ nh mÃ£ chÃ­nh xÃ¡c báº±ng cÃ¡ch há»c tá»« cÃ¡c cáº·p mÃ£ lá»—i vÃ  Ä‘Ã£ sá»­a Ä‘Æ°á»£c láº¥y tá»« cÃ¡c commit mÃ£ nguá»“n má»Ÿ. Tuy nhiÃªn, nhÆ° Ä‘Ã£ tháº£o luáº­n trong cÃ´ng viá»‡c trÆ°á»›c Ä‘Ã¢y [67], cÃ¡c táº­p huáº¥n luyá»‡n cá»§a nhá»¯ng cÃ´ng cá»¥ nÃ y cÃ³ thá»ƒ bá»‹ háº¡n cháº¿ vá» kÃ­ch thÆ°á»›c vÃ  cÅ©ng chá»©a cÃ¡c commit khÃ´ng liÃªn quan hoáº·c nhiá»…u.

Gáº§n Ä‘Ã¢y hÆ¡n, cÃ¡c nhÃ  nghiÃªn cá»©u Ä‘Ã£ táº­n dá»¥ng sá»± tÄƒng trÆ°á»Ÿng trong lÄ©nh vá»±c NLP Ä‘á»ƒ sá»­ dá»¥ng trá»±c tiáº¿p cÃ¡c MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n (LLM) [10,17] cho APR [31,66,67]. LLM khÃ´ng chá»‰ Ä‘áº¡t Ä‘Æ°á»£c hiá»‡u suáº¥t áº¥n tÆ°á»£ng trÃªn nhiá»u tÃ¡c vá»¥ NLP [7], mÃ  cÃ²n Ä‘Æ°á»£c chá»©ng minh lÃ  nhá»¯ng "copilot" Ä‘Ã¡ng tin cáº­y trong viá»‡c há»— trá»£ cÃ¡c nhÃ  phÃ¡t triá»ƒn vá»›i nhiá»u tÃ¡c vá»¥ mÃ£ hÃ³a khÃ¡c nhau [4,40]. LÃ½ do lÃ  cÃ¡c LLM hiá»‡n Ä‘áº¡i thÆ°á»ng bao gá»“m má»™t lÆ°á»£ng lá»›n cÃ¡c kho mÃ£ nguá»“n má»Ÿ cÃ³ sáºµn nhÆ° má»™t pháº§n cá»§a táº­p dá»¯ liá»‡u huáº¥n luyá»‡n cá»§a chÃºng. Nháº­n ra sá»©c máº¡nh cá»§a LLM, cÃ¡c nhÃ  nghiÃªn cá»©u gáº§n Ä‘Ã¢y Ä‘Ã£ Ã¡p dá»¥ng LLM cho APR: thay vÃ¬ dá»‹ch mÃ£ lá»—i thÃ nh mÃ£ chÃ­nh xÃ¡c, LLM Ä‘Æ°á»£c sá»­ dá»¥ng trá»±c tiáº¿p Ä‘á»ƒ tá»•ng há»£p báº£n vÃ¡ chÃ­nh xÃ¡c tá»« ngá»¯ cáº£nh xung quanh. AlphaRepair [67] tÃ¡i thiáº¿t láº­p váº¥n Ä‘á» APR nhÆ° má»™t tÃ¡c vá»¥ cloze (hoáº·c infilling) [2,19]: nÃ³ Ä‘áº§u tiÃªn thay tháº¿ cÃ¡c Ä‘oáº¡n mÃ£ lá»—i báº±ng cÃ¡c token che khuáº¥t vÃ  sau Ä‘Ã³ sá»­ dá»¥ng CodeBERT [17] Ä‘á»ƒ Ä‘iá»n mÃ£ chÃ­nh xÃ¡c trong ngá»¯ cáº£nh xung quanh Ä‘Ã£ cho. CÃ¡c nghiÃªn cá»©u khÃ¡c vá» LLM cho APR Ä‘Ã£ Ã¡p dá»¥ng cÃ¡c LLM tháº­m chÃ­ cÃ²n lá»›n hÆ¡n vá»›i cÃ¡c cÃ i Ä‘áº·t sá»­a chá»¯a khÃ¡c nhau (bao gá»“m viá»‡c táº¡o ra cÃ¡c hÃ m vÃ¡ hoÃ n chá»‰nh) [33, 53, 66].

Máº·c dÃ¹ cÃ¡c ká»¹ thuáº­t LLM trÆ°á»›c Ä‘Ã¢y cho APR Ä‘áº¡t Ä‘Æ°á»£c hiá»‡u suáº¥t sá»­a lá»—i tá»‘i tÃ¢n, chÃºng sá»­ dá»¥ng LLM theo cÃ¡ch há»™p Ä‘en, trong Ä‘Ã³ LLM cÆ¡ báº£n táº¡o ra chÆ°Æ¡ng trÃ¬nh theo phÃ¢n phá»‘i token mÃ  khÃ´ng cÃ³ báº¥t ká»³ hiá»ƒu biáº¿t cáº¥u trÃºc hoáº·c ngá»¯ nghÄ©a nÃ o vá» mÃ£. Äá»ƒ lÃ m ná»•i báº­t cÃ¡c háº¡n cháº¿ vá»›i cÃ¡c cÃ´ng cá»¥ LLM hiá»‡n táº¡i cho APR, trong HÃ¬nh 1 chÃºng tÃ´i cho tháº¥y 3 ká»‹ch báº£n mÃ  LLM cÃ³ thá»ƒ táº¡o ra cÃ¡c báº£n vÃ¡ khÃ´ng chÃ­nh xÃ¡c. 1) Táº¡o ra cÃ¡c token khÃ´ng kháº£ thi. Trong HÃ¬nh 1.1, LLM cÃ³ xÃ¡c suáº¥t cao (>90%) táº¡o ra String Ä‘á»ƒ hoÃ n thÃ nh phÆ°Æ¡ng thá»©c asString. Tuy nhiÃªn asString khÃ´ng pháº£i lÃ  má»™t truy cáº­p trÆ°á»ng há»£p lá»‡ cho Ä‘á»‘i tÆ°á»£ng t vÃ  cÅ©ng khÃ´ng pháº£i lÃ  má»™t pháº§n cá»§a pháº¡m vi cá»§a phÆ°Æ¡ng thá»©c lá»—i hiá»‡n táº¡i.

--- TRANG 2 ---
ESEC/FSE '23, December 3â€“9, 2023, San Francisco, CA, USA Yuxiang Wei, Chunqiu Steven Xia, and Lingming Zhang

[HÃ¬nh 1 vÃ  ná»™i dung mÃ´ táº£ cÃ¡c háº¡n cháº¿ cá»§a cÃ¡c phÆ°Æ¡ng phÃ¡p APR dá»±a trÃªn LLM hiá»‡n táº¡i]

Äá»ƒ giáº£i quyáº¿t nhá»¯ng háº¡n cháº¿ nÃªu trÃªn, chÃºng tÃ´i Ä‘á» xuáº¥t Repilot, má»™t framework Ä‘á»ƒ tiáº¿p tá»¥c Ä‘á»“ng hÃ nh vá»›i cÃ¡c "copilot" AI (tá»©c lÃ  LLM) thÃ´ng qua viá»‡c káº¿t há»£p LLM vá»›i CÃ´ng cá»¥ HoÃ n thiá»‡n Ä‘á»ƒ tá»•ng há»£p nhiá»u báº£n vÃ¡ há»£p lá»‡ hÆ¡n. CÃ´ng cá»¥ HoÃ n thiá»‡n [48] cÃ³ thá»ƒ phÃ¢n tÃ­ch cÃ¡c chÆ°Æ¡ng trÃ¬nh chÆ°a hoÃ n thÃ nh vÃ  suy luáº­n vá» ngá»¯ nghÄ©a theo cÃ¡ch chá»‹u lá»—i. Hiá»ƒu biáº¿t chÃ­nh cá»§a chÃºng tÃ´i lÃ  viá»‡c táº¡o token tá»± há»“i quy cá»§a LLM giá»‘ng nhÆ° má»™t nhÃ  phÃ¡t triá»ƒn con ngÆ°á»i viáº¿t mÃ£, trong Ä‘Ã³ CÃ´ng cá»¥ HoÃ n thiá»‡n cÃ³ thá»ƒ cung cáº¥p cÃ¡c cáº­p nháº­t thá»i gian thá»±c Ä‘á»ƒ kiá»ƒm tra xem mÃ£ má»™t pháº§n Ä‘Æ°á»£c viáº¿t bá»Ÿi con ngÆ°á»i/LLM cÃ³ há»£p lá»‡ hay khÃ´ng. Repilot Ä‘áº§u tiÃªn sá»­ dá»¥ng LLM Ä‘á»ƒ cung cáº¥p xÃ¡c suáº¥t táº¡o ra token tiáº¿p theo trong báº£n vÃ¡ vÃ  sau Ä‘Ã³ truy váº¥n CÃ´ng cá»¥ HoÃ n thiá»‡n Ä‘á»ƒ sá»­a Ä‘á»•i danh sÃ¡ch xÃ¡c suáº¥t báº±ng cÃ¡ch Ä‘á»™ng Ä‘áº·t xÃ¡c suáº¥t cá»§a cÃ¡c token khÃ´ng há»£p lá»‡ vá» khÃ´ng. Sau Ä‘Ã³ chÃºng ta cÃ³ thá»ƒ láº¥y máº«u tá»« danh sÃ¡ch xÃ¡c suáº¥t má»›i Ä‘á»ƒ chá»n token tiáº¿p theo. HÆ¡n ná»¯a, nháº­n ra kháº£ nÄƒng cá»§a CÃ´ng cá»¥ HoÃ n thiá»‡n Ä‘á»ƒ Ä‘á» xuáº¥t hoÃ n thiá»‡n, chÃºng tÃ´i sá»­ dá»¥ng tÃ­nh nÄƒng nÃ y báº¥t cá»© khi nÃ o chá»‰ cÃ³ má»™t háº­u tá»‘ Ä‘á»‹nh danh cÃ³ thá»ƒ hoÃ n thÃ nh ngá»¯ cáº£nh. Äiá»u nÃ y khÃ´ng chá»‰ cho phÃ©p Repilot táº¡o ra cÃ¡c báº£n vÃ¡ vá»›i cÃ¡c Ä‘á»‹nh danh hiáº¿m vÃ  dÃ i há»£p lá»‡ mÃ  cÃ²n giáº£m cÃ´ng viá»‡c cá»§a LLM cáº§n thiáº¿t Ä‘á»ƒ táº¡o ra cÃ¡c tÃªn Ä‘á»‹nh danh dÃ i má»™t cÃ¡ch láº·p Ä‘i láº·p láº¡i.

VÃ­ dá»¥, Repilot trá»±c tiáº¿p loáº¡i bá» cÃ¡c token String vÃ  Name trong HÃ¬nh 1.1 vÃ¬ chÃºng khÃ´ng kháº£ thi theo CÃ´ng cá»¥ HoÃ n thiá»‡n, nhÆ°ng váº«n cháº¥p nháº­n token End chÃ­nh xÃ¡c. Trong HÃ¬nh 1.2, CÃ´ng cá»¥ HoÃ n thiá»‡n nháº­n ra ráº±ng asEndTag lÃ  sá»± tiáº¿p tá»¥c há»£p lá»‡ duy nháº¥t cho tiá»n tá»‘ asEnd, vÃ¬ váº­y Repilot trá»±c tiáº¿p hoÃ n thÃ nh token nÃ y mÃ  khÃ´ng cáº§n truy váº¥n LLM. Äá»ƒ chá»‘ng láº¡i chi phÃ­ thá»i gian cá»§a CÃ´ng cá»¥ HoÃ n thiá»‡n, chÃºng tÃ´i thá»±c hiá»‡n má»™t sá»‘ ká»¹ thuáº­t tá»‘i Æ°u hÃ³a Ä‘á»ƒ giáº£m thiá»ƒu chi phÃ­ phá»¥. LÆ°u Ã½ ráº±ng cÃ´ng viá»‡c Synchromesh gáº§n Ä‘Ã¢y [52] cÅ©ng sá»­ dá»¥ng CÃ´ng cá»¥ HoÃ n thiá»‡n Ä‘á»ƒ táº¡o mÃ£ Ä‘Ã¡ng tin cáº­y vá»›i LLM. Tuy nhiÃªn, nÃ³ dá»±a vÃ o cÃ¡c rÃ ng buá»™c Ä‘Æ°á»£c thiáº¿t káº¿ bá»Ÿi chuyÃªn gia vÃ  chá»‰ nháº¯m vÃ o cÃ¡c ngÃ´n ngá»¯ dÃ nh riÃªng cho miá»n (vÃ­ dá»¥: SQL). Repilot hoáº¡t Ä‘á»™ng trá»±c tiáº¿p cho cÃ¡c ngÃ´n ngá»¯ láº­p trÃ¬nh Ä‘a má»¥c Ä‘Ã­ch trong khi giá»›i thiá»‡u chi phÃ­ phá»¥ tá»‘i thiá»ƒu vÃ  cÃ³ thá»ƒ chá»§ Ä‘á»™ng hoÃ n thÃ nh viá»‡c táº¡o hiá»‡n táº¡i báº±ng CÃ´ng cá»¥ HoÃ n thiá»‡n mÃ  khÃ´ng cáº§n truy váº¥n LLM.

Äá»ƒ chá»©ng minh tÃ­nh tá»•ng quÃ¡t cá»§a Repilot, chÃºng tÃ´i khá»Ÿi táº¡o Repilot vá»›i hai LLM cÃ³ kiáº¿n trÃºc vÃ  kÃ­ch thÆ°á»›c khÃ¡c nhau: CodeT5-large [61], má»™t LLM mÃ£ hÃ³a-giáº£i mÃ£ vá»›i 770 triá»‡u tham sá»‘, vÃ  InCoder-6.7B [19], má»™t LLM chá»‰ giáº£i mÃ£ vá»›i 6,7 tá»· tham sá»‘, cáº£ hai Ä‘á»u cÃ³ kháº£ nÄƒng Ä‘iá»n mÃ£ tá»« ngá»¯ cáº£nh tiá»n tá»‘ vÃ  háº­u tá»‘. ChÃºng tÃ´i tiáº¿p tá»¥c thá»±c hiá»‡n má»™t CÃ´ng cá»¥ HoÃ n thiá»‡n Java cho Repilot dá»±a trÃªn Eclipse JDT Language Server [1,18] vÃ¬ nÃ³ cung cáº¥p nhiá»u phÃ¢n tÃ­ch dá»±a trÃªn ngá»¯ nghÄ©a khÃ¡c nhau thÃ´ng qua Giao thá»©c MÃ¡y chá»§ NgÃ´n ngá»¯ nháº¥t quÃ¡n [48]. ChÃºng tÃ´i Ä‘Ã¡nh giÃ¡ Repilot trÃªn má»™t táº­p con cá»§a bá»™ dá»¯ liá»‡u Defects4J 1.2 vÃ  2.0 Ä‘Æ°á»£c nghiÃªn cá»©u rá»™ng rÃ£i [32] vÃ  chá»©ng minh káº¿t quáº£ tá»‘i tÃ¢n trong cáº£ sá»‘ lÆ°á»£ng sá»­a chá»¯a chÃ­nh xÃ¡c vÃ  tá»· lá»‡ biÃªn dá»‹ch - tá»· lá»‡ pháº§n trÄƒm cá»§a cÃ¡c báº£n vÃ¡ Ä‘Æ°á»£c táº¡o ra cÃ³ thá»ƒ Ä‘Æ°á»£c biÃªn dá»‹ch thÃ nh cÃ´ng. HÆ¡n ná»¯a, trong khi chÃºng tÃ´i Ä‘Ã¡nh giÃ¡ Repilot cho APR trong cÃ´ng viá»‡c nÃ y, chÃºng tÃ´i tin ráº±ng framework tá»•ng thá»ƒ cÃ³ thá»ƒ dá»… dÃ ng Ã¡p dá»¥ng cho cÃ¡c tÃ¡c vá»¥ táº¡o mÃ£ khÃ¡c, bao gá»“m hoÃ n thÃ nh mÃ£ [16,73], tá»•ng há»£p chÆ°Æ¡ng trÃ¬nh [40,52], vÃ  táº¡o test [14, 65]. TÃ³m láº¡i, chÃºng tÃ´i Ä‘Ã³ng gÃ³p nhá»¯ng Ä‘iá»u sau:

â€¢HÆ°á»›ng nghiÃªn cá»©u. ChÃºng tÃ´i má»Ÿ ra má»™t hÆ°á»›ng nghiÃªn cá»©u má»›i Ä‘á»ƒ káº¿t há»£p LLM vá»›i CÃ´ng cá»¥ HoÃ n thiá»‡n cho APR máº¡nh máº½ hÆ¡n vÃ  hÆ¡n tháº¿ ná»¯a. So vá»›i cÃ¡c ká»¹ thuáº­t trÆ°á»›c Ä‘Ã¢y chá»‰ thá»±c hiá»‡n xá»­ lÃ½ háº­u ká»³ Ä‘á»ƒ sá»­a cÃ¡c tháº¿ há»‡ khÃ´ng há»£p lá»‡ hoáº·c sá»­ dá»¥ng cÃ¡c phÆ°Æ¡ng phÃ¡p tÄ©nh Ä‘Æ¡n giáº£n Ä‘á»ƒ xáº¥p xá»‰ nhá»¯ng token há»£p lá»‡ nÃ y, phÆ°Æ¡ng phÃ¡p cá»§a chÃºng tÃ´i táº­n dá»¥ng má»™t CÃ´ng cá»¥ HoÃ n thiá»‡n máº¡nh máº½ Ä‘á»ƒ trá»±c tiáº¿p cung cáº¥p pháº£n há»“i chÃ­nh xÃ¡c vá» cÃ¡c chÆ°Æ¡ng trÃ¬nh má»™t pháº§n nháº±m trÃ¡nh viá»‡c táº¡o ra token khÃ´ng há»£p lá»‡.

â€¢Ká»¹ thuáº­t. ChÃºng tÃ´i thá»±c hiá»‡n Repilot, má»™t phÆ°Æ¡ng phÃ¡p LLM cho APR Ä‘Æ°á»£c khá»Ÿi táº¡o vá»›i cÃ¡c mÃ´ hÃ¬nh CodeT5 vÃ  InCoder Ä‘á»ƒ thá»±c hiá»‡n sá»­a chá»¯a kiá»ƒu cloze káº¿t há»£p vá»›i Eclipse JDT Language Server Ä‘Ã£ sá»­a Ä‘á»•i [1,18] cá»§a chÃºng tÃ´i nhÆ° CÃ´ng cá»¥ HoÃ n thiá»‡n. Trong Repilot, chÃºng tÃ´i sá»­ dá»¥ng CÃ´ng cá»¥ HoÃ n thiá»‡n Ä‘á»ƒ cÃ³ há»‡ thá»‘ng loáº¡i bá» cÃ¡c token khÃ´ng há»£p lá»‡ Ä‘Æ°á»£c táº¡o ra bá»Ÿi LLM vÃ  Ä‘á»ƒ trá»±c tiáº¿p hoÃ n thÃ nh mÃ£ dá»±a trÃªn tiá»n tá»‘ hiá»‡n táº¡i. HÆ¡n ná»¯a, chÃºng tÃ´i thá»±c hiá»‡n cÃ¡c tá»‘i Æ°u hÃ³a Ä‘á»ƒ giáº£m Ä‘Ã¡ng ká»ƒ chi phÃ­ phá»¥ cá»§a Repilot. ChÃºng tÃ´i Ä‘Ã£ má»Ÿ nguá»“n cÃ´ng cá»¥ cá»§a mÃ¬nh táº¡i: https://github.com/ise-uiuc/Repilot.

â€¢NghiÃªn cá»©u. ChÃºng tÃ´i so sÃ¡nh Repilot vá»›i cÃ¡c cÃ´ng cá»¥ APR tá»‘i tÃ¢n trÃªn Defects4J 1.2 vÃ  2.0. Repilot cÃ³ thá»ƒ Ä‘áº¡t Ä‘Æ°á»£c káº¿t quáº£ tá»‘i tÃ¢n má»›i vá»›i 66 lá»—i Ä‘Æ¡n hunk Defects4J 1.2 vÃ  50 lá»—i Ä‘Æ¡n dÃ²ng Defects4J 2.0 Ä‘Æ°á»£c sá»­a tÆ°Æ¡ng á»©ng vá»›i 30 sá»­a chá»¯a káº¿t há»£p nhiá»u hÆ¡n trÃªn cáº£ hai bá»™ dá»¯ liá»‡u so vá»›i Ä‘Æ°á»ng cÆ¡ sá»Ÿ tá»‘t nháº¥t trÆ°á»›c Ä‘Ã¢y. ÄÃ¡nh giÃ¡ sÃ¢u hÆ¡n cá»§a chÃºng tÃ´i cho tháº¥y Repilot liÃªn tá»¥c cáº£i thiá»‡n tÃ­nh há»£p lá»‡ vÃ  tÃ­nh chÃ­nh xÃ¡c cá»§a cÃ¡c báº£n vÃ¡ Ä‘Æ°á»£c táº¡o ra vá»›i chi phÃ­ phá»¥ háº¡n cháº¿ (7% cho CodeT5 vÃ  khÃ´ng Ä‘Ã¡ng ká»ƒ cho InCoder).

2 Ná»€N Táº¢NG VÃ€ CÃ”NG VIá»†C LIÃŠN QUAN

2.1 MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n cho MÃ£

Nhá»¯ng tiáº¿n bá»™ gáº§n Ä‘Ã¢y trong Xá»­ lÃ½ NgÃ´n ngá»¯ Tá»± nhiÃªn (NLP) Ä‘Ã£ trao quyá»n cho Ã½ tÆ°á»Ÿng sá»­ dá»¥ng MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n (LLM) Ä‘Æ°á»£c huáº¥n luyá»‡n trÆ°á»›c trÃªn kho ngá»¯ liá»‡u khá»•ng lá»“ cá»§a ngÃ´n ngá»¯ tá»± nhiÃªn vÃ  mÃ£ cho nhiá»u tÃ¡c vá»¥ liÃªn quan Ä‘áº¿n mÃ£ khÃ¡c nhau [4,5,10,38,70]. LLM dá»±a trÃªn kiáº¿n trÃºc transformer [59] cÃ³ thá»ƒ Ä‘Æ°á»£c phÃ¢n loáº¡i thÃ nh chá»‰ mÃ£ hÃ³a, chá»‰ giáº£i mÃ£ vÃ  mÃ£ hÃ³a-giáº£i mÃ£. CÃ¡c mÃ´ hÃ¬nh chá»‰ mÃ£ hÃ³a chá»‰ sá»­ dá»¥ng thÃ nh pháº§n mÃ£ hÃ³a báº±ng cÃ¡ch huáº¥n luyá»‡n sá»­ dá»¥ng má»¥c tiÃªu MÃ´ hÃ¬nh NgÃ´n ngá»¯ Che khuáº¥t (MLM) [15] trong Ä‘Ã³ má»™t tá»· lá»‡ nhá» (vÃ­ dá»¥: 15%) cá»§a cÃ¡c token bá»‹ che khuáº¥t. Má»¥c tiÃªu cá»§a MLM lÃ  khÃ´i phá»¥c nhá»¯ng token bá»‹ che khuáº¥t nÃ y dá»±a trÃªn ngá»¯ cáº£nh xung quanh. CÃ¡c mÃ´ hÃ¬nh chá»‰ mÃ£ hÃ³a nhÆ° CodeBERT [17] vÃ  GraphCodeBERT [23] Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ cung cáº¥p má»™t biá»ƒu diá»…n cá»§a mÃ£ Ä‘áº§u vÃ o Ä‘á»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng cho cÃ¡c tÃ¡c vá»¥ downstream nhÆ° phÃ¢n loáº¡i mÃ£ [71]. Máº·t khÃ¡c, cÃ¡c mÃ´ hÃ¬nh chá»‰ giáº£i mÃ£ nháº±m táº¡o ra cÃ¡c token má»™t cÃ¡ch tá»± há»“i quy dá»±a trÃªn táº¥t cáº£ cÃ¡c token Ä‘Ã£ Ä‘Æ°á»£c táº¡o ra trÆ°á»›c Ä‘Ã³. CodeGEN [50,51], Codex [10] vÃ  PolyCoder [70] lÃ  nhá»¯ng vÃ­ dá»¥ vá» LLM chá»‰ giáº£i mÃ£ trong Ä‘Ã³ chÃºng cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng cho cÃ¡c tÃ¡c vá»¥ tá»± Ä‘á»™ng hoÃ n thÃ nh mÃ£. KhÃ¡c vá»›i LLM chá»‰ mÃ£ hÃ³a vÃ  chá»‰ giáº£i mÃ£, cÃ¡c mÃ´ hÃ¬nh mÃ£ hÃ³a-giáº£i mÃ£ (vÃ­ dá»¥: CodeT5 [60,61] vÃ  PLBART [3]) káº¿t há»£p cáº£ mÃ£ hÃ³a vÃ  giáº£i mÃ£ láº¡i vá»›i nhau vÃ  cÃ¹ng huáº¥n luyá»‡n cáº£ hai thÃ nh pháº§n. Má»™t má»¥c tiÃªu huáº¥n luyá»‡n trÆ°á»›c thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng cho cÃ¡c mÃ´ hÃ¬nh mÃ£ hÃ³a-giáº£i mÃ£ lÃ  Dá»± Ä‘oÃ¡n Span Che khuáº¥t (MSP) trong Ä‘Ã³ cÃ¡c span ngáº«u nhiÃªn (nhiá»u token liÃªn tiáº¿p) Ä‘Æ°á»£c thay tháº¿ báº±ng cÃ¡c token che khuáº¥t Ä‘Æ¡n láº» vÃ  cÃ¡c mÃ´ hÃ¬nh há»c Ä‘á»ƒ Ä‘iá»n vÃ o span bá»‹ che khuáº¥t báº±ng chuá»—i token chÃ­nh xÃ¡c. HÆ¡n ná»¯a, cÃ¡c mÃ´ hÃ¬nh chá»‰ giáº£i mÃ£ nhÆ° InCoder [19] cÅ©ng cÃ³ thá»ƒ thá»±c hiá»‡n infilling thÃ´ng qua má»¥c tiÃªu mÃ´ hÃ¬nh ngÃ´n ngá»¯ nhÃ¢n quáº£ [2]. Thay vÃ¬ sá»­ dá»¥ng bá»™ giáº£i mÃ£ Ä‘á»ƒ dá»± Ä‘oÃ¡n token tiáº¿p theo trong dá»¯ liá»‡u huáº¥n luyá»‡n gá»‘c, tÆ°Æ¡ng tá»± nhÆ° MSP, InCoder cÅ©ng thay tháº¿ cÃ¡c span ngáº«u nhiÃªn báº±ng cÃ¡c token span bá»‹ che khuáº¥t. Trong quÃ¡ trÃ¬nh huáº¥n luyá»‡n, InCoder há»c cÃ¡ch khÃ´i phá»¥c cÃ¡c span gá»‘c má»™t cÃ¡ch tá»± há»“i quy. Vá»›i chiáº¿n lÆ°á»£c huáº¥n luyá»‡n nÃ y, InCoder cÃ³ thá»ƒ thá»±c hiá»‡n infilling vá»›i ngá»¯ cáº£nh hai chiá»u tÆ°Æ¡ng tá»± nhÆ° cÃ¡c mÃ´ hÃ¬nh mÃ£ hÃ³a-giáº£i mÃ£, cho phÃ©p sá»­a chá»¯a kiá»ƒu cloze.

2.2 HoÃ n thÃ nh MÃ£

HoÃ n thÃ nh mÃ£ lÃ  má»™t trong nhá»¯ng tÃ­nh nÄƒng Ä‘Æ°á»£c sá»­ dá»¥ng thÆ°á»ng xuyÃªn nháº¥t trong MÃ´i trÆ°á»ng PhÃ¡t triá»ƒn TÃ­ch há»£p (IDE). NÃ³ giáº£m bá»›t Ä‘Ã¡ng ká»ƒ Ä‘á»™ phá»©c táº¡p cá»§a phÃ¡t triá»ƒn pháº§n má»m báº±ng cÃ¡ch gá»£i Ã½ tÆ°Æ¡ng tÃ¡c cÃ¡c cáº¥u trÃºc chÆ°Æ¡ng trÃ¬nh sau vá»‹ trÃ­ con trá» cá»§a ngÆ°á»i dÃ¹ng trong khi láº­p trÃ¬nh viÃªn Ä‘ang gÃµ, bao gá»“m tÃªn Ä‘á»‹nh danh vÃ  API thÆ° viá»‡n. HoÃ n thÃ nh mÃ£ hiá»‡n lÃ  má»™t cÆ¡ sá»Ÿ háº¡ táº§ng khÃ´ng thá»ƒ thiáº¿u cá»§a háº§u háº¿t cÃ¡c ngÃ´n ngá»¯ láº­p trÃ¬nh Ä‘Æ°á»£c sá»­ dá»¥ng rá»™ng rÃ£i vÃ  cÃ³ thá»ƒ dá»… dÃ ng tÃ­ch há»£p vÃ o háº§u háº¿t cÃ¡c trÃ¬nh soáº¡n tháº£o vÄƒn báº£n hiá»‡n Ä‘áº¡i nhá» cÃ³ sá»± hiá»‡n diá»‡n cá»§a Giao thá»©c MÃ¡y chá»§ NgÃ´n ngá»¯ [48], chuáº©n hÃ³a giao tiáº¿p giá»¯a cÃ¡c cÃ´ng cá»¥ vÃ  dá»‹ch vá»¥ ngÃ´n ngá»¯. Theo truyá»n thá»‘ng, má»™t CÃ´ng cá»¥ HoÃ n thiá»‡n dá»±a trÃªn ngá»¯ nghÄ©a Ä‘Æ°á»£c thá»±c hiá»‡n trÃªn má»™t loáº¡t cÃ¡c phÃ¢n tÃ­ch cÃº phÃ¡p vÃ  ngá»¯ nghÄ©a tÄƒng dáº§n phá»©c táº¡p cá»§a ngÃ´n ngá»¯ láº­p trÃ¬nh Ä‘Ã­ch, vÃ¬ nÃ³ cáº§n hiá»ƒu cÃ¡c chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c viáº¿t má»™t pháº§n vÃ  cung cáº¥p pháº£n há»“i thá»i gian thá»±c. CÃ´ng cá»¥ HoÃ n thiá»‡n cÃ³ toÃ n quyá»n truy cáº­p vÃ o kho dá»± Ã¡n vÃ  cÃ¡c phá»¥ thuá»™c cá»§a nÃ³ vÃ  cÃ³ thá»ƒ Ä‘Æ°a ra cÃ¡c gá»£i Ã½ theo hiá»ƒu biáº¿t ngá»¯ nghÄ©a cá»§a nÃ³. Nhá»¯ng tiáº¿n bá»™ gáº§n Ä‘Ã¢y trong LLM chá»©ng minh kháº£ nÄƒng táº¡o ra cÃ¡c hoÃ n thiá»‡n dÃ i vÃ  phá»©c táº¡p. Tuy nhiÃªn, chÃºng cÃ³ thá»ƒ táº¡o ra cÃ¡c chÆ°Æ¡ng trÃ¬nh khÃ´ng há»£p lÃ½ do háº¡n cháº¿ vá» kÃ­ch thÆ°á»›c ngá»¯ cáº£nh mÃ£ vÃ  máº¥t mÃ¡t phÃ¢n tÃ­ch chÆ°Æ¡ng trÃ¬nh báº±ng cÃ¡ch chá»‰ coi chÆ°Æ¡ng trÃ¬nh nhÆ° chuá»—i token. Trong bÃ i bÃ¡o nÃ y, chÃºng tÃ´i sá»­ dá»¥ng thuáº­t ngá»¯ CÃ´ng cá»¥ HoÃ n thiá»‡n Ä‘á»ƒ chá»‰ loáº¡i dá»±a trÃªn ngá»¯ nghÄ©a. ChÃºng tÃ´i Ä‘á»‹nh nghÄ©a chÃ­nh thá»©c cÃ¡c thuá»™c tÃ­nh mong Ä‘á»£i cá»§a CÃ´ng cá»¥ HoÃ n thiá»‡n trong framework cá»§a chÃºng tÃ´i á»Ÿ Äá»‹nh nghÄ©a 3.4.

2.3 Sá»­a chá»¯a ChÆ°Æ¡ng trÃ¬nh Tá»± Ä‘á»™ng

Sá»­a chá»¯a ChÆ°Æ¡ng trÃ¬nh Tá»± Ä‘á»™ng (APR) nháº±m táº¡o ra cÃ¡c báº£n vÃ¡ Ä‘Æ°á»£c cung cáº¥p vá»‹ trÃ­ mÃ£ lá»—i vÃ  cÃ¡c test phÆ¡i bÃ y lá»—i. Theo truyá»n thá»‘ng, phÆ°Æ¡ng phÃ¡p APR cÃ³ thá»ƒ Ä‘Æ°á»£c phÃ¢n loáº¡i thÃ nh dá»±a trÃªn rÃ ng buá»™c [13,35,43,47], dá»±a trÃªn heuristic [36,37,63] vÃ  dá»±a trÃªn máº«u [21,25,34,41,42,46]. Trong sá»‘ cÃ¡c ká»¹ thuáº­t cá»• Ä‘iá»ƒn nÃ y, cÃ¡c cÃ´ng cá»¥ dá»±a trÃªn máº«u Ä‘Ã£ Ä‘Æ°á»£c chá»©ng minh lÃ  Ä‘áº¡t Ä‘Æ°á»£c sá»‘ lÆ°á»£ng sá»­a lá»—i cao nháº¥t báº±ng cÃ¡ch sá»­ dá»¥ng cÃ¡c máº«u sá»­a chá»¯a Ä‘Æ°á»£c táº¡o thá»§ cÃ´ng Ä‘á»ƒ nháº¯m vÃ o cÃ¡c máº«u lá»—i cá»¥ thá»ƒ [21]. Tuy nhiÃªn, nhá»¯ng máº«u Ä‘Æ°á»£c táº¡o thá»§ cÃ´ng nÃ y khÃ´ng thá»ƒ bao quÃ¡t táº¥t cáº£ cÃ¡c loáº¡i lá»—i tá»“n táº¡i vÃ  do Ä‘Ã³, cÃ¡c cÃ´ng cá»¥ dá»±a trÃªn máº«u khÃ´ng thá»ƒ sá»­a cÃ¡c lá»—i ngoÃ i cÃ¡c máº«u Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh trÆ°á»›c cá»§a chÃºng.

Äá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» mÃ  cÃ¡c cÃ´ng cá»¥ APR dá»±a trÃªn máº«u gáº·p pháº£i, cÃ¡c nhÃ  nghiÃªn cá»©u tÃ¬m Ä‘áº¿n Dá»‹ch mÃ¡y Tháº§n kinh (NMT) [57] Ä‘á»ƒ phÃ¡t triá»ƒn cÃ¡c cÃ´ng cá»¥ APR dá»±a trÃªn NMT [11,29,39,44,72,74]. CÃ¡c cÃ´ng cá»¥ APR dá»±a trÃªn NMT huáº¥n luyá»‡n má»™t mÃ´ hÃ¬nh NMT Ä‘á»ƒ dá»‹ch mÃ£ lá»—i Ä‘áº§u vÃ o thÃ nh mÃ£ chÃ­nh xÃ¡c thÃ´ng qua cÃ¡c bá»™ dá»¯ liá»‡u sá»­a lá»—i chá»©a cÃ¡c cáº·p mÃ£ lá»—i vÃ  Ä‘Ã£ sá»­a. Tuy nhiÃªn, nhá»¯ng bá»™ dá»¯ liá»‡u sá»­a lá»—i nÃ y cÃ³ thá»ƒ chá»‰ chá»©a má»™t sá»‘ lÆ°á»£ng/loáº¡i sá»­a lá»—i nhá», Ä‘áº·c biá»‡t lÃ  so vá»›i má»™t lÆ°á»£ng lá»›n Ä‘oáº¡n mÃ£ nguá»“n má»Ÿ cÃ³ sáºµn, do khÃ³ khÄƒn trong viá»‡c thu tháº­p cÃ¡c commit sá»­a lá»—i [67]. NgoÃ i ra, cÃ¡c bá»™ dá»¯ liá»‡u cÃ³ thá»ƒ khÃ´ng lá»c Ä‘Æ°á»£c cÃ¡c commit khÃ´ng liÃªn quan [30] nhÆ° tÃ¡i cáº¥u trÃºc, Ä‘iá»u nÃ y thÃªm nhiá»…u vÃ o cÃ¡c bá»™ dá»¯ liá»‡u huáº¥n luyá»‡n. Do sá»± phá»¥ thuá»™c nÃ y vÃ o viá»‡c huáº¥n luyá»‡n báº±ng cÃ¡c bá»™ dá»¯ liá»‡u sá»­a lá»—i, nhá»¯ng cÃ´ng cá»¥ dá»±a trÃªn NMT nÃ y cÅ©ng khÃ´ng thá»ƒ tá»•ng quÃ¡t hÃ³a cho cÃ¡c loáº¡i lá»—i khÃ´ng Ä‘Æ°á»£c tháº¥y trong quÃ¡ trÃ¬nh huáº¥n luyá»‡n.

Gáº§n Ä‘Ã¢y, cÃ¡c nhÃ  nghiÃªn cá»©u báº¯t Ä‘áº§u Ã¡p dá»¥ng trá»±c tiáº¿p LLM cho APR [66]. AlphaRepair [67] lÃ  Ä‘áº§u tiÃªn sá»­ dá»¥ng trá»±c tiáº¿p LLM cho APR kiá»ƒu cloze (hoáº·c kiá»ƒu infilling): nÃ³ che khuáº¥t Ä‘oáº¡n mÃ£ lá»—i vÃ  sau Ä‘Ã³ sá»­ dá»¥ng CodeBERT [17] Ä‘á»ƒ trá»±c tiáº¿p Ä‘iá»n mÃ£ chÃ­nh xÃ¡c dá»±a trÃªn ngá»¯ cáº£nh xung quanh. Trong khi AlphaRepair chá»©ng minh tiá»m nÄƒng sá»­ dá»¥ng cÃ¡c mÃ´ hÃ¬nh chá»‰ mÃ£ hÃ³a cho APR kiá»ƒu cloze, cÃ¡c nghiÃªn cá»©u khÃ¡c [33,53,66] Ä‘Ã£ xem xÃ©t viá»‡c Ã¡p dá»¥ng cáº£ ba loáº¡i kiáº¿n trÃºc LLM. FitRepair [64] cáº£i thiá»‡n thÃªm AlphaRepair thÃ´ng qua viá»‡c tinh chá»‰nh theo miá»n cá»¥ thá»ƒ vÃ  cÃ¡c chiáº¿n lÆ°á»£c nháº¯c nhá»Ÿ táº­n dá»¥ng giáº£ thuyáº¿t pháº«u thuáº­t tháº©m má»¹ [6]. Tháº­m chÃ­ gáº§n Ä‘Ã¢y hÆ¡n, cÃ¡c nhÃ  nghiÃªn cá»©u Ä‘Ã£ Ã¡p dá»¥ng cÃ¡c mÃ´ hÃ¬nh dá»±a trÃªn Ä‘á»‘i thoáº¡i cho APR [8,56,68,69]. VÃ­ dá»¥, ChatRepair [69] Ä‘á» xuáº¥t má»™t phÆ°Æ¡ng phÃ¡p APR Ä‘á»‘i thoáº¡i hoÃ n toÃ n tá»± Ä‘á»™ng báº±ng cÃ¡ch há»c tá»« cÃ¡c ná»— lá»±c vÃ¡ trÆ°á»›c Ä‘Ã³, bao gá»“m cáº£ mÃ£ vÃ¡ vÃ  thÃ´ng tin tháº¥t báº¡i test.

So vá»›i cÃ¡c ká»¹ thuáº­t APR truyá»n thá»‘ng vÃ  dá»±a trÃªn NMT, cÃ¡c ká»¹ thuáº­t dá»±a trÃªn LLM cÃ³ thá»ƒ Ä‘áº¡t Ä‘Æ°á»£c káº¿t quáº£ sá»­a lá»—i tá»‘i tÃ¢n má»›i [66,67]. Máº·c dÃ¹ hiá»‡u suáº¥t áº¥n tÆ°á»£ng, má»™t háº¡n cháº¿ Ä‘áº·c biá»‡t cá»§a nhá»¯ng ká»¹ thuáº­t nÃ y lÃ  thiáº¿u hÆ°á»›ng dáº«n trong viá»‡c táº¡o báº£n vÃ¡. CÃ´ng viá»‡c trÆ°á»›c Ä‘Ã¢y chá»§ yáº¿u coi LLM nhÆ° má»™t há»™p Ä‘en vÃ  chá»‰ truy váº¥n mÃ´ hÃ¬nh thÃ´ng qua tÃ¬m kiáº¿m chÃ¹m tia [67] hoáº·c láº¥y máº«u [33,53,66]. Äiá»u nÃ y cÃ³ nghÄ©a lÃ  LLM, máº·c dÃ¹ máº¡nh máº½, váº«n cÃ³ thá»ƒ táº¡o ra cÃ¡c báº£n vÃ¡ khÃ´ng há»£p lá»‡ dá»±a trÃªn ngá»¯ cáº£nh mÃ£ hiá»‡n táº¡i.

Trong cÃ´ng viá»‡c nÃ y, chÃºng tÃ´i giáº£i quyáº¿t nhá»¯ng háº¡n cháº¿ nÃ y báº±ng cÃ¡ch sá»­ dá»¥ng CÃ´ng cá»¥ HoÃ n thiá»‡n dá»±a trÃªn ngá»¯ nghÄ©a Ä‘á»ƒ hÆ°á»›ng dáº«n vÃ  loáº¡i bá» khÃ´ng gian tÃ¬m kiáº¿m cá»§a LLM. PhÆ°Æ¡ng phÃ¡p cá»§a chÃºng tÃ´i trá»±c giao vá»›i cÃ¡c ká»¹ thuáº­t APR dá»±a trÃªn LLM gáº§n Ä‘Ã¢y vÃ  cÃ³ thá»ƒ dá»… dÃ ng káº¿t há»£p vá»›i chÃºng. Thá»±c táº¿, cÃ¡c ká»¹ thuáº­t APR dá»±a trÃªn NMT cÅ©ng Ä‘Ã£ cá»‘ gáº¯ng giáº£i quyáº¿t váº¥n Ä‘á» nÃ y. CURE [29] Ä‘áº§u tiÃªn thu tháº­p tÄ©nh cÃ¡c Ä‘á»‹nh danh há»£p lá»‡ vÃ  buá»™c mÃ´ hÃ¬nh NMT chá»‰ chá»n tá»« cÃ¡c Ä‘á»‹nh danh há»£p lá»‡ trong quÃ¡ trÃ¬nh táº¡o. Recoder [74] xÃ¢y dá»±ng má»™t mÃ´ hÃ¬nh NMT dá»±a trÃªn chá»‰nh sá»­a Ä‘á»ƒ thá»±c thi tÃ­nh Ä‘Ãºng Ä‘áº¯n cÃº phÃ¡p vÃ  giá»›i thiá»‡u cÃ¡c token giá»¯ chá»— vÃ  sau Ä‘Ã³ nhÆ° má»™t bÆ°á»›c xá»­ lÃ½ háº­u ká»³, Recoder sáº½ thay tháº¿ cÃ¡c token giá»¯ chá»— báº±ng cÃ¡c Ä‘á»‹nh danh há»£p lá»‡ Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh tÄ©nh. RewardRepair [72] máº·t khÃ¡c, cá»‘ gáº¯ng tÄƒng sá»‘ lÆ°á»£ng báº£n vÃ¡ cÃ³ thá»ƒ biÃªn dá»‹ch báº±ng cÃ¡ch pháº¡t cÃ¡c báº£n vÃ¡ khÃ´ng thá»ƒ biÃªn dá»‹ch trong quÃ¡ trÃ¬nh huáº¥n luyá»‡n. So vá»›i nhá»¯ng ká»¹ thuáº­t trÆ°á»›c Ä‘Ã¢y nÃ y, Repilot tá»•ng quÃ¡t vÃ  hiá»‡u quáº£ hÆ¡n. Repilot khÃ´ng yÃªu cáº§u báº¥t ká»³ huáº¥n luyá»‡n cá»¥ thá»ƒ miá»n nÃ o vÃ  táº­n dá»¥ng phÃ¢n tÃ­ch tÄƒng dáº§n cá»§a CÃ´ng cá»¥ HoÃ n thiá»‡n cÃ³ sáºµn Ä‘á»ƒ thá»±c thi cÃ¡c rÃ ng buá»™c Ä‘Æ°á»£c Ä‘áº£m báº£o nháº±m hÆ°á»›ng dáº«n LLM má»™t cÃ¡ch tá»©c thÃ¬.

3 Sá» KHAI

Trong pháº§n nÃ y, chÃºng tÃ´i Ä‘áº§u tiÃªn Ä‘á»‹nh nghÄ©a cÃ¡c khÃ¡i niá»‡m vá» ngÃ´n ngá»¯ láº­p trÃ¬nh Ä‘Æ°á»£c sá»­ dá»¥ng trong toÃ n bá»™ bÃ i bÃ¡o (Â§3.1). Sau Ä‘Ã³ chÃºng tÃ´i tháº£o luáº­n vá» cÃ¡c trá»«u tÆ°á»£ng chÃ­nh thá»©c cá»§a hai thÃ nh pháº§n chÃ­nh Ä‘Æ°á»£c sá»­ dá»¥ng trong framework Repilot cá»§a chÃºng tÃ´i: CÃ´ng cá»¥ HoÃ n thiá»‡n (Â§3.2) vÃ  MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n (Â§3.3). Hai trá»«u tÆ°á»£ng nÃ y ráº¥t quan trá»ng vÃ¬ má»—i cÃ¡i mÃ´ táº£ má»™t táº­p há»£p cÃ¡c triá»ƒn khai phÃ¹ há»£p, Ä‘iá»u nÃ y táº¡o thÃ nh lÃ½ do táº¡i sao Repilot lÃ  má»™t framework cÃ³ thá»ƒ tá»•ng quÃ¡t hÃ³a.

3.1 NgÃ´n ngá»¯ cÃ³ Kiá»ƒm tra TÄ©nh

BÃ¢y giá» chÃºng tÃ´i giá»›i thiá»‡u khÃ¡i niá»‡m ngÃ´n ngá»¯ láº­p trÃ¬nh Ä‘Æ°á»£c trang bá»‹ kiá»ƒm tra tÄ©nh vÃ  Ä‘á»‹nh nghÄ©a tÃ­nh kháº£ thi cá»§a má»™t chÆ°Æ¡ng trÃ¬nh má»™t pháº§n trÆ°á»›c khi thiáº¿t láº­p CÃ´ng cá»¥ HoÃ n thiá»‡n (Äá»‹nh nghÄ©a 3.3).

Äá»‹nh nghÄ©a 3.1 (NgÃ´n ngá»¯ Láº­p trÃ¬nh cÃ³ Kiá»ƒm tra TÄ©nh). Má»™t ngÃ´n ngá»¯ láº­p trÃ¬nh cÃ³ kiá»ƒm tra tÄ©nh Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a nhÆ° má»™t cáº·p bá»™ kÃ½ tá»± Î£pl vÃ  Ä‘áº·c táº£ tÄ©nh Î¦âŠ†Î£*pl nhÆ° má»™t quan há»‡ Ä‘Æ¡n trÃªn Î£*pl.

PLs=(Î£pl,Î¦), (3.1)

Cho má»™t progâˆˆÎ£*pl, kÃ½ hiá»‡u Î¦(prog) (hoáº·c progâˆˆÎ¦) phÃ¡t biá»ƒu ráº±ng prog lÃ  má»™t chÆ°Æ¡ng trÃ¬nh há»£p lá»‡ tÄ©nh trong ngÃ´n ngá»¯ nÃ y. Äá»‘i vá»›i cÃ¡c ngÃ´n ngá»¯ láº­p trÃ¬nh cÃ³ kiá»ƒu tÄ©nh nhÆ° Java, kiá»ƒm tra biÃªn dá»‹ch lÃ  má»™t loáº¡i kiá»ƒm tra tÄ©nh.

Äá»‹nh nghÄ©a 3.2 (TÃ­nh Kháº£ thi TÄ©nh cá»§a ChÆ°Æ¡ng trÃ¬nh Má»™t pháº§n). Äá»‘i vá»›i má»™t chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c viáº¿t má»™t pháº§n progâˆˆÎ£*pl, chÃºng ta nÃ³i nÃ³ kháº£ thi táº¡i vá»‹ trÃ­ con trá» caret liÃªn quan Ä‘áº¿n Ä‘áº·c táº£ tÄ©nh Î¦, viáº¿t lÃ  (prog,caret)âŠ¨Î¦, khi vÃ  chá»‰ khi tá»“n táº¡i má»™t sá»± tiáº¿p tá»¥c cÃ³ thá»ƒ sau caret mÃ  vá»›i viá»‡c hoÃ n thÃ nh prog dáº«n Ä‘áº¿n má»™t chÆ°Æ¡ng trÃ¬nh há»£p lá»‡ tÄ©nh. Äá»‹nh nghÄ©a cÃ³ thá»ƒ Ä‘Æ°á»£c viáº¿t chÃ­nh thá»©c nhÆ°

(prog,caret)âŠ¨Î¦â‰œâˆƒcontâˆˆÎ£*pl,Î¦(prog[caretâ†cont]),(3.2)

trong Ä‘Ã³ chÃºng ta sá»­ dá»¥ng kÃ½ hiá»‡u prog[caretâ†cont] nhÆ° hÃ nh Ä‘á»™ng hoÃ n thÃ nh prog táº¡i caret vá»›i cont, tá»©c lÃ 
prog[caretâ†cont]â‰œprog0..caretÂ·contÂ·progcaret..|prog|.(3.3)

Trong Thuáº­t toÃ¡n 1, chÃºng ta má»Ÿ rá»™ng kÃ½ hiá»‡u nÃ y Ä‘á»ƒ cháº¥p nháº­n má»™t pháº¡m vi :NÃ—N, sao cho prog[rangeâ†hunk] chá»‰ Ä‘á»‹nh hÃ nh Ä‘á»™ng thay tháº¿ ná»™i dung cá»§a prog trong pháº¡m vi báº±ng hunk.

3.2 Trá»«u tÆ°á»£ng cá»§a CÃ´ng cá»¥ HoÃ n thiá»‡n

Má»™t CÃ´ng cá»¥ HoÃ n thiá»‡n, Ä‘Æ°á»£c hiá»ƒn thá»‹ trong HÃ¬nh 2, cung cáº¥p cÃ¡c gá»£i Ã½ tiáº¿p tá»¥c cho má»™t chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c viáº¿t má»™t pháº§n dá»±a trÃªn vá»‹ trÃ­ con trá».

Äá»‹nh nghÄ©a 3.3 (CÃ´ng cá»¥ HoÃ n thiá»‡n). NÃ³i má»™t cÃ¡ch chÃ­nh thá»©c, CÃ´ng cá»¥ HoÃ n thiá»‡n CE lÃ  má»™t cáº·p

CE=(Î£pl,complete), (3.4)

trong Ä‘Ã³ Î£pl lÃ  bá»™ kÃ½ tá»± cá»§a ngÃ´n ngá»¯ Ä‘Ã­ch, vÃ 
complete :(Î£*pl,N)â†’P(Î£*pl)âˆª{unknown} (3.5)

lÃ  má»™t hÃ m Ä‘á»ƒ thu tháº­p cÃ¡c hoÃ n thiá»‡n dá»±a trÃªn má»™t chÆ°Æ¡ng trÃ¬nh táº¡i má»™t vá»‹ trÃ­ con trá» nÃ o Ä‘Ã³, vá»›i unknown chá»‰ ra ráº±ng cÃ´ng cá»¥ khÃ´ng thá»ƒ xÃ¡c Ä‘á»‹nh cÃ¡c gá»£i Ã½ tá»« ngá»¯ cáº£nh mÃ£ (vÃ­ dá»¥: khi hoÃ n thÃ nh má»™t khai bÃ¡o biáº¿n). LÆ°u Ã½ ráº±ng chÃºng tÃ´i phÃ¢n biá»‡t giá»¯a unknown vÃ  hoÃ n thiá»‡n trá»‘ng âˆ… vÃ¬ trong bÃ i bÃ¡o nÃ y chÃºng tÃ´i quan tÃ¢m Ä‘áº¿n má»™t nhÃ³m cá»¥ thá»ƒ cá»§a CÃ´ng cá»¥ HoÃ n thiá»‡n nghiÃªm ngáº·t giÃºp xÃ¡c Ä‘á»‹nh tÃ­nh kháº£ thi cá»§a má»™t chÆ°Æ¡ng trÃ¬nh má»™t pháº§n.

[HÃ¬nh 2: Trá»«u tÆ°á»£ng cá»§a CÃ´ng cá»¥ HoÃ n thiá»‡n]

Äá»‹nh nghÄ©a 3.4 (CÃ´ng cá»¥ HoÃ n thiá»‡n NghiÃªm ngáº·t). Giáº£ sá»­ ráº±ng CÃ´ng cá»¥ HoÃ n thiá»‡n CE cÃ³ thá»ƒ thu tháº­p má»™t táº­p há»£p cÃ¡c hoÃ n thiá»‡n dá»±a trÃªn má»™t chÆ°Æ¡ng trÃ¬nh prog kháº£ thi táº¡i caret (tá»©c lÃ , (prog,caret)âŠ¨Î¦):

completions = complete(prog,caret)
trong Ä‘Ã³ completions â‰  unknown. (3.6)

Khi Ä‘Ã³, CE Ä‘Æ°á»£c gá»i lÃ  nghiÃªm ngáº·t khi vÃ  chá»‰ khi, dÆ°á»›i Ä‘iá»u kiá»‡n nÃ y, viá»‡c tiáº¿p tá»¥c prog báº±ng báº¥t ká»³ mÃ£ nÃ o khÃ´ng khá»›p vá»›i táº­p há»£p hoÃ n thiá»‡n nÃ y sáº½ táº¡o ra má»™t chÆ°Æ¡ng trÃ¬nh khÃ´ng kháº£ thi táº¡i vá»‹ trÃ­ con trá» má»›i:

âˆ€câˆ‰Prefix(completions),(progâ€²,caretâ€²)Ì¸âŠ¨Î¦,
trong Ä‘Ã³ progâ€²=prog[caretâ†c] vÃ  caretâ€²=caret+|c|,
Prefix(Â·)={ğ‘|ğ‘ âˆˆÂ· vÃ  ğ‘ lÃ  tiá»n tá»‘ cá»§a ğ‘  hoáº·c ngÆ°á»£c láº¡i}.(3.7)

Äá»‹nh nghÄ©a nÃ y cÆ¡ báº£n cÃ³ nghÄ©a lÃ  má»™t CÃ´ng cá»¥ HoÃ n thiá»‡n nghiÃªm ngáº·t khÃ´ng nÃªn Ä‘Æ°a ra cÃ¡c gá»£i Ã½ sai. NÃ³ nÃªn tráº£ vá» unknown báº¥t cá»© khi nÃ o khÃ´ng cháº¯c cháº¯n. Má»™t CÃ´ng cá»¥ HoÃ n thiá»‡n nghiÃªm ngáº·t táº§m thÆ°á»ng cÃ³ thá»ƒ lÃ  cÃ¡i luÃ´n tráº£ vá» unknown.

3.3 Trá»«u tÆ°á»£ng cá»§a LLM

Trong pháº§n nÃ y, chÃºng tÃ´i Ä‘Æ°a ra má»™t trá»«u tÆ°á»£ng chÃ­nh thá»©c cá»§a LLM dá»±a trÃªn mÃ£ hÃ³a-giáº£i mÃ£ nhÆ° Ä‘Æ°á»£c hiá»ƒn thá»‹ trong HÃ¬nh 3, mÃ  trong thá»±c táº¿ phá»©c táº¡p hÆ¡n nhÆ°ng tuÃ¢n theo trá»«u tÆ°á»£ng. Trá»«u tÆ°á»£ng nÃ y bao gá»“m cÃ¡c mÃ´ hÃ¬nh chá»‰ giáº£i mÃ£ vÃ  cÅ©ng cÃ³ thá»ƒ mÃ´ táº£ cÃ¡c mÃ´ hÃ¬nh chá»‰ mÃ£ hÃ³a sá»­ dá»¥ng Ä‘áº§u ra mÃ£ hÃ³a trá»±c tiáº¿p nhÆ° xÃ¡c suáº¥t token Ä‘á»ƒ táº¡o.

[HÃ¬nh 3: Trá»«u tÆ°á»£ng cá»§a LLM dá»±a trÃªn mÃ£ hÃ³a-giáº£i mÃ£]

Äá»‹nh nghÄ©a 3.5 (MÃ´ hÃ¬nh NgÃ´n ngá»¯ Lá»›n). ChÃ­nh thá»©c, chÃºng tÃ´i Ä‘á»‹nh nghÄ©a LLM dá»±a trÃªn mÃ£ hÃ³a-giáº£i mÃ£ LM nhÆ° má»™t bá»™ ba

LM=(Î£lm,encode,decode), (3.8)

trong Ä‘Ã³ Î£lm lÃ  má»™t tá»« vá»±ng bao gá»“m táº­p há»£p cÃ¡c token Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a bá»Ÿi mÃ´ hÃ¬nh. Bá»™ mÃ£ hÃ³a encode lÃ  má»™t hÃ m Ã¡nh xáº¡ tá»« má»™t chuá»—i Ä‘áº§u vÃ o Ä‘áº¿n biá»ƒu diá»…n Ä‘Æ°á»£c mÃ£ hÃ³a cá»§a nÃ³ trong EncRep:

encode :Î£*lmâ†’EncRep. (3.9)

Bá»™ giáº£i mÃ£ decode, Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a dÆ°á»›i Ä‘Ã¢y, sau Ä‘Ã³ ghi nhá»› biá»ƒu diá»…n Ä‘Æ°á»£c mÃ£ hÃ³a trong EncRep, nháº­n Ä‘áº§u vÃ o lÃ  má»™t chuá»—i token, vÃ  táº¡o ra Ä‘áº§u ra biá»ƒu diá»…n Ä‘Æ°á»£c giáº£i mÃ£ cá»§a nÃ³ trong DecRep:

decode :EncRepâ†’Î£*lmâ†’DecRep. (3.10)

Trong Ä‘á»‹nh nghÄ©a nÃ y, viá»‡c bá»™ giáº£i mÃ£ ghi nhá»› biá»ƒu diá»…n Ä‘Æ°á»£c mÃ£ hÃ³a Ä‘Æ°á»£c mÃ´ hÃ¬nh hÃ³a nhÆ° má»™t hÃ m báº­c cao hÆ¡n tráº£ vá» má»™t hÃ m giáº£i mÃ£ chi tiáº¿t dá»±a trÃªn biá»ƒu diá»…n Ä‘Æ°á»£c mÃ£ hÃ³a. Biá»ƒu diá»…n Ä‘Æ°á»£c giáº£i mÃ£ trong DecRep cÆ¡ báº£n gÃ¡n má»™t xÃ¡c suáº¥t cho má»—i token trong tá»« vá»±ng Ä‘á»ƒ phÃ¡t biá»ƒu kháº£ nÄƒng cá»§a nÃ³ lÃ  token tiáº¿p theo trong chuá»—i. Do Ä‘Ã³, chÃºng ta cÃ³ thá»ƒ Ä‘á»‹nh nghÄ©a DecRep nhÆ°

DecRep =Î£lmâ†’[0,1]. (3.11)

4 PHÆ¯Æ NG PHÃP

Theo háº§u háº¿t cÃ¡c cÃ´ng cá»¥ APR dá»±a trÃªn há»c sÃ¢u gáº§n Ä‘Ã¢y [67,72,74], Repilot táº­p trung vÃ o viá»‡c sá»­a cÃ¡c lá»—i Ä‘Æ¡n hunk, trong Ä‘Ã³ báº£n vÃ¡ Ä‘Æ°á»£c thu tháº­p báº±ng cÃ¡ch thay Ä‘á»•i má»™t pháº§n mÃ£ liÃªn tá»¥c dÆ°á»›i Ä‘á»‹nh vá»‹ lá»—i hoÃ n háº£o. Repilot cÃ³ thá»ƒ Ä‘Æ°á»£c má»Ÿ rá»™ng cho cÃ¡c lá»—i Ä‘a hunk báº±ng cÃ¡ch thay tháº¿ táº¥t cáº£ cÃ¡c vá»‹ trÃ­ hunk cÃ¹ng má»™t lÃºc báº±ng cÃ¡c token infilling riÃªng biá»‡t vÃ  sá»­ dá»¥ng LLM Ä‘á»ƒ táº¡o ra cÃ¡c hunk thay tháº¿. ÄÆ°á»£c hÆ°á»Ÿng lá»£i tá»« ká»· nguyÃªn LLM, nhÆ° Ä‘Æ°á»£c hiá»ƒn thá»‹ trong HÃ¬nh 4, trong bÃ i bÃ¡o nÃ y, chÃºng tÃ´i coi váº¥n Ä‘á» sá»­a chá»¯a nhÆ° má»™t tÃ¡c vá»¥ cloze [67], trong Ä‘Ã³ má»™t báº£n vÃ¡ Ä‘Æ°á»£c hÃ¬nh thÃ nh báº±ng cÃ¡ch Ä‘áº§u tiÃªn thay tháº¿ hunk lá»—i báº±ng má»™t token span che khuáº¥t (<SPAN>) vÃ  sau Ä‘Ã³ sá»­ dá»¥ng LLM Ä‘á»ƒ trá»±c tiáº¿p tá»•ng há»£p hunk Ä‘Ã£ sá»­a tá»« ngá»¯ cáº£nh mÃ£ xung quanh Ä‘á»ƒ thay tháº¿ token span.

[HÃ¬nh 4: Sá»­a chá»¯a chÆ°Æ¡ng trÃ¬nh kiá»ƒu cloze]

4.1 Tá»•ng quan

HÃ¬nh 5 cho tháº¥y má»™t tá»•ng quan vá» cÃ¡ch Repilot tá»•ng há»£p má»™t chÆ°Æ¡ng trÃ¬nh hoáº¡t Ä‘á»™ng nhÆ° hunk Ä‘Æ°á»£c sá»­a chá»¯a cá»§a chÆ°Æ¡ng trÃ¬nh lá»—i gá»‘c. VÃ²ng láº·p táº¡o bao gá»“m má»™t vÃ²ng láº·p liÃªn tá»¥c cáº­p nháº­t viá»‡c táº¡o vá»›i cÃ¡c token má»›i Ä‘Æ°á»£c táº¡o ra tá»« sá»± hiá»‡p Ä‘á»“ng giá»¯a mÃ´ hÃ¬nh ngÃ´n ngá»¯ vÃ  CÃ´ng cá»¥ HoÃ n thiá»‡n. VÃ²ng láº·p báº¯t Ä‘áº§u báº±ng viá»‡c Ã¡p dá»¥ng viá»‡c táº¡o hiá»‡n táº¡i nhÆ° Ä‘áº§u vÃ o cho mÃ´ hÃ¬nh ngÃ´n ngá»¯ (1), cÃ¡i mÃ  tráº£ vá» má»™t khÃ´ng gian tÃ¬m kiáº¿m cá»§a má»™t Ã¡nh xáº¡ tá»« má»™t token tiáº¿p theo Ä‘Æ°á»£c Ä‘á» xuáº¥t Ä‘áº¿n xÃ¡c suáº¥t cá»§a nÃ³. Repilot sau Ä‘Ã³ vÃ o má»™t giai Ä‘oáº¡n chá»n token mÃ  láº·p Ä‘i láº·p láº¡i láº¥y máº«u má»™t token tá»« khÃ´ng gian tÃ¬m kiáº¿m, kiá»ƒm tra tÃ­nh kháº£ thi cá»§a nÃ³, vÃ  loáº¡i bá» khÃ´ng gian tÃ¬m kiáº¿m cho Ä‘áº¿n khi má»™t token Ä‘Æ°á»£c cháº¥p nháº­n. Má»—i khi má»™t token Ä‘Æ°á»£c láº¥y máº«u, Repilot Ä‘áº§u tiÃªn kiá»ƒm tra xem nÃ³ cÃ³ trÃºng vÃ o ghi nhá»› (2), cÃ¡i mÃ  lÆ°u trá»¯ cÃ¡c token Ä‘Æ°á»£c biáº¿t lÃ  kháº£ thi hoáº·c khÃ´ng kháº£ thi. Viá»‡c ghi nhá»› cÃ¡c token khÃ´ng kháº£ thi bao gá»“m viá»‡c sá»­ dá»¥ng cáº¥u trÃºc dá»¯ liá»‡u cÃ¢y tiá»n tá»‘ (Trie) Ä‘Æ°á»£c tháº£o luáº­n trong Â§4.3. Khi token trÃºng vÃ o ghi nhá»› vÃ  khÃ´ng kháº£ thi, khÃ´ng gian tÃ¬m kiáº¿m Ä‘Æ°á»£c loáº¡i bá» báº±ng cÃ¡ch Ä‘áº·t xÃ¡c suáº¥t cá»§a token nÃ y vá» khÃ´ng (3), vÃ  viá»‡c láº¥y máº«u tiáº¿p theo sáº½ cháº¡y trÃªn khÃ´ng gian tÃ¬m kiáº¿m Ä‘Æ°á»£c cáº­p nháº­t. Theo cÃ¡ch nÃ y, cÃ¹ng má»™t token khÃ´ng Ä‘Æ°á»£c láº¥y máº«u láº¡i trong giai Ä‘oáº¡n chá»n token. Náº¿u token bá» lá»¡ viá»‡c ghi nhá»›, khÃ´ng gian tÃ¬m kiáº¿m Ä‘Æ°á»£c loáº¡i bá» dÆ°á»›i sá»± hÆ°á»›ng dáº«n cá»§a CÃ´ng cá»¥ HoÃ n thiá»‡n (4), mÃ  chÃºng tÃ´i elaborated trong Â§4.2. Vá»›i Ä‘iá»u kiá»‡n ráº±ng token Ä‘Æ°á»£c láº¥y máº«u bá»‹ tá»« chá»‘i bá»Ÿi CÃ´ng cá»¥ HoÃ n thiá»‡n, Repilot Ä‘áº·t xÃ¡c suáº¥t cá»§a nÃ³ vá» khÃ´ng. Náº¿u khÃ´ng, nÃ³ Ä‘Æ°á»£c cháº¥p nháº­n vÃ  quÃ¡ trÃ¬nh chá»n token nÃ y káº¿t thÃºc. Viá»‡c ghi nhá»› Ä‘Æ°á»£c cáº­p nháº­t trong cáº£ hai trÆ°á»ng há»£p (5). Sau khi má»™t token Ä‘Æ°á»£c cháº¥p nháº­n (6), chÃºng tÃ´i tiáº¿p tá»¥c táº­n dá»¥ng CÃ´ng cá»¥ HoÃ n thiá»‡n, cá»‘ gáº¯ng hoÃ n thÃ nh chá»§ Ä‘á»™ng token (7). Viá»‡c hoÃ n thÃ nh chá»§ Ä‘á»™ng, Ä‘Æ°á»£c tháº£o luáº­n trong Â§4.4, cÃ³ thá»ƒ táº¡o ra nhiá»u token hÆ¡n hoáº·c khÃ´ng thÃªm gÃ¬ vÃ o token Ä‘Æ°á»£c cháº¥p nháº­n. Cuá»‘i cÃ¹ng, Repilot ná»‘i táº¥t cáº£ cÃ¡c token má»›i Ä‘Æ°á»£c táº¡o ra vÃ o viá»‡c táº¡o hiá»‡n táº¡i vÃ  báº¯t Ä‘áº§u má»™t vÃ²ng láº·p má»›i cho Ä‘áº¿n khi má»™t báº£n vÃ¡ hoÃ n chá»‰nh Ä‘Æ°á»£c táº¡o ra. VÃ²ng láº·p dá»«ng khi mÃ´ hÃ¬nh táº¡o ra token Ä‘áº·c biá»‡t end-token.

Thuáº­t toÃ¡n 1 chi tiáº¿t quÃ¡ trÃ¬nh nÃ y vÃ  cho tháº¥y cÃ¡ch má»™t chÆ°Æ¡ng trÃ¬nh báº£n vÃ¡ hoÃ n chá»‰nh Ä‘Æ°á»£c táº¡o ra báº±ng cÃ¡ch sá»­ dá»¥ng nhá»¯ng gÃ¬ Ä‘Æ°á»£c thiáº¿t láº­p trong Â§3. NÃ³ bá»• sung mÃ´ táº£ cÃ¡ch Repilot thá»±c hiá»‡n tiá»n xá»­ lÃ½ (DÃ²ng 3 Ä‘áº¿n 6) vÃ  chÃ­nh thá»©c hÃ³a quy trÃ¬nh loáº¡i bá» Ä‘Æ°á»£c hÆ°á»›ng dáº«n hoÃ n thiá»‡n Ä‘Æ°á»£c minh há»a trong HÃ¬nh 5 báº±ng cÃ¡ch sá»­ dá»¥ng hai hÃ m GuidedPrune vÃ  ActivelyComplete (DÃ²ng 7 Ä‘áº¿n 17). Trong táº¥t cáº£ cÃ¡c thuáº­t toÃ¡n cá»§a chÃºng tÃ´i, chÃºng tÃ´i sá»­ dá»¥ng "kÃ½ hiá»‡u cháº¥m" Ä‘á»ƒ chá»‰ Ä‘á»‹nh má»™t thá»±c thá»ƒ cá»§a má»™t bá»™ (vÃ­ dá»¥: LM.encode), nhÆ°ng sá»­ dá»¥ng má»™t dáº¡ng viáº¿t táº¯t khi ngá»¯ cáº£nh rÃµ rÃ ng (vÃ­ dá»¥: Î£lm vÃ  Î£pl cho LM.Î£lm vÃ  CE.Î£pl). ChÃºng tÃ´i cÅ©ng tÃ¹y chá»n Ã¡p dá»¥ng chÃº thÃ­ch kiá»ƒu Ä‘á»ƒ lÃ m rÃµ. LÆ°u Ã½ ráº±ng chÃºng tÃ´i Ä‘Æ¡n giáº£n hÃ³a Ä‘á»‹nh nghÄ©a cá»§a CÃ´ng cá»¥ HoÃ n thiá»‡n báº±ng cÃ¡ch háº¡n cháº¿ nÃ³ Ä‘Æ°á»£c gá»i vá»›i má»™t chÆ°Æ¡ng trÃ¬nh. Trong thá»±c táº¿, CÃ´ng cá»¥ HoÃ n thiá»‡n luÃ´n Ä‘Æ°á»£c khá»Ÿi táº¡o vá»›i toÃ n bá»™ dá»± Ã¡n vÃ  cÃ³ thá»ƒ cung cáº¥p cÃ¡c gá»£i Ã½ dá»±a trÃªn thÃ´ng tin toÃ n cáº§u.

[Thuáº­t toÃ¡n 1: VÃ²ng láº·p Sá»­a chá»¯a chÃ­nh cá»§a Repilot]

4.2 Loáº¡i bá» KhÃ´ng gian TÃ¬m kiáº¿m ÄÆ°á»£c hÆ°á»›ng dáº«n HoÃ n thiá»‡n

Trong pháº§n nÃ y, chÃºng tÃ´i giáº£i thÃ­ch Ã½ tÆ°á»Ÿng cá»‘t lÃµi vá» cÃ¡ch Repilot sá»­ dá»¥ng CÃ´ng cá»¥ HoÃ n thiá»‡n Ä‘á»ƒ loáº¡i bá» khÃ´ng gian tÃ¬m kiáº¿m cá»§a LLM.

Thuáº­t toÃ¡n 2 giáº£i thÃ­ch sÃ¢u sáº¯c cÃ¡ch CÃ´ng cá»¥ HoÃ n thiá»‡n giÃºp loáº¡i bá» khÃ´ng gian tÃ¬m kiáº¿m cá»§a mÃ´ hÃ¬nh. HÃ m GuidedPrune nháº­n Ä‘áº§u vÃ o lÃ  CÃ´ng cá»¥ HoÃ n thiá»‡n CE, chÆ°Æ¡ng trÃ¬nh hiá»‡n táº¡i prog, vá»‹ trÃ­ con trá» hiá»‡n táº¡i caret, vÃ  báº£n Ä‘á»“ xÃ¡c suáº¥t tokens Ä‘Æ°á»£c cung cáº¥p bá»Ÿi mÃ´ hÃ¬nh, vÃ  táº¡o ra má»™t token next-token nhÆ° sá»± tiáº¿p tá»¥c cá»§a chÆ°Æ¡ng trÃ¬nh prog táº¡i vá»‹ trÃ­ caret. HÃ m bao gá»“m má»™t vÃ²ng láº·p while (DÃ²ng 2 Ä‘áº¿n 11) trong Ä‘Ã³ Repilot Ä‘áº§u tiÃªn láº¥y máº«u má»™t token tiáº¿p theo cÃ³ thá»ƒ theo xÃ¡c suáº¥t (DÃ²ng 3), cáº­p nháº­t chÆ°Æ¡ng trÃ¬nh hiá»‡n táº¡i tÆ°Æ¡ng á»©ng (DÃ²ng 4), vÃ  di chuyá»ƒn con trá» sau next-token. Repilot sau Ä‘Ã³ gá»i CÃ´ng cá»¥ HoÃ n thiá»‡n sá»­ dá»¥ng hÃ m complete Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong PhÆ°Æ¡ng trÃ¬nh (3.5), dá»±a trÃªn chÆ°Æ¡ng trÃ¬nh progâ€² vÃ  vá»‹ trÃ­ con trá» caretâ€². Náº¿u káº¿t quáº£ khÃ´ng pháº£i lÃ  unknown nhÆ°ng khÃ´ng cÃ³ hoÃ n thiá»‡n (DÃ²ng 8), cÃ³ nghÄ©a lÃ  khÃ´ng cÃ³ sá»± tiáº¿p tá»¥c cÃ³ thá»ƒ nÃ o cÃ³ thá»ƒ Ä‘Æ°á»£c hÃ¬nh thÃ nh sau next-token, vÃ¬ váº­y token next-token Ä‘Æ°á»£c coi lÃ  khÃ´ng kháº£ thi, do Ä‘Ã³ Ä‘Æ°á»£c loáº¡i bá» (DÃ²ng 9) trong vÃ²ng tÃ¬m kiáº¿m nÃ y, vÃ  vÃ²ng láº·p sáº½ tiáº¿p tá»¥c (DÃ²ng 10). Náº¿u khÃ´ng, chÃºng tÃ´i coi token lÃ  kháº£ thi vÃ  tráº£ vá» next-token (DÃ²ng 11).

Viá»‡c loáº¡i bá» táº¡i DÃ²ng 9 Ä‘Æ°á»£c thá»±c hiá»‡n báº±ng cÃ¡ch Ä‘áº·t xÃ¡c suáº¥t cá»§a má»¥c nháº­p next-token cá»§a báº£n Ä‘á»“ xÃ¡c suáº¥t tokens vá» khÃ´ng. KÃ½ hiá»‡u Ä‘Æ°á»£c sá»­ dá»¥ng táº¡i dÃ²ng nÃ y Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a tiáº¿p theo. Giáº£ sá»­ ráº±ng

f:Xâ†’Y={x0â†¦â†’y0,x1â†¦â†’y1, . . .} (4.1)

lÃ  má»™t hÃ m tÃ¹y Ã½, vÃ 
a:Xâ‡€Y={xâ€²0â†¦â†’yâ€²0,xâ€²1â†¦â†’yâ€²1, . . .} (4.2)

lÃ  má»™t hÃ m má»™t pháº§n cÃ¹ng loáº¡i, cÃ³ nghÄ©a lÃ  chá»‰ má»™t táº­p con cá»§a cÃ¡c Ä‘áº§u vÃ o trong miá»n X Ä‘Æ°á»£c liÃªn káº¿t vá»›i má»™t Ä‘áº§u ra trong pháº¡m vi Y. ChÃºng tÃ´i Ä‘á»‹nh nghÄ©a hÃ nh Ä‘á»™ng thay Ä‘á»•i giÃ¡ trá»‹ Ä‘áº§u ra cá»§a cÃ¡c Ä‘áº§u vÃ o trong f báº±ng cÃ¡ch sá»­ dá»¥ng cÃ¡c gÃ¡n Ä‘Æ°á»£c cung cáº¥p bá»Ÿi a nhÆ°

f[a]=(fâˆ’fremoved)âˆªa
trong Ä‘Ã³ fremoved ={xâ€²â†¦â†’f(xâ€²)|xâ€²â†¦â†’yâ€²âˆˆa}.(4.3)

[Thuáº­t toÃ¡n 2: Loáº¡i bá» KhÃ´ng gian TÃ¬m kiáº¿m ÄÆ°á»£c hÆ°á»›ng dáº«n HoÃ n thiá»‡n]

4.3 Ghi nhá»› cho TÃ¬m kiáº¿m Nhanh hÆ¡n

Thuáº­t toÃ¡n 2 (GuidedPrune) bao gá»“m má»™t vÃ²ng láº·p cá»§a cÃ¡c thá»­ nghiá»‡m vÃ  hÃ nh Ä‘á»™ng loáº¡i bá», Ä‘iá»u nÃ y lÃ m cháº­m tÃ¡c vá»¥ sá»­a chá»¯a trong má»™t sá»‘ tÃ¬nh huá»‘ng. Äá»ƒ tÄƒng tá»‘c quy trÃ¬nh tÃ¬m kiáº¿m cá»§a nÃ³, chÃºng tÃ´i Ã¡p dá»¥ng má»™t sá»‘ ká»¹ thuáº­t ghi nhá»› Ä‘á»ƒ giáº£m táº§n suáº¥t gá»i CÃ´ng cá»¥ HoÃ n thiá»‡n Ä‘á»ƒ phÃ¢n tÃ­ch.

Ghi nhá»› cÃ¡c token bá»‹ tá»« chá»‘i. Äá»ƒ sá»­a chá»¯a má»™t lá»—i trong thá»±c táº¿ Ä‘Ã²i há»i táº¡o ra ráº¥t nhiá»u máº«u, cÃ³ nghÄ©a lÃ  cÃ¹ng má»™t chÆ°Æ¡ng trÃ¬nh progâ€² vÃ  caretâ€² (DÃ²ng 4 Ä‘áº¿n 5) cÃ³ thá»ƒ xáº£y ra láº·p Ä‘i láº·p láº¡i trong Thuáº­t toÃ¡n 2 (GuidedPrune). Do Ä‘Ã³, chÃºng ta cÃ³ thá»ƒ ghi nhá»› táº¥t cáº£ cÃ¡c token bá»‹ loáº¡i bá» táº¡i DÃ²ng 9 báº±ng cÃ¡ch lÆ°u trá»¯ chÃºng trong má»™t biáº¿n

rejected :(Î£*pl,N)â†’P(Î£lm), (4.4)

Ã¡nh xáº¡ tá»« má»™t chÆ°Æ¡ng trÃ¬nh prog vÃ  vá»‹ trÃ­ con trá» caret Ä‘áº¿n má»™t táº­p há»£p cÃ¡c token bá»‹ tá»« chá»‘i. Sau Ä‘Ã³ chÃºng ta Ä‘áº·t xÃ¡c suáº¥t cá»§a cÃ¡c token bá»‹ tá»« chá»‘i vá» khÃ´ng trÆ°á»›c, viáº¿t lÃ 

tokens :=tokens[{tokâ†¦â†’0|tokâˆˆrejected(prog,caret)}],(4.5)

trÆ°á»›c khi vÃ²ng láº·p while (DÃ²ng 2) báº¯t Ä‘áº§u.

Ghi nhá»› cÃ¡c token Ä‘Æ°á»£c cháº¥p nháº­n. BÃªn cáº¡nh cÃ¡c token bá»‹ tá»« chá»‘i, chÃºng ta cÅ©ng cÃ³ thá»ƒ ghi nhá»› cÃ¡c token Ä‘Ã£ Ä‘Æ°á»£c cháº¥p nháº­n trÆ°á»›c Ä‘Ã³ trong má»™t biáº¿n

accepted :(Î£*pl,N)â†’P(Î£lm) (4.6)

Ä‘á»ƒ trÃ¡nh chi phÃ­ phá»¥ phÃ¡t sinh tá»« viá»‡c truy váº¥n CÃ´ng cá»¥ HoÃ n thiá»‡n táº¡i DÃ²ng 7 Ä‘áº¿n 8.

XÃ¢y dá»±ng CÃ¢y Tiá»n tá»‘ cá»§a CÃ¡c Token Bá»‹ tá»« chá»‘i. ThÆ°á»ng xuyÃªn cÃ³ nhiá»u token trong tá»« vá»±ng cá»§a mÃ´ hÃ¬nh ngÃ´n ngá»¯ lÃ  tiá»n tá»‘ cá»§a nhau. VÃ  rÃµ rÃ ng lÃ  náº¿u má»™t token bá»‹ tá»« chá»‘i, cÃ³ nghÄ©a lÃ  khÃ´ng cÃ³ sá»± tiáº¿p tá»¥c cÃ³ thá»ƒ nÃ o cÃ³ thá»ƒ Ä‘Æ°á»£c hÃ¬nh thÃ nh sau token Ä‘á»ƒ thu Ä‘Æ°á»£c má»™t chÆ°Æ¡ng trÃ¬nh há»£p lá»‡ tÄ©nh, thÃ¬ báº¥t ká»³ token nÃ o chia sáº» tiá»n tá»‘ nhÆ° váº­y Ä‘á»u nÃªn bá»‹ tá»« chá»‘i. VÃ¬ lÃ½ do nÃ y, chÃºng tÃ´i xÃ¢y dá»±ng vÃ  tiáº¿p tá»¥c cáº­p nháº­t má»™t cÃ¢y tiá»n tá»‘, hoáº·c Trie, cá»§a táº¥t cáº£ cÃ¡c token bá»‹ tá»« chá»‘i dá»±a trÃªn prog vÃ  caret, vÃ  kiá»ƒm tra xem cÃ³ token nÃ o trong Trie lÃ  tiá»n tá»‘ cá»§a next-token ngay sau DÃ²ng 3 trong Thuáº­t toÃ¡n 2. Náº¿u Ä‘Ãºng nhÆ° váº­y, Repilot trá»±c tiáº¿p bá» qua Ä‘áº¿n láº§n láº·p tiáº¿p theo, trÃ¡nh phÃ¢n tÃ­ch sÃ¢u hÆ¡n.

4.4 HoÃ n thiá»‡n Chá»§ Ä‘á»™ng

KhÃ´ng chá»‰ CÃ´ng cá»¥ HoÃ n thiá»‡n cÃ³ thá»ƒ xÃ¡c Ä‘á»‹nh tÃ­nh kháº£ thi cá»§a má»™t token tiáº¿p theo cÃ³ thá»ƒ Ä‘Æ°á»£c Ä‘á» xuáº¥t bá»Ÿi mÃ´ hÃ¬nh, nhÆ° Ä‘Æ°á»£c hiá»ƒn thá»‹ trong Â§4.2, mÃ  nÃ³ cÅ©ng cÃ³ thá»ƒ chá»§ Ä‘á»™ng gá»£i Ã½ má»™t sá»± tiáº¿p tá»¥c tiá»m nÄƒng cá»§a chÆ°Æ¡ng trÃ¬nh hiá»‡n táº¡i mÃ  khÃ´ng cáº§n truy váº¥n mÃ´ hÃ¬nh, giá»‘ng nhÆ° cÃ¡ch cÃ¡c nhÃ  phÃ¡t triá»ƒn hÆ°á»Ÿng lá»£i tá»« tá»± Ä‘á»™ng hoÃ n thÃ nh.

Thuáº­t toÃ¡n 3 mÃ´ táº£ hoÃ n thiá»‡n chá»§ Ä‘á»™ng chi tiáº¿t. HÃ m ActivelyComplete nháº­n ba Ä‘áº§u vÃ o: CÃ´ng cá»¥ HoÃ n thiá»‡n CE, chÆ°Æ¡ng trÃ¬nh hiá»‡n táº¡i prog, vÃ  vá»‹ trÃ­ con trá» hiá»‡n táº¡i caret, vÃ  Ä‘áº§u ra má»™t chuá»—i token completion-toks nhÆ° sá»± tiáº¿p tá»¥c cá»§a prog táº¡i caret. Ban Ä‘áº§u, Repilot láº¥y káº¿t quáº£ hoÃ n thiá»‡n theo PhÆ°Æ¡ng trÃ¬nh (3.5), dá»±a trÃªn prog vÃ  caret (DÃ²ng 2), vÃ  kiá»ƒm tra xem nÃ³ cÃ³ pháº£i lÃ  unknown khÃ´ng (DÃ²ng 3). Náº¿u Ä‘Ãºng nhÆ° váº­y (completions = unknown), káº¿t quáº£ Ä‘Æ°á»£c Ä‘áº·t thÃ nh má»™t chuá»—i rá»—ng, cÃ³ nghÄ©a lÃ  khÃ´ng cÃ³ hoÃ n thiá»‡n bá»• sung nÃ o Ä‘Æ°á»£c táº¡o ra (DÃ²ng 4). Náº¿u khÃ´ng, Repilot tÃ­nh toÃ¡n tiá»n tá»‘ chung cá»§a táº¥t cáº£ cÃ¡c hoÃ n thiá»‡n (DÃ²ng 6). LÆ°u Ã½ ráº±ng kiá»ƒu cá»§a biáº¿n káº¿t quáº£ completion lÃ  má»™t chuá»—i kÃ½ tá»± trong báº£ng chá»¯ cÃ¡i NgÃ´n ngá»¯ Láº­p trÃ¬nh, khÃ¡c vá»›i Î£lm cá»§a mÃ´ hÃ¬nh ngÃ´n ngá»¯, vÃ¬ váº­y Repilot tiáº¿p tá»¥c cÄƒn chá»‰nh hoÃ n thiá»‡n Ä‘á»ƒ phÃ¹ há»£p vá»›i tá»« vá»±ng cá»§a mÃ´ hÃ¬nh (DÃ²ng 7). Cuá»‘i cÃ¹ng, káº¿t quáº£ Ä‘Æ°á»£c tráº£ vá» táº¡i DÃ²ng 8.

[Thuáº­t toÃ¡n 3: HoÃ n thiá»‡n Chá»§ Ä‘á»™ng]

4.5 TÃ­nh ÄÃºng Ä‘áº¯n cá»§a Repilot

Trong pháº§n nÃ y, chÃºng tÃ´i cho tháº¥y Ä‘áº£m báº£o lÃ½ thuyáº¿t cá»§a má»—i thuáº­t toÃ¡n Ä‘Æ°á»£c tháº£o luáº­n á»Ÿ trÃªn dÆ°á»›i Ä‘iá»u kiá»‡n CÃ´ng cá»¥ HoÃ n thiá»‡n nghiÃªm ngáº·t (Äá»‹nh nghÄ©a 3.4).

Bá»• Ä‘á» 4.1 (TÃ­nh ÄÃºng Ä‘áº¯n cá»§a Loáº¡i bá»). CÃ¡c token bá»‹ loáº¡i bá» trong Thuáº­t toÃ¡n 2 (GuidedPrune) dáº«n Ä‘áº¿n cÃ¡c chÆ°Æ¡ng trÃ¬nh khÃ´ng kháº£ thi.

Tháº£o luáº­n. Tá»« PhÆ°Æ¡ng trÃ¬nh (3.7) trong Äá»‹nh nghÄ©a 3.4, chÃºng ta cÃ³ thá»ƒ suy ra ráº±ng má»™t chÆ°Æ¡ng trÃ¬nh khÃ´ng kháº£ thi táº¡i má»™t vá»‹ trÃ­ con trá» nÃ o Ä‘Ã³ náº¿u CÃ´ng cá»¥ HoÃ n thiá»‡n khÃ´ng tráº£ vá» unknown nhÆ°ng táº­p há»£p cÃ¡c hoÃ n thiá»‡n trá»‘ng, tá»©c lÃ ,

|completions|=0â†’(prog,caret)Ì¸âŠ¨Î¦
náº¿u completions â‰  unknown (4.7)

Viá»‡c loáº¡i bá» trong Thuáº­t toÃ¡n 2 xáº£y ra táº¡i DÃ²ng 8 Ä‘áº¿n 9, chÃ­nh xÃ¡c lÃ  nhá»¯ng gÃ¬ Ä‘Æ°á»£c mÃ´ táº£ á»Ÿ trÃªn. Káº¿t quáº£ lÃ , chÃºng ta cÃ³ thá»ƒ káº¿t luáº­n ráº±ng chÆ°Æ¡ng trÃ¬nh vá»›i next-token Ä‘Æ°á»£c ná»‘i thÃªm lÃ  khÃ´ng kháº£ thi, vÃ  do Ä‘Ã³ Repilot an toÃ n khi tá»« bá» token. â–¡

Bá»• Ä‘á» 4.2 (TÃ­nh ÄÃºng Ä‘áº¯n cá»§a Ghi nhá»›). Viá»‡c ghi nhá»› Ä‘Æ°á»£c tháº£o luáº­n trong Â§4.3 khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n hÃ nh vi cá»§a GuidedPrune.

Tháº£o luáº­n. Äá»‹nh lÃ½ Ä‘Ãºng vÃ¬ táº¥t cáº£ cÃ¡c ká»¹ thuáº­t ghi nhá»› Ä‘Æ°á»£c Ä‘á» cáº­p trong Â§4.3 khÃ´ng thay Ä‘á»•i ngá»¯ nghÄ©a cá»§a GuidedPrune mÃ  chá»‰ tÄƒng tá»‘c quÃ¡ trÃ¬nh. â–¡

Bá»• Ä‘á» 4.3 (TÃ­nh ÄÃºng Ä‘áº¯n cá»§a HoÃ n thiá»‡n Chá»§ Ä‘á»™ng). Náº¿u má»™t chÆ°Æ¡ng trÃ¬nh kháº£ thi táº¡i má»™t vá»‹ trÃ­ con trá» nÃ o Ä‘Ã³, chÆ°Æ¡ng trÃ¬nh má»›i Ä‘Æ°á»£c táº¡o ra bá»Ÿi Thuáº­t toÃ¡n 3 (ActivelyComplete) lÃ  kháº£ thi táº¡i vá»‹ trÃ­ con trá» má»›i cá»§a nÃ³.

Tháº£o luáº­n. Dá»±a trÃªn PhÆ°Æ¡ng trÃ¬nh (3.7) tá»« Äá»‹nh nghÄ©a 3.4, báº¥t ká»³ sá»± tiáº¿p tá»¥c nÃ o khÃ´ng khá»›p vá»›i táº­p há»£p hoÃ n thiá»‡n sáº½ mang láº¡i má»™t chÆ°Æ¡ng trÃ¬nh khÃ´ng kháº£ thi. Trong trÆ°á»ng há»£p nhá»¯ng hoÃ n thiá»‡n nÃ y cÃ³ tiá»n tá»‘ chung Ä‘Æ°á»£c chia sáº», báº¥t ká»³ sá»± tiáº¿p tá»¥c nÃ o khÃ´ng báº¯t Ä‘áº§u vá»›i tiá»n tá»‘ chung nÃ y sáº½ khÃ´ng há»£p lá»‡. Do Ä‘Ã³, hoÃ n thÃ nh chÆ°Æ¡ng trÃ¬nh gá»‘c vá»›i tiá»n tá»‘ chung (DÃ²ng 6 trong Thuáº­t toÃ¡n 3) lÃ  cÃ¡ch duy nháº¥t Ä‘á»ƒ táº¡o ra má»™t chÆ°Æ¡ng trÃ¬nh kháº£ thi má»›i. â–¡

Dá»±a trÃªn Bá»• Ä‘á» 4.1 Ä‘áº¿n 4.3, chÃºng ta cÃ³ thá»ƒ dá»… dÃ ng chá»©ng minh ráº±ng thuáº­t toÃ¡n tá»•ng thá»ƒ cá»§a Repilot lÃ  Ä‘Ãºng Ä‘áº¯n.

Äá»‹nh lÃ½ 4.4 (TÃ­nh ÄÃºng Ä‘áº¯n Tá»•ng thá»ƒ). Thuáº­t toÃ¡n 1 (Repair) khÃ´ng bá» sÃ³t báº¥t ká»³ chÆ°Æ¡ng trÃ¬nh kháº£ thi nÃ o trong khÃ´ng gian tÃ¬m kiáº¿m cá»§a mÃ´ hÃ¬nh ngÃ´n ngá»¯.

Khi nÃ o Repilot sáº½ tháº¥t báº¡i? Máº·c dÃ¹ cÃ¡c Ä‘á»‹nh lÃ½ vá» tÃ­nh Ä‘Ãºng Ä‘áº¯n cá»§a Repilot, tá»©c lÃ  nÃ³ loáº¡i bá» khÃ´ng gian tÃ¬m kiáº¿m má»™t cÃ¡ch chÃ­nh xÃ¡c, nÃ³ khÃ´ng cung cáº¥p báº¥t ká»³ Ä‘áº£m báº£o nÃ o ráº±ng Repilot táº¡o ra má»™t báº£n vÃ¡ há»£p lá»‡ má»—i láº§n. Do Ä‘Ã³, hÃ nh vi mong Ä‘á»£i cá»§a Repilot lÃ  cÃ³ thá»ƒ thu Ä‘Æ°á»£c cÃ¡c báº£n vÃ¡ há»£p lá»‡ hiá»‡u quáº£ hÆ¡n, thay vÃ¬ hoÃ n toÃ n khÃ´ng cÃ³ lá»—i trong quÃ¡ trÃ¬nh táº¡o.

5 THIáº¾T Láº¬P THá»°C NGHIá»†M

Trong bÃ i bÃ¡o nÃ y, chÃºng tÃ´i nghiÃªn cá»©u cÃ¡c cÃ¢u há»i nghiÃªn cá»©u sau Ä‘Ã¢y Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ Repilot.

â€¢RQ1: Kháº£ nÄƒng sá»­a lá»—i cá»§a Repilot so vá»›i cÃ¡c ká»¹ thuáº­t APR tá»‘i tÃ¢n nhÆ° tháº¿ nÃ o (Â§6.1)?
â€¢RQ2: Repilot hiá»‡u quáº£ nhÆ° tháº¿ nÃ o trong viá»‡c cáº£i thiá»‡n tá»· lá»‡ biÃªn dá»‹ch cá»§a viá»‡c táº¡o báº£n vÃ¡ (Â§6.2)?
â€¢RQ3: Táº¥t cáº£ cÃ¡c thÃ nh pháº§n cá»§a Repilot cÃ³ Ä‘Ã³ng gÃ³p tÃ­ch cá»±c vÃ o hiá»‡u quáº£ cá»§a nÃ³ khÃ´ng (Â§6.3)?
â€¢RQ4: Repilot cÃ³ thá»ƒ tá»•ng quÃ¡t hÃ³a cho cÃ¡c chá»§ Ä‘á» lá»—i vÃ  mÃ´ hÃ¬nh khÃ¡c nhau khÃ´ng (Â§6.4)?

ChÃºng tÃ´i Ä‘áº§u tiÃªn so sÃ¡nh hiá»‡u suáº¥t sá»­a chá»¯a cá»§a Repilot, Ä‘Æ°á»£c khá»Ÿi táº¡o vá»›i CodeT5, vá»›i cÃ¡c cÃ´ng cá»¥ APR tá»‘i tÃ¢n trÃªn cÃ¡c cÃ´ng cá»¥ truyá»n thá»‘ng, dá»±a trÃªn NMT, vÃ  dá»±a trÃªn LLM trÃªn cÃ¡c bá»™ dá»¯ liá»‡u Defects4J trong RQ1. Trong RQ2, chÃºng tÃ´i sau Ä‘Ã³ Ä‘Ã¡nh giÃ¡ cháº·t cháº½ sá»± cáº£i thiá»‡n trong tá»· lá»‡ biÃªn dá»‹ch - tá»· lá»‡ pháº§n trÄƒm cÃ¡c báº£n vÃ¡ cÃ³ thá»ƒ biÃªn dá»‹ch Ä‘Æ°á»£c táº¡o ra Ä‘á»ƒ chá»©ng minh ráº±ng Repilot khÃ´ng chá»‰ hiá»‡u quáº£ trong sá»­a chá»¯a lá»—i mÃ  cÃ²n cÃ³ thá»ƒ táº¡o ra sá»‘ lÆ°á»£ng báº£n vÃ¡ cÃ³ thá»ƒ biÃªn dá»‹ch cao hÆ¡n so vá»›i cÃ¡c cÃ´ng cá»¥ hiá»‡n cÃ³. HÆ¡n ná»¯a, chÃºng tÃ´i thá»±c hiá»‡n má»™t nghiÃªn cá»©u ablation chi tiáº¿t trong RQ3 Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ sá»± Ä‘Ã³ng gÃ³p cá»§a cÃ¡c thÃ nh pháº§n khÃ¡c nhau cá»§a Repilot. Cuá»‘i cÃ¹ng, trong RQ4, chÃºng tÃ´i má»Ÿ rá»™ng Ä‘Ã¡nh giÃ¡ Repilot cá»§a chÃºng tÃ´i ngoÃ i viá»‡c sá»­ dá»¥ng vá»›i CodeT5 trong cÃ¡c RQ trÆ°á»›c Ä‘Ã³. ChÃºng tÃ´i tiáº¿n thÃªm má»™t bÆ°á»›c báº±ng cÃ¡ch thá»±c hiá»‡n Repilot vá»›i InCoder vÃ  Ä‘Ã¡nh giÃ¡ hiá»‡u suáº¥t cá»§a Repilot sá»­ dá»¥ng cáº£ CodeT5 vÃ  InCoder trÃªn cÃ¡c lá»—i Ä‘Æ¡n hunk tá»« cáº£ Defects4J 1.2 vÃ  2.0 Ä‘á»ƒ chá»©ng minh tÃ­nh tá»•ng quÃ¡t cá»§a Repilot trÃªn cÃ¡c LLM vÃ  chá»§ Ä‘á» lá»—i khÃ¡c nhau.

5.1 Triá»ƒn khai

ChÃºng tÃ´i sá»­ dá»¥ng triá»ƒn khai Python cá»§a cÃ¡c mÃ´ hÃ¬nh CodeT5-large vÃ  InCoder-6.7B thu Ä‘Æ°á»£c trÃªn Hugging Face [26]. ChÃºng tÃ´i xÃ¢y dá»±ng pipeline táº¡o cá»§a mÃ¬nh báº±ng Python vá»›i 5K dÃ²ng mÃ£ vÃ  thá»±c hiá»‡n má»™t phiÃªn báº£n sá»­a Ä‘á»•i cá»§a Eclipse JDT Language Server [1,18] báº±ng Java vá»›i 1.5K dÃ²ng mÃ£ bá»• sung, phá»¥c vá»¥ nhÆ° CÃ´ng cá»¥ HoÃ n thiá»‡n nghiÃªm ngáº·t cá»§a framework chÃºng tÃ´i. Viá»‡c táº¡o máº·c Ä‘á»‹nh cá»§a chÃºng tÃ´i sá»­ dá»¥ng láº¥y máº«u nucleus top-p [24] vá»›i p=1.0, temperature = 1.0, max-tokens = 50 vÃ  láº¥y máº«u 5000 láº§n má»—i lá»—i Ä‘á»ƒ so sÃ¡nh cÃ´ng báº±ng vá»›i cÃ¡c cÃ´ng viá»‡c trÆ°á»›c Ä‘Ã¢y (Â§6.1 vÃ  Â§6.2). Do chi phÃ­ cao cá»§a APR, chÃºng tÃ´i láº¥y máº«u 500 láº§n má»—i lá»—i cho nghiÃªn cá»©u ablation (Â§6.3) vÃ  Ä‘Ã¡nh giÃ¡ tÃ­nh tá»•ng quÃ¡t (Â§6.4). Theo cÃ´ng viá»‡c trÆ°á»›c Ä‘Ã¢y [39,44,67,74], chÃºng tÃ´i sá»­ dá»¥ng timeout 5 giá» Ä‘á»ƒ táº¡o vÃ  xÃ¡c thá»±c táº¥t cáº£ cÃ¡c báº£n vÃ¡ má»—i lá»—i. ChÃºng tÃ´i táº¡o vÃ  xÃ¡c thá»±c cÃ¡c báº£n vÃ¡ trÃªn 32-Core vá»›i CPU Ryzen Threadripper PRO 3975WX, RAM 256 GB vÃ  GPU NVIDIA RTX A6000, cháº¡y Ubuntu 20.04.4 LTS vá»›i Java version OpenJDK 1.8.0_181.

5.2 ChÆ°Æ¡ng trÃ¬nh Chá»§ Ä‘á»

ChÃºng tÃ´i sá»­ dá»¥ng benchmark sá»­a chá»¯a phá»• biáº¿n Defects4J cho Ä‘Ã¡nh giÃ¡ cá»§a mÃ¬nh. Defects4J lÃ  má»™t bá»™ dá»¯ liá»‡u Java Ä‘Æ°á»£c tuyá»ƒn chá»n thá»§ cÃ´ng vá»›i cÃ¡c cáº·p phiÃªn báº£n lá»—i vÃ  Ä‘Ã£ vÃ¡ cá»§a dá»± Ã¡n nguá»“n cÃ¹ng vá»›i bá»™ test nhÃ  phÃ¡t triá»ƒn Ä‘á»ƒ xÃ¡c thá»±c. Theo cÃ´ng viá»‡c trÆ°á»›c Ä‘Ã¢y vÃ  quy Æ°á»›c vÄƒn há»c APR, chÃºng tÃ´i tÃ¡ch Defects4J thÃ nh Defects4J 1.2, chá»©a 391 lá»—i (loáº¡i bá» 4 lá»—i Ä‘Ã£ lá»—i thá»i) tá»« 6 dá»± Ã¡n nguá»“n Java, vÃ  Defects4J 2.0, chá»©a 438 lá»—i má»›i tá»« 9 dá»± Ã¡n bá»• sung. Äá»‘i vá»›i Defects4J 1.2, chÃºng tÃ´i chá»‰ táº­p trung vÃ o cÃ¡c lá»—i Ä‘Æ¡n hunk vÃ¬ Repilot Ä‘Æ°á»£c thiáº¿t káº¿ cho sá»­a chá»¯a Ä‘Æ¡n hunk. LÆ°u Ã½ Ä‘Ã¢y cÅ©ng lÃ  cÃ i Ä‘áº·t Ä‘Ã¡nh giÃ¡ Ä‘Æ°á»£c sá»­ dá»¥ng trong Ä‘Æ°á»ng cÆ¡ sá»Ÿ trÆ°á»›c Ä‘Ã¢y [72]. HÆ¡n ná»¯a, chÃºng tÃ´i loáº¡i bá» cÃ¡c lá»—i khÃ´ng tÆ°Æ¡ng thÃ­ch vá»›i CÃ´ng cá»¥ HoÃ n thiá»‡n cá»§a chÃºng tÃ´i do cÃ¡c váº¥n Ä‘á» ká»¹ thuáº­t. Tá»•ng cá»™ng, chÃºng tÃ´i xem xÃ©t 138 lá»—i Ä‘Æ¡n hunk tá»« Defects4J 1.2 vÃ  135 lá»—i Ä‘Æ¡n hunk tá»« Defects4J 2.0. Cho Ä‘Ã¡nh giÃ¡ chÃ­nh cá»§a chÃºng tÃ´i trong RQ1, theo cÃ¹ng thiáº¿t láº­p nhÆ° cÃ´ng viá»‡c LLM trÆ°á»›c Ä‘Ã¢y cho APR [66,67], chÃºng tÃ´i bÃ¡o cÃ¡o káº¿t quáº£ trÃªn táº¥t cáº£ 135 lá»—i Ä‘Æ¡n hunk tá»« Defects4J 1.2 vÃ  76 lá»—i Ä‘Æ¡n dÃ²ng (má»™t táº­p con cá»§a cÃ¡c lá»—i Ä‘Æ¡n hunk) tá»« Defects4J 2.0. Trong khi Ä‘Ã³, trong nghiÃªn cá»©u tÃ­nh tá»•ng quÃ¡t cá»§a chÃºng tÃ´i (RQ4), chÃºng tÃ´i tiáº¿p tá»¥c Ä‘Ã¡nh giÃ¡ Repilot trÃªn táº­p Ä‘áº§y Ä‘á»§ cÃ¡c lá»—i Ä‘Æ¡n hunk tá»« cáº£ Defects4J 1.2 vÃ  2.0 cho cáº£ CodeT5 vÃ  InCoder.

5.3 Ká»¹ thuáº­t So sÃ¡nh

ChÃºng tÃ´i so sÃ¡nh Repilot vá»›i cÃ¡c Ä‘Æ°á»ng cÆ¡ sá»Ÿ tá»‘i tÃ¢n tá»« cÃ¡c cÃ´ng cá»¥ APR truyá»n thá»‘ng, dá»±a trÃªn NMT, vÃ  LLM cho APR. ChÃºng tÃ´i Ä‘Ã¡nh giÃ¡ vá»›i AlphaRepair [67] vÃ¬ nÃ³ lÃ  phÆ°Æ¡ng phÃ¡p LLM cho APR hiá»‡u suáº¥t cao nháº¥t. Äá»‘i vá»›i cÃ¡c phÆ°Æ¡ng phÃ¡p dá»±a trÃªn NMT, chÃºng tÃ´i chá»n 6 cÃ´ng cá»¥ gáº§n Ä‘Ã¢y: RewardRepair [72], Recoder [74], CURE [29], CoCoNuT [44], DLFix [39] vÃ  SequenceR [11] dá»±a trÃªn kiáº¿n trÃºc NMT. NgoÃ i ra, chÃºng tÃ´i so sÃ¡nh vá»›i 12 cÃ´ng cá»¥ APR truyá»n thá»‘ng: PraPR [21], TBar [41], AVATAR [42], SimFix [28], FixMiner [34], CapGen [63], JAID [9], SketchFix [25], NOPOL [13], jGenProg [45], jMutRepair [46] vÃ  jKali [46]. Tá»•ng cá»™ng, chÃºng tÃ´i bao gá»“m 19 Ä‘Æ°á»ng cÆ¡ sá»Ÿ APR vÃ  so sÃ¡nh Repilot vá»›i chÃºng trÃªn Defects4J 1.2 vÃ  2.0. CÃ i Ä‘áº·t Ä‘Ã¡nh giÃ¡ cá»§a chÃºng tÃ´i lÃ  trÃªn Ä‘á»‹nh vá»‹ lá»—i hoÃ n háº£o â€“ trong Ä‘Ã³ vá»‹ trÃ­ thá»±c táº¿ cá»§a lá»—i Ä‘Æ°á»£c cung cáº¥p cho cÃ´ng cá»¥ APR. ChÃºng tÃ´i lÆ°u Ã½ ráº±ng Ä‘Ã¢y lÃ  cÃ i Ä‘áº·t Ä‘Ã¡nh giÃ¡ Æ°a thÃ­ch vÃ¬ nÃ³ loáº¡i bá» báº¥t ká»³ sá»± khÃ¡c biá»‡t nÃ o gÃ¢y ra bá»Ÿi cÃ¡c phÆ°Æ¡ng phÃ¡p Ä‘á»‹nh vá»‹ lá»—i khÃ¡c nhau [29,44,58,74]. ChÃºng tÃ´i tuÃ¢n theo quy Æ°á»›c Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ´ng viá»‡c trÆ°á»›c Ä‘Ã¢y [21,29,41,74] vÃ  trá»±c tiáº¿p bÃ¡o cÃ¡o káº¿t quáº£ sá»­a lá»—i thu Ä‘Æ°á»£c tá»« cÃ¡c nghiÃªn cá»©u trÆ°á»›c Ä‘Ã¢y [21, 67, 72].

5.4 Metrics ÄÃ¡nh giÃ¡

â€¢Báº£n vÃ¡ há»£p lÃ½ lÃ  cÃ¡c báº£n vÃ¡ vÆ°á»£t qua táº¥t cáº£ cÃ¡c test case nhÆ°ng cÃ³ thá»ƒ vi pháº¡m Ã½ Ä‘á»‹nh thá»±c sá»± cá»§a ngÆ°á»i dÃ¹ng.
â€¢Báº£n vÃ¡ chÃ­nh xÃ¡c lÃ  cÃ¡c báº£n vÃ¡ tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá» máº·t ngá»¯ nghÄ©a vá»›i báº£n vÃ¡ nhÃ  phÃ¡t triá»ƒn. Theo thá»±c hÃ nh APR phá»• biáº¿n, chÃºng tÃ´i xÃ¡c Ä‘á»‹nh tÆ°Æ¡ng Ä‘Æ°Æ¡ng ngá»¯ nghÄ©a báº±ng cÃ¡ch kiá»ƒm tra thá»§ cÃ´ng má»—i báº£n vÃ¡ há»£p lÃ½.
â€¢Tá»· lá»‡ biÃªn dá»‹ch báº£n vÃ¡ cÅ©ng Ä‘Æ°á»£c sá»­ dá»¥ng trong nhiá»u cÃ´ng viá»‡c APR dá»±a trÃªn há»c sÃ¢u [29,72], cho biáº¿t tá»· lá»‡ pháº§n trÄƒm cÃ¡c báº£n vÃ¡ cÃ³ thá»ƒ biÃªn dá»‹ch trong táº¥t cáº£ cÃ¡c báº£n vÃ¡ Ä‘Æ°á»£c táº¡o ra.

6 PHÃ‚N TÃCH Káº¾T QUáº¢

6.1 RQ1: So sÃ¡nh vá»›i CÃ¡c cÃ´ng cá»¥ Hiá»‡n cÃ³

Trong RQ1 vÃ  RQ2, chÃºng tÃ´i tuÃ¢n theo phÆ°Æ¡ng phÃ¡p trÆ°á»›c Ä‘Ã¢y cho APR kiá»ƒu cloze [67] Ä‘á»ƒ sá»­ dá»¥ng cÃ¡c máº«u sá»­a chá»¯a cho má»™t Ä‘Ã¡nh giÃ¡ trung thá»±c. Thay vÃ¬ thay tháº¿ toÃ n bá»™ dÃ²ng lá»—i báº±ng mÃ£ Ä‘Æ°á»£c táº¡o ra bá»Ÿi mÃ´ hÃ¬nh, nhá»¯ng máº«u nÃ y cÃ³ há»‡ thá»‘ng giá»¯ cÃ¡c pháº§n cá»§a dÃ²ng lá»—i Ä‘á»ƒ giáº£m lÆ°á»£ng mÃ£ mÃ  LLM cáº§n táº¡o ra. LÆ°u Ã½ ráº±ng chÃºng tÃ´i khÃ´ng Ã¡p dá»¥ng báº¥t ká»³ máº«u sá»­a chá»¯a nÃ o trong RQ3 vÃ  RQ4 vÃ¬ chÃºng tÃ´i xem xÃ©t má»™t sá»‘ lÆ°á»£ng máº«u nhá» hÆ¡n á»Ÿ Ä‘Ã³ (tá»©c lÃ  500 máº«u nhÆ° Ä‘Æ°á»£c hiá»ƒn thá»‹ trong Pháº§n 5.1) vÃ  cÅ©ng muá»‘n táº­p trung vÃ o tÃ¡c Ä‘á»™ng cá»§a cÃ¡c cáº¥u hÃ¬nh thÃ­ nghiá»‡m khÃ¡c nhau.

Defects4J 1.2. ChÃºng tÃ´i Ä‘áº§u tiÃªn so sÃ¡nh Repilot vá»›i cÃ¡c cÃ´ng cá»¥ APR tá»‘i tÃ¢n trÃªn cÃ¡c lá»—i Ä‘Æ¡n hunk tá»« Defects4J 1.2. Báº£ng 1 cho tháº¥y sá»‘ lÆ°á»£ng báº£n vÃ¡ chÃ­nh xÃ¡c Ä‘Æ°á»£c táº¡o ra bá»Ÿi Repilot, Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡ theo kiá»ƒu cloze, cÃ¹ng vá»›i cÃ¡c Ä‘Æ°á»ng cÆ¡ sá»Ÿ. Repilot Ä‘áº¡t Ä‘Æ°á»£c káº¿t quáº£ tá»‘i tÃ¢n má»›i vá»›i 66 sá»­a lá»—i chÃ­nh xÃ¡c trÃªn Defects4J 1.2, vÆ°á»£t trá»™i hÆ¡n táº¥t cáº£ cÃ¡c cÃ´ng cá»¥ APR trÆ°á»›c Ä‘Ã¢y. HÃ¬nh 6a cho tháº¥y sÆ¡ Ä‘á»“ Venn cá»§a cÃ¡c lá»—i duy nháº¥t Ä‘Æ°á»£c sá»­a cho cÃ¡c cÃ´ng cá»¥ APR dá»±a trÃªn LLM vÃ  NMT hiá»‡u suáº¥t cao nháº¥t trong Ä‘Ã³ Repilot cÃ³ thá»ƒ thu Ä‘Æ°á»£c sá»‘ lÆ°á»£ng cao nháº¥t 8 lá»—i duy nháº¥t. HÆ¡n ná»¯a, HÃ¬nh 6b so sÃ¡nh cÃ¡c lá»—i duy nháº¥t Ä‘Æ°á»£c sá»­a cho táº¥t cáº£ cÃ¡c Ä‘Æ°á»ng cÆ¡ sá»Ÿ hiá»‡u suáº¥t cao nháº¥t vÃ  vá»›i táº¥t cáº£ cÃ¡c cÃ´ng cá»¥ APR khÃ¡c Ä‘Æ°á»£c káº¿t há»£p (Others). ChÃºng tÃ´i quan sÃ¡t tháº¥y ráº±ng Repilot cÃ³ thá»ƒ sá»­a 7 lá»—i mÃ  khÃ´ng cÃ³ Ä‘Æ°á»ng cÆ¡ sá»Ÿ nÃ o khÃ¡c cÃ³ thá»ƒ sá»­a Ä‘Æ°á»£c cho Ä‘áº¿n nay.

Äá»ƒ chá»©ng minh kháº£ nÄƒng cá»§a Repilot sá»­a cÃ¡c lá»—i khÃ³, HÃ¬nh 7 cho tháº¥y má»™t lá»—i duy nháº¥t (Closure-133) tá»« Defects4J 1.2 mÃ  chá»‰ Repilot cÃ³ thá»ƒ sá»­a. Lá»—i nÃ y Ä‘Æ°á»£c sá»­a báº±ng cÃ¡ch thÃªm cÃ¢u lá»‡nh gÃ¡n má»›i sá»­ dá»¥ng biáº¿n toÃ n cá»¥c NO_UNREAD_TOKEN mÃ  khÃ³ táº¡o ra vÃ¬ nÃ³ khÃ´ng xuáº¥t hiá»‡n trong ngá»¯ cáº£nh xung quanh cá»§a vá»‹ trÃ­ lá»—i. Repilot Ä‘áº§u tiÃªn sá»­ dá»¥ng CodeT5 Ä‘á»ƒ táº¡o ra tiá»n tá»‘ ban Ä‘áº§u cá»§a unread. Sau Ä‘Ã³ sá»­ dá»¥ng CÃ´ng cá»¥ HoÃ n thiá»‡n, Repilot nháº­n ra ráº±ng Token lÃ  sá»± tiáº¿p tá»¥c duy nháº¥t Ä‘Ãºng vá» máº·t ngá»¯ nghÄ©a vÃ  trá»±c tiáº¿p thá»±c hiá»‡n hoÃ n thiá»‡n chá»§ Ä‘á»™ng Ä‘á»ƒ tráº£ vá» unreadToken. TÆ°Æ¡ng tá»± Ä‘á»ƒ táº¡o ra NO_UNREAD_TOKEN, Repilot Ä‘áº§u tiÃªn táº¡o ra NO_ vÃ  sau Ä‘Ã³ sá»­ dá»¥ng hoÃ n thiá»‡n chá»§ Ä‘á»™ng Ä‘á»ƒ trá»±c tiáº¿p táº¡o ra Ä‘á»‹nh danh hiáº¿m nÃ y mÃ  khÃ´ng cáº§n láº·p Ä‘i láº·p láº¡i láº¥y máº«u LLM. KhÃ³ Ä‘á»ƒ cÃ¡c cÃ´ng cá»¥ APR dá»±a trÃªn LLM vÃ  NMT trÆ°á»›c Ä‘Ã¢y táº¡o ra sá»­a chá»¯a nÃ y vÃ¬ LLM hoáº·c mÃ´ hÃ¬nh NMT cÃ³ thá»ƒ khÃ´ng thá»ƒ hoÃ n thÃ nh Ä‘á»‹nh danh hiáº¿m nÃ y vÃ¬ nÃ³ Ä‘Ã²i há»i nhiá»u bÆ°á»›c liÃªn tá»¥c Ä‘á»ƒ táº¡o ra. NgÆ°á»£c láº¡i, Repilot, thÃ´ng qua viá»‡c sá»­ dá»¥ng hoÃ n thiá»‡n chá»§ Ä‘á»™ng, cÃ³ thá»ƒ trá»±c tiáº¿p táº¡o ra Ä‘á»‹nh danh hiáº¿m nÃ y chá»‰ vá»›i tiá»n tá»‘ Ä‘á»‹nh danh ban Ä‘áº§u Ä‘á»ƒ nhanh chÃ³ng Ä‘áº¡t Ä‘áº¿n báº£n vÃ¡ chÃ­nh xÃ¡c nÃ y.

Defects4J 2.0. ChÃºng tÃ´i tiáº¿p tá»¥c Ä‘Ã¡nh giÃ¡ Repilot vá»›i cÃ¡c Ä‘Æ°á»ng cÆ¡ sá»Ÿ Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡ trÃªn cÃ¡c lá»—i Ä‘Æ¡n dÃ²ng trong Defects4J 2.0. Äá»‘i vá»›i nhá»¯ng lá»—i nÃ y, chÃºng tÃ´i tuÃ¢n theo phÆ°Æ¡ng phÃ¡p trÆ°á»›c Ä‘Ã¢y cho APR kiá»ƒu cloze [67] Ä‘á»ƒ sá»­ dá»¥ng cÃ¡c máº«u sá»­a chá»¯a. Thay vÃ¬ thay tháº¿ toÃ n bá»™ dÃ²ng lá»—i báº±ng mÃ£ Ä‘Æ°á»£c táº¡o ra bá»Ÿi mÃ´ hÃ¬nh, nhá»¯ng máº«u nÃ y cÃ³ há»‡ thá»‘ng giá»¯ cÃ¡c pháº§n cá»§a dÃ²ng lá»—i (vÃ­ dá»¥: tiá»n tá»‘ hoáº·c háº­u tá»‘, tham sá»‘ phÆ°Æ¡ng thá»©c vÃ  gá»i) Ä‘á»ƒ giáº£m lÆ°á»£ng mÃ£ mÃ  LLM cáº§n táº¡o ra. ChÃºng tÃ´i Ã¡p dá»¥ng nhá»¯ng máº«u sá»­a chá»¯a nÃ y chá»‰ cho cÃ¡c lá»—i Ä‘Æ¡n dÃ²ng Defects4J 2.0 vÃ¬ chÃºng Ä‘Æ°á»£c thiáº¿t káº¿ cho cÃ¡c lá»—i Ä‘Æ¡n dÃ²ng. Báº£ng 1 cÅ©ng cho tháº¥y sá»‘ lÆ°á»£ng sá»­a chá»¯a chÃ­nh xÃ¡c trÃªn Defects4J 2.0 so vá»›i cÃ¡c Ä‘Æ°á»ng cÆ¡ sá»Ÿ. ChÃºng tÃ´i quan sÃ¡t tháº¥y ráº±ng Repilot cÃ³ thá»ƒ sá»­a sá»‘ lÆ°á»£ng lá»—i cao nháº¥t 50 (16 nhiá»u hÆ¡n so vá»›i Ä‘Æ°á»ng cÆ¡ sá»Ÿ tá»‘t nháº¥t tiáº¿p theo) trÃªn Defects4J 2.0. Sá»± cáº£i thiá»‡n nÃ y so vá»›i cÃ¡c Ä‘Æ°á»ng cÆ¡ sá»Ÿ hiá»‡n cÃ³ cho tháº¥y Repilot cÃ³ thá»ƒ tá»•ng quÃ¡t hÃ³a cho hai phiÃªn báº£n cá»§a bá»™ dá»¯ liá»‡u Defects4J vÃ  chá»©ng minh sá»©c máº¡nh cá»§a cÃ¡c máº«u sá»­a chá»¯a Ä‘á»ƒ tÄƒng cÆ°á»ng hiá»‡u suáº¥t cá»§a cÃ¡c cÃ´ng cá»¥ APR dá»±a trÃªn LLM.

HÃ¬nh 8 cho tháº¥y má»™t lá»—i duy nháº¥t tá»« Defects4J 2.0 mÃ  chá»‰ Repilot cÃ³ thá»ƒ sá»­a. Äáº§u tiÃªn, Repilot táº¡o ra báº£n vÃ¡ Ä‘áº¿n vá»‹ trÃ­ con trá». CÃ´ng cá»¥ HoÃ n thiá»‡n sau Ä‘Ã³ náº¯m báº¯t loáº¡i chÃ­nh xÃ¡c cá»§a Ä‘á»‘i tÆ°á»£ng tá»« Token.EndTag toString. Sá»­ dá»¥ng thÃ´ng tin nÃ y, Repilot Ä‘Ãºng cÃ¡ch loáº¡i bá» cÃ¡c token khÃ´ng pháº£i lÃ  má»™t pháº§n cá»§a lá»›p String (vÃ­ dá»¥: name vÃ  text). Do Ä‘Ã³, báº£n vÃ¡ Ä‘Æ°á»£c táº¡o ra chá»©a má»™t phÆ°Æ¡ng thá»©c lá»›p String há»£p lá»‡ cá»§a toLowerCase() mÃ  chÃ­nh xÃ¡c sá»­a lá»—i nÃ y. TÆ°Æ¡ng tá»± nhÆ° sá»­a chá»¯a lá»—i duy nháº¥t trÆ°á»›c Ä‘Ã¢y trong Defects4J 1.2, cÃ¡c cÃ´ng cá»¥ APR dá»±a trÃªn LLM trÆ°á»›c Ä‘Ã¢y cÃ³ thá»ƒ lÃ£ng phÃ­ nhiá»u thá»i gian táº¡o ra cÃ¡c sá»± tiáº¿p tá»¥c khÃ´ng chÃ­nh xÃ¡c vá» máº·t ngá»¯ nghÄ©a vÃ¬ chÃºng khÃ´ng cÃ³ quyá»n truy cáº­p vÃ o thÃ´ng tin kiá»ƒu. HÆ¡n ná»¯a, cÃ¡c cÃ´ng cá»¥ APR dá»±a trÃªn NMT nhÆ° CURE [29], xáº¥p xá»‰ quÃ¡ má»©c danh sÃ¡ch cÃ¡c Ä‘á»‹nh danh há»£p lá»‡ báº±ng cÃ¡ch tÄ©nh náº¯m báº¯t táº¥t cáº£ cÃ¡c trÆ°á»ng cÃ³ thá»ƒ truy cáº­p, cÃ³ thá»ƒ khÃ´ng táº¡o ra sá»­a chá»¯a nÃ y vÃ¬ má»™t Ä‘á»‹nh danh bá»‹ loáº¡i bá» (vÃ­ dá»¥: name) cÅ©ng cÃ³ thá»ƒ há»£p lá»‡ cho má»™t loáº¡i Ä‘á»‘i tÆ°á»£ng khÃ¡c. Repilot sá»­ dá»¥ng CÃ´ng cá»¥ HoÃ n thiá»‡n Ä‘á»ƒ phÃ¢n tÃ­ch cÃ¡c chÆ°Æ¡ng trÃ¬nh má»™t pháº§n vÃ  nháº­n ra sá»± lan truyá»n kiá»ƒu phá»©c táº¡p Ä‘á»ƒ loáº¡i bá» hiá»‡u quáº£.

6.2 RQ2: PhÃ¢n tÃ­ch Tá»· lá»‡ BiÃªn dá»‹ch

ChÃºng tÃ´i Ä‘Ã¡nh giÃ¡ tá»· lá»‡ biÃªn dá»‹ch cá»§a cÃ¡c báº£n vÃ¡ Ä‘Æ°á»£c táº¡o ra bá»Ÿi Repilot so vá»›i cÃ¡c ká»¹ thuáº­t APR dá»±a trÃªn há»c trÆ°á»›c Ä‘Ã¢y. Báº£ng 2 cho tháº¥y tá»· lá»‡ pháº§n trÄƒm cÃ¡c báº£n vÃ¡ cÃ³ thá»ƒ biÃªn dá»‹ch trÃªn bá»™ dá»¯ liá»‡u Defects4J 1.2. ChÃºng tÃ´i quan sÃ¡t tháº¥y ráº±ng trÃªn táº¥t cáº£ cÃ¡c sá»‘ lÆ°á»£ng báº£n vÃ¡ Ä‘Æ°á»£c táº¡o ra, Repilot cáº£i thiá»‡n Ä‘Ã¡ng ká»ƒ tá»· lá»‡ pháº§n trÄƒm cÃ¡c báº£n vÃ¡ cÃ³ thá»ƒ biÃªn dá»‹ch so vá»›i cÃ¡c cÃ´ng cá»¥ trÆ°á»›c Ä‘Ã¢y. ChÃºng tÃ´i Ä‘áº§u tiÃªn nháº­n tháº¥y ráº±ng cÃ¡c cÃ´ng cá»¥ APR dá»±a trÃªn LLM (Repilot vÃ  AlphaRepair), cÃ³ thá»ƒ duy trÃ¬ tá»· lá»‡ biÃªn dá»‹ch cá»§a chÃºng so vá»›i cÃ¡c cÃ´ng cá»¥ dá»±a trÃªn NMT (CoCoNuT vÃ  CURE) trong Ä‘Ã³ tá»· lá»‡ biÃªn dá»‹ch giáº£m máº¡nh khi chÃºng tÃ´i tÄƒng sá»‘ lÆ°á»£ng báº£n vÃ¡. Äiá»u nÃ y cho tháº¥y kháº£ nÄƒng cá»§a LLM táº¡o ra lÆ°á»£ng lá»›n cÃ¡c báº£n vÃ¡ há»£p lÃ½. Repilot cÃ³ thá»ƒ duy trÃ¬ tá»· lá»‡ biÃªn dá»‹ch gáº§n 60% á»Ÿ 1000 báº£n vÃ¡ Ä‘Æ°á»£c táº¡o ra trong khi phÆ°Æ¡ng phÃ¡p trÆ°á»›c Ä‘Ã¢y chá»‰ vá»«a trÃªn 30%.

So vá»›i CURE [29], trong Ä‘Ã³ má»™t Æ°á»›c tÃ­nh quÃ¡ má»©c cÃ¡c Ä‘á»‹nh danh há»£p lá»‡ Ä‘Æ°á»£c thu tháº­p thÃ´ng qua phÃ¢n tÃ­ch tÄ©nh vÃ  Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ loáº¡i bá» cÃ¡c token khÃ´ng há»£p lá»‡ Ä‘Æ°á»£c táº¡o ra bá»Ÿi mÃ´ hÃ¬nh NMT, Repilot táº­n dá»¥ng CÃ´ng cá»¥ HoÃ n thiá»‡n máº¡nh máº½ Ä‘á»ƒ theo dÃµi ngá»¯ cáº£nh hiá»‡n táº¡i Ä‘á»ƒ thu Ä‘Æ°á»£c má»™t bÆ°á»›c loáº¡i bá» chÃ­nh xÃ¡c hÆ¡n. HÆ¡n ná»¯a, so vá»›i RewardRepair [72], trong Ä‘Ã³ tá»· lá»‡ biÃªn dá»‹ch Ä‘Æ°á»£c tÄƒng cÆ°á»ng thÃ´ng qua viá»‡c pháº¡t cÃ¡c báº£n vÃ¡ khÃ´ng thá»ƒ biÃªn dá»‹ch trong quÃ¡ trÃ¬nh huáº¥n luyá»‡n, Repilot trá»±c tiáº¿p sá»­ dá»¥ng LLM káº¿t há»£p vá»›i CÃ´ng cá»¥ HoÃ n thiá»‡n Ä‘á»ƒ trÃ¡nh chi phÃ­ cao cá»§a viá»‡c huáº¥n luyá»‡n má»™t mÃ´ hÃ¬nh má»›i. NgoÃ i ra, Repilot sá»­ dá»¥ng kháº£ nÄƒng hoÃ n thiá»‡n chá»§ Ä‘á»™ng cá»§a CÃ´ng cá»¥ HoÃ n thiá»‡n Ä‘á»ƒ trá»±c tiáº¿p táº¡o ra nhá»¯ng Ä‘á»‹nh danh hiáº¿m nÃ y Ä‘á»ƒ tÄƒng cÆ°á»ng tá»· lá»‡ biÃªn dá»‹ch. Do Ä‘Ã³, Repilot cÃ³ thá»ƒ Ä‘áº¡t Ä‘Æ°á»£c tá»· lá»‡ pháº§n trÄƒm cao nháº¥t cÃ¡c báº£n vÃ¡ cÃ³ thá»ƒ biÃªn dá»‹ch trÃªn táº¥t cáº£ bá»‘n cÃ i Ä‘áº·t khÃ¡c nhau.

6.3 RQ3: NghiÃªn cá»©u Ablation

Äá»ƒ nghiÃªn cá»©u sá»± Ä‘Ã³ng gÃ³p cá»§a má»—i thÃ nh pháº§n cá»§a Repilot Ä‘á»‘i vá»›i hiá»‡u quáº£ tá»•ng thá»ƒ cá»§a nÃ³, chÃºng tÃ´i tiáº¿n hÃ nh má»™t nghiÃªn cá»©u ablation nháº±m biá»‡n minh cho cÃ¡c giáº£ thuyáº¿t sau:

â€¢Thuáº­t toÃ¡n 2 (GuidedPrune) giÃºp LLM Ä‘áº¡t Ä‘Æ°á»£c cÃ¡c báº£n vÃ¡ há»£p lá»‡ (cÃ³ thá»ƒ biÃªn dá»‹ch) hiá»‡u quáº£ hÆ¡n trÃªn khÃ´ng gian tÃ¬m kiáº¿m Ä‘Æ°á»£c loáº¡i bá».
â€¢Ghi nhá»› (Â§4.3) giáº£m táº§n suáº¥t truy váº¥n CÃ´ng cá»¥ HoÃ n thiá»‡n, do Ä‘Ã³ tÄƒng tá»‘c tá»•ng há»£p báº£n vÃ¡.
â€¢HoÃ n thiá»‡n chá»§ Ä‘á»™ng cung cáº¥p hÆ°á»›ng dáº«n tá»•ng há»£p thÃªm vÃ  giÃºp Repilot Ä‘áº¡t Ä‘Æ°á»£c nhiá»u báº£n vÃ¡ há»£p lá»‡ hÆ¡n má»™t cÃ¡ch hiá»‡u quáº£.
â€¢Tá»· lá»‡ há»£p lÃ½ cá»§a cÃ¡c báº£n vÃ¡ trá»Ÿ nÃªn cao hÆ¡n cÃ¹ng vá»›i tá»· lá»‡ biÃªn dá»‹ch.

Äá»ƒ Ä‘Æ°a ra cÆ¡ sá»Ÿ cho nhá»¯ng giáº£ thuyáº¿t nÃ y, chÃºng tÃ´i thiáº¿t láº­p bá»‘n biáº¿n thá»ƒ sau:

â€¢Repilotâˆ… chá»‰ sá»­ dá»¥ng LLM cÆ¡ sá»Ÿ (CodeT5) Ä‘á»ƒ tá»•ng há»£p báº£n vÃ¡.
â€¢Repilot^p Ã¡p dá»¥ng loáº¡i bá» Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong Thuáº­t toÃ¡n 2.
â€¢Repilot^m_p táº­n dá»¥ng ghi nhá»› (Â§4.3) trÃªn Ä‘áº§u loáº¡i bá».
â€¢Repilot sá»­ dá»¥ng hoÃ n thiá»‡n chá»§ Ä‘á»™ng Ä‘á»ƒ hÆ°á»›ng dáº«n thÃªm.

vÃ  Ä‘Ã¡nh giÃ¡ chÃºng báº±ng cÃ¡ch so sÃ¡nh chÃºng vá»›i hiá»‡u quáº£ cá»§a chÃºng trong viá»‡c táº¡o ra cÃ¡c báº£n vÃ¡ cÃ³ thá»ƒ biÃªn dá»‹ch, há»£p lÃ½, vÃ  chÃ­nh xÃ¡c.

Báº£ng 3 cho tháº¥y thá»i gian táº¡o (tÃ­nh báº±ng giÃ¢y má»—i báº£n vÃ¡), sá»± Ä‘Ã³ng gÃ³p vá» tá»· lá»‡ pháº§n trÄƒm cÃ¡c báº£n vÃ¡ cÃ³ thá»ƒ biÃªn dá»‹ch vÃ  há»£p lÃ½ trong táº¥t cáº£ cÃ¡c báº£n vÃ¡ Ä‘Æ°á»£c táº¡o ra duy nháº¥t, sá»‘ lÆ°á»£ng sá»­a chá»¯a há»£p lÃ½, vÃ  sá»‘ lÆ°á»£ng sá»­a chá»¯a chÃ­nh xÃ¡c cho má»—i má»™t trong bá»‘n biáº¿n thá»ƒ trÃªn cÃ¡c lá»—i Ä‘Æ¡n hunk Defects4J 1.2. ChÃºng tÃ´i Ä‘áº§u tiÃªn quan sÃ¡t tháº¥y ráº±ng chá»‰ sá»­ dá»¥ng LLM cÆ¡ sá»Ÿ cho APR (Repilotâˆ…), chÃºng tÃ´i Ä‘áº¡t Ä‘Æ°á»£c tá»· lá»‡ biÃªn dá»‹ch tháº¥p nháº¥t á»Ÿ 43.2%. Báº±ng cÃ¡ch thÃªm loáº¡i bá» Ä‘Æ°á»£c cung cáº¥p bá»Ÿi CÃ´ng cá»¥ HoÃ n thiá»‡n, chÃºng tÃ´i cÃ³ thá»ƒ cáº£i thiá»‡n Ä‘Ã¡ng ká»ƒ tá»· lá»‡ biÃªn dá»‹ch lÃªn 60.7%, sá»‘ lÆ°á»£ng sá»­a chá»¯a há»£p lÃ½ tá»« 56 lÃªn 62, vÃ  sá»‘ lÆ°á»£ng sá»­a chá»¯a chÃ­nh xÃ¡c tá»« 37 lÃªn 41. Sá»± cáº£i thiá»‡n bá»• sung Ä‘Æ°á»£c thá»±c hiá»‡n báº±ng cÃ¡ch thÃªm ká»¹ thuáº­t hoÃ n thiá»‡n chá»§ Ä‘á»™ng Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c Repilot Ä‘áº§y Ä‘á»§ vá»›i tá»· lá»‡ biÃªn dá»‹ch cao nháº¥t á»Ÿ 63.4%, tá»· lá»‡ há»£p lÃ½ 5.21%, sá»‘ lÆ°á»£ng sá»­a chá»¯a há»£p lÃ½ nhiá»u nháº¥t á»Ÿ 63, vÃ  sá»­a chá»¯a chÃ­nh xÃ¡c nhiá»u nháº¥t á»Ÿ 42.

NhÃ¬n vÃ o thá»i gian táº¡o báº£n vÃ¡, báº¯t Ä‘áº§u tá»« Repilotâˆ…, viá»‡c thÃªm loáº¡i bá» thÃ´ng qua CÃ´ng cá»¥ HoÃ n thiá»‡n phÃ¡t sinh chi phÃ­ phá»¥ hÆ¡n 25%. Tuy nhiÃªn, Ä‘iá»u nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c giáº£m Ä‘Ã¡ng ká»ƒ báº±ng cÃ¡ch sá»­ dá»¥ng ghi nhá»› (Repilot^p) Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c khoáº£ng 10% chi phÃ­ phá»¥ báº±ng cÃ¡ch trÃ¡nh truy váº¥n CÃ´ng cá»¥ HoÃ n thiá»‡n má»™t khi chÃºng ta biáº¿t má»™t Ä‘á»‹nh danh khÃ´ng há»£p lá»‡. HÆ¡n ná»¯a, hoÃ n thiá»‡n chá»§ Ä‘á»™ng cÃ³ thá»ƒ giáº£m thÃªm chi phÃ­ phá»¥ xuá»‘ng 7% vÃ¬ thay vÃ¬ pháº£i láº¥y máº«u LLM cho má»—i bÆ°á»›c trong viá»‡c táº¡o, chÃºng ta cÃ³ thá»ƒ hoÃ n thiá»‡n chá»§ Ä‘á»™ng má»™t Ä‘á»‹nh danh.

Káº¿t quáº£ lÃ , táº¥t cáº£ cÃ¡c thÃ nh pháº§n Ä‘Ã³ng gÃ³p vÃ o hiá»‡u quáº£ tá»•ng thá»ƒ cá»§a Repilot. Repilot cÃ³ thá»ƒ liÃªn tá»¥c tÄƒng tá»· lá»‡ biÃªn dá»‹ch vÃ  há»£p lÃ½, cÅ©ng nhÆ° táº¡o ra nhiá»u sá»­a chá»¯a há»£p lÃ½/chÃ­nh xÃ¡c hÆ¡n trong khi phÃ¡t sinh chi phÃ­ phá»¥ tá»‘i thiá»ƒu so vá»›i viá»‡c sá»­ dá»¥ng trá»±c tiáº¿p LLM Ä‘á»ƒ tá»•ng há»£p báº£n vÃ¡.

6.4 RQ4: TÃ­nh Tá»•ng quÃ¡t

Äá»ƒ chá»©ng minh tÃ­nh tá»•ng quÃ¡t cá»§a Repilot trÃªn cÃ¡c chá»§ Ä‘á» lá»—i vÃ  mÃ´ hÃ¬nh khÃ¡c nhau, má»™t máº·t, chÃºng tÃ´i tiáº¿p tá»¥c Ä‘Ã¡nh giÃ¡ Repilot vá»›i CodeT5 trÃªn táº¥t cáº£ cÃ¡c lá»—i Ä‘Æ¡n hunk cá»§a Defects4J 2.0. Máº·t khÃ¡c, chÃºng tÃ´i bá»• sung khá»Ÿi táº¡o vÃ  Ä‘Ã¡nh giÃ¡ Repilot vá»›i mÃ´ hÃ¬nh InCoder-6.7B lá»›n hÆ¡n. Giá»‘ng há»‡t nhÆ° RQ3, chÃºng tÃ´i cÅ©ng tiáº¿n hÃ nh 500 máº«u trong RQ4 do chi phÃ­ cao cá»§a APR.

Báº£ng 4 cho tháº¥y so sÃ¡nh giá»¯a Ä‘Æ°á»ng cÆ¡ sá»Ÿ Repilotâˆ… vÃ  phÆ°Æ¡ng phÃ¡p Repilot Ä‘áº§y Ä‘á»§ cá»§a chÃºng tÃ´i trÃªn cÃ¡c chá»§ Ä‘á» lá»—i vÃ  mÃ´ hÃ¬nh khÃ¡c nhau. ChÃºng tÃ´i xem xÃ©t cÃ¹ng táº­p há»£p cÃ¡c lá»—i Ä‘Æ¡n hunk Defects4J 1.2 nhÆ° trong RQ3 vÃ  má»™t táº­p há»£p bá»• sung cÃ¡c lá»—i Ä‘Æ¡n hunk Defects4J 2.0.

Sau khi Ä‘iá»u tra, chÃºng ta cÃ³ thá»ƒ tháº¥y ráº±ng Repilot vá»›i CodeT5 vÆ°á»£t trá»™i hÆ¡n Ä‘Æ°á»ng cÆ¡ sá»Ÿ trÃªn Defects4J 1.2 nhÆ° Ä‘Æ°á»£c minh há»a trong RQ3. HÆ¡n ná»¯a, trÃªn Defects4J 2.0, nÃ³ cÅ©ng cÃ³ thá»ƒ Ä‘áº¡t Ä‘Æ°á»£c 18.1 Ä‘iá»ƒm pháº§n trÄƒm (pp) nhiá»u hÆ¡n cÃ³ thá»ƒ biÃªn dá»‹ch vÃ  3.0 pp nhiá»u hÆ¡n cÃ¡c báº£n vÃ¡ há»£p lÃ½, cÅ©ng nhÆ° 6 sá»­a chá»¯a há»£p lÃ½ nhiá»u hÆ¡n vÃ  4 sá»­a chá»¯a chÃ­nh xÃ¡c nhiá»u hÆ¡n, vá»›i chi phÃ­ phá»¥ 7.4%.

Trong khi Ä‘Ã³, khi Repilot Ä‘Æ°á»£c khá»Ÿi táº¡o vá»›i InCoder, nÃ³ váº«n táº¡o ra nhiá»u báº£n vÃ¡ cÃ³ thá»ƒ biÃªn dá»‹ch vÃ  há»£p lÃ½ hÆ¡n, cÅ©ng nhÆ° nhiá»u sá»­a chá»¯a há»£p lÃ½ vÃ  chÃ­nh xÃ¡c hÆ¡n trÃªn cáº£ Defects4J 1.2 vÃ  Defects4J 2.0 so vá»›i Ä‘Æ°á»ng cÆ¡ sá»Ÿ InCoder. Cuá»‘i cÃ¹ng nÃ³ Ä‘Æ°a ra 6 sá»­a chá»¯a chÃ­nh xÃ¡c nhiá»u hÆ¡n trÃªn Defects4J 1.2 vÃ  1 nhiá»u hÆ¡n trÃªn Defects4J 2.0.

Má»™t sá»± khÃ¡c biá»‡t chÃ­nh khi so sÃ¡nh Repilot vá»›i InCoder vÃ  CodeT5 lÃ  khi Repilot Ä‘Æ°á»£c trang bá»‹ InCoder, má»™t mÃ´ hÃ¬nh lá»›n hÆ¡n nhiá»u so vá»›i CodeT5, nÃ³ phÃ¡t sinh chi phÃ­ phá»¥ khÃ´ng Ä‘Ã¡ng ká»ƒ. Äiá»u nÃ y lÃ  do so vá»›i chi phÃ­ cao cá»§a láº¥y máº«u tá»± há»“i quy báº±ng cÃ¡c mÃ´ hÃ¬nh lá»›n hÆ¡n, chi phÃ­ bá»• sung tá»« viá»‡c truy váº¥n CÃ´ng cá»¥ HoÃ n thiá»‡n nhá» hÆ¡n nhiá»u vÃ  do Ä‘Ã³ lÃ m táº§m thÆ°á»ng chi phÃ­ phá»¥ cá»§a Repilot khi Ã¡p dá»¥ng trÃªn cÃ¡c mÃ´ hÃ¬nh lá»›n hÆ¡n. NgoÃ i ra, mÃ´ hÃ¬nh InCoder lá»›n hÆ¡n, báº¥t ká»ƒ nÃ³ cÃ³ Ä‘Æ°á»£c Ã¡p dá»¥ng vá»›i Repilot hay khÃ´ng, cÃ³ thá»ƒ liÃªn tá»¥c sá»­a nhiá»u lá»—i hÆ¡n trÃªn cáº£ Defects4J 1.2 vÃ  2.0 so vá»›i CodeT5, xÃ¡c nháº­n thÃªm phÃ¡t hiá»‡n trÆ°á»›c Ä‘Ã¢y ráº±ng LLM lá»›n hÆ¡n thÆ°á»ng hoáº¡t Ä‘á»™ng tá»‘t hÆ¡n cho APR [66].

NhÃ¬n chung, káº¿t quáº£ thÃ­ nghiá»‡m chá»‰ ra ráº±ng Repilot cÃ³ thá»ƒ tá»•ng quÃ¡t hÃ³a cho cÃ¡c táº­p há»£p lá»—i khÃ¡c nhau (cáº£ lá»—i Ä‘Æ¡n hunk trong Defects4J 1.2 vÃ  2.0) cÅ©ng nhÆ° LLM lá»›n hÆ¡n (InCoder)

7 Háº N CHáº¾

Äáº§u tiÃªn, Ä‘á»ƒ phÃ¡t huy háº¿t tiá»m nÄƒng cá»§a Repilot, Ä‘iá»u quan trá»ng lÃ  CÃ´ng cá»¥ HoÃ n thiá»‡n cÃ³ thá»ƒ cung cáº¥p hÆ°á»›ng dáº«n há»¯u Ã­ch trong khi váº«n nghiÃªm ngáº·t (Äá»‹nh nghÄ©a 3.4). Tuy nhiÃªn, nÃ³i chung khÃ³ khÄƒn hÆ¡n Ä‘á»ƒ cÃ¢n báº±ng tÃ­nh há»¯u Ã­ch vÃ  tÃ­nh nghiÃªm ngáº·t cá»§a CÃ´ng cá»¥ HoÃ n thiá»‡n trong nhiá»u ngÃ´n ngá»¯ láº­p trÃ¬nh cÃ³ kiá»ƒu Ä‘á»™ng, cháº³ng háº¡n nhÆ° Python, so vá»›i Java Ä‘Æ°á»£c nghiÃªn cá»©u trong bÃ i bÃ¡o nÃ y, Ä‘Ã¢y lÃ  ngÃ´n ngá»¯ láº­p trÃ¬nh cÃ³ kiá»ƒu tÄ©nh. Trong khi Ä‘Ã³, cÃ³ má»™t xu hÆ°á»›ng ngÃ y cÃ ng tÄƒng cá»§a cÃ¡c ngÃ´n ngá»¯ cÃ³ kiá»ƒu Ä‘á»™ng Ã¡p dá»¥ng há»— trá»£ cho gá»£i Ã½ kiá»ƒu [12, 49,54]. Xem xÃ©t Ä‘iá»u nÃ y, chÃºng tÃ´i tin ráº±ng Repilot váº«n cÃ³ thá»ƒ cung cáº¥p lá»£i tháº¿ Ä‘Ã¡ng ká»ƒ trong nhá»¯ng mÃ´i trÆ°á»ng nhÆ° váº­y.

Má»™t háº¡n cháº¿ khÃ¡c cá»§a Repilot náº±m á»Ÿ Ä‘Ã¡nh giÃ¡. Má»™t máº·t, máº·c dÃ¹ Ä‘Ãºng lÃ  sá»± gia tÄƒng tá»· lá»‡ biÃªn dá»‹ch cá»§a Repilot cÃ³ thá»ƒ dáº«n Ä‘áº¿n viá»‡c khÃ¡m phÃ¡ nhiá»u sá»­a chá»¯a há»£p lÃ½ vÃ  chÃ­nh xÃ¡c hÆ¡n, Ä‘iá»u quan trá»ng cáº§n lÆ°u Ã½ lÃ  tá»· lá»‡ biÃªn dá»‹ch cao hÆ¡n Ä‘Ã¡ng ká»ƒ khÃ´ng nháº¥t thiáº¿t dáº«n Ä‘áº¿n sá»± gia tÄƒng tá»· lá»‡ thuáº­n lá»›n trong cÃ¡c sá»­a chá»¯a há»£p lÃ½ vÃ  chÃ­nh xÃ¡c. Máº·t khÃ¡c, Repilot chá»‰ Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡ vá»›i CodeT5 cho RQ1 vÃ  RQ2 vá»›i ngÃ¢n sÃ¡ch láº¥y máº«u 5000. CodeT5 lÃ  má»™t LLM khÃ¡ "nhá»" so vá»›i nhá»¯ng LLM cÃ³ hÃ ng tá»· tham sá»‘. Máº·c dÃ¹ chÃºng tÃ´i tiáº¿p tá»¥c bao gá»“m InCoder-6.7B nhÆ° má»™t LLM Ä‘a tá»· tham sá»‘ trong RQ4, do chi phÃ­ thá»i gian, chÃºng tÃ´i chá»‰ láº¥y máº«u 500 láº§n má»—i lá»—i, Ä‘iá»u nÃ y cÃ³ thá»ƒ khÃ´ng Ä‘á»§ Ä‘á»ƒ pháº£n Ã¡nh phÃ¢n phá»‘i cá»§a cÃ¡c báº£n vÃ¡ Ä‘Æ°á»£c táº¡o ra. NhÃ¬n chung, pháº¡m vi Ä‘Ã¡nh giÃ¡ cá»§a chÃºng tÃ´i xem xÃ©t hai LLM (CodeT5 vÃ  InCoder) vÃ  má»™t ngÃ´n ngá»¯ láº­p trÃ¬nh (Java) váº«n cÃ²n háº¹p cho ráº±ng Repilot lÃ  má»™t framework tá»•ng quÃ¡t cÃ³ thá»ƒ Ä‘Æ°á»£c khá»Ÿi táº¡o vá»›i báº¥t ká»³ cáº·p LLM vÃ  CÃ´ng cá»¥ HoÃ n thiá»‡n nÃ o cho má»™t ngÃ´n ngá»¯ láº­p trÃ¬nh nÃ o Ä‘Ã³.

Cuá»‘i cÃ¹ng, báº¥t cháº¥p nhá»¯ng vÃ­ dá»¥ chÃºng tÃ´i trÃ¬nh bÃ y trong bÃ i bÃ¡o, Ä‘Ã¡nh giÃ¡ cá»§a chÃºng tÃ´i thiáº¿u báº±ng chá»©ng thá»±c nghiá»‡m máº¡nh máº½ Ä‘á»ƒ há»— trá»£ tuyÃªn bá»‘ ráº±ng LLM cÃ³ khÃ³ khÄƒn trong viá»‡c táº¡o ra cÃ¡c token hiáº¿m vÃ  cÃ¡ch Repilot giáº£i quyáº¿t váº¥n Ä‘á». BÃªn cáº¡nh Ä‘Ã³, Ä‘Ã¡nh giÃ¡ cá»§a chÃºng tÃ´i háº¡n cháº¿ á»©ng dá»¥ng cá»§a Repilot vÃ o tá»•ng há»£p báº£n vÃ¡, máº·c dÃ¹ chÃºng tÃ´i tuyÃªn bá»‘ ráº±ng Repilot cÃ³ thá»ƒ Ä‘Æ°á»£c Ã¡p dá»¥ng cho cÃ¡c tÃ¡c vá»¥ táº¡o mÃ£ khÃ¡c. Trong tÆ°Æ¡ng lai, chÃºng tÃ´i sáº½ Ã¡p dá»¥ng vÃ  Ä‘Ã¡nh giÃ¡ Repilot trÃªn cÃ¡c tÃ¡c vá»¥ táº¡o mÃ£ Ä‘a dáº¡ng hÆ¡n.

8 THREATS TO VALIDITY

Ná»™i bá»™. ChÃºng tÃ´i chia sáº» cÃ¹ng má»™t threat chÃ­nh Ä‘á»‘i vá»›i tÃ­nh há»£p lá»‡ ná»™i bá»™ vá»›i cÃ¡c cÃ´ng cá»¥ APR trÆ°á»›c Ä‘Ã¢y trong Ä‘Ã³ chÃºng tÃ´i pháº£i kiá»ƒm tra thá»§ cÃ´ng má»—i báº£n vÃ¡ há»£p lÃ½ Ä‘á»ƒ xÃ¡c Ä‘á»‹nh tÃ­nh chÃ­nh xÃ¡c cá»§a báº£n vÃ¡. ChÃºng tÃ´i giáº£i quyáº¿t Ä‘iá»u nÃ y báº±ng cÃ¡ch cáº©n tháº­n phÃ¢n tÃ­ch má»—i báº£n vÃ¡ Ä‘á»ƒ xÃ¡c Ä‘á»‹nh xem nÃ³ cÃ³ tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá» máº·t ngá»¯ nghÄ©a vá»›i báº£n vÃ¡ nhÃ  phÃ¡t triá»ƒn tham chiáº¿u hay khÃ´ng. HÆ¡n ná»¯a, chÃºng tÃ´i Ä‘Ã£ phÃ¡t hÃ nh táº­p há»£p Ä‘áº§y Ä‘á»§ cÃ¡c báº£n vÃ¡ chÃ­nh xÃ¡c cá»§a mÃ¬nh Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ cÃ´ng cá»™ng [62].

Viá»‡c sá»­ dá»¥ng mÃ´ hÃ¬nh CodeT5 cá»§a chÃºng tÃ´i Ä‘áº·t ra má»™t threat ná»™i bá»™ khÃ¡c trong Ä‘Ã³ táº­p dá»¯ liá»‡u huáº¥n luyá»‡n mÃ£ nguá»“n má»Ÿ cá»§a cÃ¡c dá»± Ã¡n GitHub [27] cÃ³ thá»ƒ chá»“ng chÃ©o vá»›i Ä‘Ã¡nh giÃ¡ Defects4J cá»§a chÃºng tÃ´i. ChÃºng tÃ´i tuÃ¢n theo cÃ´ng viá»‡c trÆ°á»›c Ä‘Ã¢y [66,67] vÃ  giáº£i quyáº¿t Ä‘iá»u nÃ y báº±ng cÃ¡ch tÃ­nh toÃ¡n cÃ¡c sá»­a chá»¯a lá»—i chÃ­nh xÃ¡c cá»§a Repilot tá»« Defects4J lÃ  má»™t pháº§n cá»§a dá»¯ liá»‡u huáº¥n luyá»‡n CodeT5. Tá»•ng cá»™ng, 7 trÃªn 66 vÃ  6 trÃªn 50 chá»“ng chÃ©o vá»›i dá»¯ liá»‡u huáº¥n luyá»‡n trÃªn Defects4J 1.2 vÃ  2.0 tÆ°Æ¡ng á»©ng. Äá»ƒ so sÃ¡nh cÃ´ng báº±ng, náº¿u chÃºng tÃ´i loáº¡i trá»« nhá»¯ng 7 vÃ  6 lá»—i nÃ y vÃ  so sÃ¡nh chÃºng vá»›i cÃ¡c cÃ´ng cá»¥ Ä‘Æ°á»ng cÆ¡ sá»Ÿ trÆ°á»›c Ä‘Ã¢y trÃªn cÃ¡c lá»—i cÃ²n láº¡i, chÃºng tÃ´i váº«n cÃ³ thá»ƒ Ä‘áº¡t Ä‘Æ°á»£c sá»‘ lÆ°á»£ng sá»­a lá»—i cao nháº¥t á»Ÿ 59 vÃ  44 (Ä‘Æ°á»ng cÆ¡ sá»Ÿ tá»‘t nháº¥t á»Ÿ 45 vÃ  29). CÃ¹ng threat Ã¡p dá»¥ng cho viá»‡c sá»­ dá»¥ng InCoder, nhÆ°ng vÃ¬ dá»¯ liá»‡u huáº¥n luyá»‡n chi tiáº¿t cá»§a nÃ³ khÃ´ng Ä‘Æ°á»£c tiáº¿t lá»™, chÃºng tÃ´i khÃ´ng thá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y má»™t cÃ¡ch rÃµ rÃ ng. Äá»ƒ giáº£m thiá»ƒu váº¥n Ä‘á», chÃºng tÃ´i chá»‰ Ä‘Ã¡nh giÃ¡ InCoder trong RQ4, trong Ä‘Ã³ táº¥t cáº£ cÃ¡c biáº¿n thá»ƒ Ä‘á»‘i máº·t vá»›i cÃ¹ng má»™t rÃ² rá»‰ tiá»m nÄƒng.

HÆ¡n ná»¯a, triá»ƒn khai sá»­a Ä‘á»•i cá»§a chÃºng tÃ´i vá» cÃ´ng cá»¥ hoÃ n thiá»‡n Ä‘Ã²i há»i kiá»ƒm tra thá»§ cÃ´ng Ä‘á»ƒ Ä‘áº£m báº£o thuá»™c tÃ­nh tÃ­nh Ä‘Ãºng Ä‘áº¯n. Trong thá»±c táº¿, Ä‘Ã¢y lÃ  má»™t cÆ¡ sá»Ÿ tin cáº­y Ä‘Ã¡ng ká»ƒ cÃ³ thá»ƒ giá»›i thiá»‡u false positive trong quÃ¡ trÃ¬nh loáº¡i bá». Tuy nhiÃªn, Ä‘á»‹nh lÃ½ cá»§a chÃºng tÃ´i váº«n cung cáº¥p má»™t Ä‘áº£m báº£o má»™t pháº§n vÃ  cÃ³ thá»ƒ giáº£i thÃ­ch khÃ´ng Ä‘Ãºng Ä‘áº¯n. Äá»“ng thá»i, káº¿t quáº£ Ä‘Ã¡nh giÃ¡ cá»§a chÃºng tÃ´i biá»‡n minh cho cÃ¡c tuyÃªn bá»‘ cá»§a chÃºng tÃ´i vÃ  chá»©ng minh tÃ­nh thá»±c tiá»…n cá»§a Repilot.

Cuá»‘i cÃ¹ng, trong Ä‘Ã¡nh giÃ¡ cá»§a chÃºng tÃ´i, chÃºng tÃ´i tuÃ¢n theo quy Æ°á»›c Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ´ng viá»‡c trÆ°á»›c Ä‘Ã¢y Ä‘á»ƒ trá»±c tiáº¿p bÃ¡o cÃ¡o káº¿t quáº£ sá»­a lá»—i mÃ  khÃ´ng tÃ¡i táº¡o chÃºng, Ä‘iá»u nÃ y Ä‘áº·t ra má»™t threat Ä‘á»‘i vá»›i Ä‘á»™ tin cáº­y cá»§a káº¿t quáº£. Trong khi Ä‘Ã³, chÃºng tÃ´i chá»‰ cháº¡y má»—i thÃ­ nghiá»‡m má»™t láº§n, Ä‘iá»u nÃ y cÃ³ thá»ƒ giá»›i thiá»‡u thÃªm thiÃªn vá»‹ thá»‘ng kÃª.

BÃªn ngoÃ i. Threat chÃ­nh Ä‘á»‘i vá»›i tÃ­nh há»£p lá»‡ bÃªn ngoÃ i Ä‘áº¿n tá»« bá»™ dá»¯ liá»‡u Ä‘Ã¡nh giÃ¡ cá»§a chÃºng tÃ´i trong Ä‘Ã³ hiá»‡u suáº¥t cá»§a Repilot cÃ³ thá»ƒ khÃ´ng tá»•ng quÃ¡t hÃ³a cho cÃ¡c bá»™ dá»¯ liá»‡u khÃ¡c. Äá»ƒ giáº£i quyáº¿t Ä‘iá»u nÃ y, chÃºng tÃ´i so sÃ¡nh Repilot vá»›i cÃ¡c Ä‘Æ°á»ng cÆ¡ sá»Ÿ tá»‘i tÃ¢n trÃªn cáº£ Defects4J 1.2 vÃ  2.0 Ä‘á»ƒ cho tháº¥y ráº±ng hiá»‡u suáº¥t Ä‘Æ°á»£c duy trÃ¬ trÃªn cáº£ hai phiÃªn báº£n. Äá»ƒ giáº£i quyáº¿t thÃªm Ä‘iá»u nÃ y, chÃºng tÃ´i dá»± Ä‘á»‹nh Ä‘Ã¡nh giÃ¡ Repilot trÃªn cÃ¡c bá»™ dá»¯ liá»‡u APR bá»• sung cÅ©ng trÃªn cÃ¡c ngÃ´n ngá»¯ láº­p trÃ¬nh khÃ¡c nhau.

9 Káº¾T LUáº¬N

ChÃºng tÃ´i Ä‘á» xuáº¥t Repilot â€” phÆ°Æ¡ng phÃ¡p APR Ä‘áº§u tiÃªn káº¿t há»£p viá»‡c sá»­ dá»¥ng trá»±c tiáº¿p LLM (vÃ­ dá»¥: CodeT5 vÃ  InCoder) vá»›i hÆ°á»›ng dáº«n tá»©c thÃ¬ Ä‘Æ°á»£c cung cáº¥p bá»Ÿi CÃ´ng cá»¥ HoÃ n thiá»‡n. Trong quÃ¡ trÃ¬nh táº¡o token tá»± há»“i quy, Repilot truy váº¥n CÃ´ng cá»¥ HoÃ n thiá»‡n khÃ´ng chá»‰ Ä‘á»ƒ loáº¡i bá» cÃ¡c token khÃ´ng há»£p lá»‡ mÃ  cÃ²n Ä‘á»ƒ chá»§ Ä‘á»™ng hoÃ n thÃ nh chÆ°Æ¡ng trÃ¬nh má»™t pháº§n Ä‘Æ°á»£c táº¡o ra hiá»‡n táº¡i, do Ä‘Ã³ giáº£m khÃ´ng gian tÃ¬m kiáº¿m cá»§a LLM. ÄÃ¡nh giÃ¡ cá»§a chÃºng tÃ´i trÃªn má»™t táº­p con cá»§a bá»™ dá»¯ liá»‡u Defects4J 1.2 vÃ  2.0 Ä‘Æ°á»£c nghiÃªn cá»©u rá»™ng rÃ£i cho tháº¥y Repilot cÃ³ thá»ƒ Ä‘áº¡t Ä‘Æ°á»£c káº¿t quáº£ tá»‘i tÃ¢n. HÆ¡n ná»¯a, Repilot, thÃ´ng qua viá»‡c sá»­ dá»¥ng CÃ´ng cá»¥ HoÃ n thiá»‡n, cÃ³ thá»ƒ táº¡o ra nhiá»u báº£n vÃ¡ há»£p lá»‡ vÃ  cÃ³ thá»ƒ biÃªn dá»‹ch hÆ¡n so vá»›i cÃ¡c cÃ´ng cá»¥ trÆ°á»›c Ä‘Ã¢y vá»›i chi phÃ­ phá»¥ tá»‘i thiá»ƒu so vá»›i viá»‡c sá»­ dá»¥ng trá»±c tiáº¿p LLM cho APR.

Sáº´N SANG Dá»® LIá»†U

ChÃºng tÃ´i Ä‘Ã£ má»Ÿ nguá»“n Repilot, cÃ³ thá»ƒ truy cáº­p trÃªn GitHub táº¡i https://github.com/ise-uiuc/Repilot. NgoÃ i ra, má»™t artifact báº¥t biáº¿n cho Repilot cÃ³ sáºµn cÃ´ng khai trÃªn Zenodo [62].

Lá»œI Cáº¢M Æ N

ChÃºng tÃ´i cáº£m Æ¡n táº¥t cáº£ cÃ¡c nhÃ  Ä‘Ã¡nh giÃ¡ vÃ¬ nhá»¯ng nháº­n xÃ©t sÃ¢u sáº¯c cá»§a há». ChÃºng tÃ´i cÅ©ng cáº£m Æ¡n Yifeng Ding vÃ¬ cuá»™c tháº£o luáº­n há»¯u Ã­ch cá»§a anh áº¥y vá» cÃ´ng viá»‡c nÃ y. CÃ´ng viá»‡c nÃ y Ä‘Æ°á»£c há»— trá»£ má»™t pháº§n bá»Ÿi cÃ¡c tÃ i trá»£ NSF CCF-2131943 vÃ  CCF-2141474, cÅ©ng nhÆ° Kwai Inc.

TÃ€I LIá»†U THAM KHáº¢O

[Pháº§n tÃ i liá»‡u tham kháº£o Ä‘Æ°á»£c dá»‹ch nguyÃªn vÄƒn vá»›i Ä‘á»‹nh dáº¡ng gá»‘c]
