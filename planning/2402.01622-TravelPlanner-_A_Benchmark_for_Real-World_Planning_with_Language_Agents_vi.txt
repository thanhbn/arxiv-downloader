# 2402.01622.pdf
# Đã chuyển đổi từ PDF sang TXT
# Đường dẫn nguồn: /home/admin88/arxiv-downloader/planning/2402.01622.pdf
# Kích thước tệp: 3369495 bytes

===============================================
NỘI DUNG TỆP PDF
===============================================

--- TRANG 1 ---
TravelPlanner: Một Benchmark cho Lập Kế Hoạch Thế Giới Thực với Các Agent Ngôn Ngữ
Jian Xie♠*Kai Zhang♣*Jiangjie Chen♠Tinghui Zhu♠Renze Lou♡
Yuandong Tian♢Yanghua Xiao♠Yu Su♣
♠Đại học Fudan♣Đại học Bang Ohio
♡Đại học Bang Pennsylvania♢Meta AI
jianxie22@m.fudan.edu.cn, shawyh@fudan.edu.cn, {zhang.13253, su.809}@osu.edu
https://osu-nlp-group.github.io/TravelPlanner
Tóm tắt
Lập kế hoạch đã là một phần của mục tiêu cốt lõi của trí tuệ nhân tạo kể từ khi ra đời, nhưng các agent AI trước đây chủ yếu tập trung vào các môi trường bị ràng buộc vì nhiều nền tảng nhận thức cần thiết cho việc lập kế hoạch ở mức độ con người vẫn còn thiếu. Gần đây, các agent ngôn ngữ được hỗ trợ bởi các mô hình ngôn ngữ lớn (LLM) đã cho thấy các khả năng thú vị như sử dụng công cụ và lý luận. Liệu các agent ngôn ngữ này có khả năng lập kế hoạch trong các môi trường phức tạp hơn mà các agent AI trước đây không thể tiếp cận được? Để thúc đẩy nghiên cứu này, chúng tôi đề xuất TravelPlanner, một benchmark lập kế hoạch mới tập trung vào lập kế hoạch du lịch, một kịch bản lập kế hoạch thế giới thực phổ biến. Nó cung cấp một môi trường sandbox phong phú, các công cụ đa dạng để truy cập gần bốn triệu bản ghi dữ liệu, và 1.225 ý định lập kế hoạch và kế hoạch tham chiếu được tuyển chọn tỉ mỉ. Các đánh giá toàn diện cho thấy rằng các agent ngôn ngữ hiện tại chưa có khả năng xử lý các tác vụ lập kế hoạch phức tạp như vậy—thậm chí GPT-4 chỉ đạt được tỷ lệ thành công 0.6%. Các agent ngôn ngữ gặp khó khăn trong việc duy trì tập trung vào nhiệm vụ, sử dụng đúng công cụ để thu thập thông tin, hoặc theo dõi nhiều ràng buộc. Tuy nhiên, chúng tôi lưu ý rằng khả năng đơn thuần để các agent ngôn ngữ giải quyết một vấn đề phức tạp như vậy bản thân nó đã là một tiến bộ không tầm thường. TravelPlanner cung cấp một nền tảng thử nghiệm đầy thách thức nhưng có ý nghĩa cho các agent ngôn ngữ trong tương lai.
1. Giới thiệu
Lập kế hoạch là dấu hiệu đặc trưng của trí thông minh con người. Đó là một thành tựu tiến hóa được xây dựng trên nhiều khả năng khác: sử dụng các công cụ đa dạng để lặp đi lặp lại thu thập thông tin và đưa ra quyết định, ghi lại các kế hoạch trung gian (trong bộ nhớ làm việc hoặc trên thiết bị vật lý) để cân nhắc, và khám phá các kế hoạch thay thế bằng cách chạy mô phỏng, điều này lần lượt phụ thuộc vào một mô hình thế giới (Mattar & Lengyel, 2022; Ho et al., 2022). Trong nhiều thập kỷ, các nhà nghiên cứu đã cố gắng phát triển các agent AI để mô phỏng khả năng lập kế hoạch của con người (Russell & Norvig, 2010; Georgievski & Aiello, 2015; Karpas & Magazzeni, 2020; Lin et al., 2023; Zhang et al., 2024), nhưng thường trong các môi trường bị ràng buộc (Campbell et al., 2002; Silver et al., 2016; 2017) vì nhiều nền tảng nhận thức cần thiết cho việc lập kế hoạch ở mức độ con người vẫn còn thiếu. Các agent AI có thể hoạt động mạnh mẽ trong các môi trường chủ yếu không bị ràng buộc mà con người hoạt động vẫn là một mục tiêu xa vời.

Sự ra đời của các mô hình ngôn ngữ lớn (LLM; OpenAI (2022; 2023); Touvron et al. (2023a;b); Jiang et al. (2023)) mang lại ánh sáng mới cho vấn đề cổ điển này. Một thế hệ mới của các agent ngôn ngữ (Su, 2023; Sumers et al., 2023; Xie et al., 2023) được hỗ trợ bởi LLM đã xuất hiện, được đặc trưng bởi khả năng sử dụng ngôn ngữ như một phương tiện cho tư duy và giao tiếp. Các agent này đã cho thấy những khả năng thú vị, như sử dụng công cụ (Schick et al., 2023; Patil et al., 2023; Qin et al., 2024) và các hình thức lý luận khác nhau (Wei et al., 2022; Yao et al., 2022; Lewkowycz et al., 2022), có khả năng đáp ứng vai trò của một số nền tảng nhận thức đã thiếu ở các agent AI trước đây. Do đó, các nhà nghiên cứu đã điều tra tiềm năng của chúng trong một loạt các tác vụ lập kế hoạch từ các môi trường lập kế hoạch cổ điển như Blocksworld (Valmeekam et al., 2023) đến các agent thể hiện (Huang et al., 2022; Ichter et al., 2022; Song et al., 2023; Wang et al., 2023) và các agent web (Deng et al., 2023; Zhou et al., 2024). Tuy nhiên, các môi trường lập kế hoạch trong công việc hiện có vẫn chủ yếu tuân theo môi trường thông thường tập trung vào tối ưu hóa mục tiêu đơn với sự thật cố định. Một agent được giao nhiệm vụ dự đoán từ một tập hợp hành động được định trước, chỉ khác là bây giờ được thực hiện bởi một agent được hỗ trợ bởi LLM.

Liệu các agent ngôn ngữ có khả năng lập kế hoạch trong các môi trường phức tạp hơn nhưng thực tế hơn, gần gũi hơn với những môi trường mà con người hoạt động? Để thúc đẩy nghiên cứu này, chúng tôi đề xuất TravelPlanner, một benchmark lập kế hoạch mới tập trung vào một

--- TRANG 2 ---
TravelPlanner: Một Benchmark cho Lập Kế Hoạch Thế Giới Thực với Các Agent Ngôn Ngữ

Tương tác với Môi trường
Tôi đi từ Seattle đến California từ ngày 6 đến 10 tháng 11, 2023. Tôi có ngân sách $6,000. Về chỗ ở, tôi muốn có một căn phòng riêng và nơi ở phải thân thiện với thú cưng.

Để tôi giúp bạn! Để giải quyết vấn đề này, tôi cần (1) phân tích các ràng buộc nhất định, (2) thu thập thông tin thông qua việc sử dụng hợp lý các công cụ cần thiết.

1.CitySearch(·) 2.AttractionSearch(·) 3.FlightSearch(·) 4.DistanceMatrix(·) 5.RestaurantSearch(·) 6.AccommodationSearch(·)

Hộp công cụ

Kế hoạch phải tuân thủ các ràng buộc nhất định, ví dụ như nhu cầu của người dùng và thường thức. Cũng rất quan trọng để...

Nhu cầu của Người dùng (Ràng buộc Cứng)
1. Ngân sách: $6000 
2. Loại phòng: Phòng Riêng 
3. Quy định phòng: Thân thiện với thú cưng

Ràng buộc Thường thức
1. Tuyến đường thành phố hợp lý 
2. Nhà hàng đa dạng 
3. Điểm tham quan đa dạng 
4. Giao thông không xung đột 
5. Chỗ ở đáp ứng số đêm tối thiểu

Lập kế hoạch
Seattle -> Los Angeles 
•Chuyến bay: F123, (13:40-16:12), Chi phí: $120 
•Chỗ ở: Studio tòa nhà sang trọng 
•Bữa tối: The Attraction

2023-11-06 [Công cụ] CitySearch[California] [Kết quả] San Francisco, Los Angeles,..., San Diego

Thu thập Thông tin
[Công cụ] FlightSearch[Seattle, San Francisco, 2023-11-06] [Kết quả] Không có chuyến bay.
[Công cụ] FlightSearch[Seattle, Los Angeles, 2023-11-06] [Kết quả] Số hiệu chuyến bay: F123, 13:40-16:12, Chi phí: $120
[Công cụ] DistanceMatrix[Los Angeles, San Diego, taxi] [Kết quả] Thời gian: 1 giờ 57 phút, Khoảng cách: 193 km, Chi phí: $200
[Công cụ] TransportationSearch[San Diego,Seattle, 2023-11-10] [Kết quả] Số hiệu chuyến bay: F789, (7:59-10:56), Chi phí: $300
[Công cụ] AccommodationSearch[Los Angeles] [Kết quả] 'Cozy Room for U', $130/đêm, Số đêm tối thiểu: 8, Phòng Riêng, Cho phép thú cưng 'Studio tòa nhà sang trọng', $150/đêm, Số đêm tối thiểu: 1, Phòng Riêng, Cho phép thú cưng
[Công cụ] RestaurantSearch[Los Angeles] [Kết quả] The Attraction,Ẩm thực:Pháp,...

Người dùng
Agent

Giao Kế hoạch
🔍

2023-11-06
Seattle -> Los Angeles
●Chuyến bay: F123 (13:40-16:12), Chi phí: $120 
●Chỗ ở: Studio tòa nhà sang trọng 
●Bữa tối: The Attraction

●Bữa sáng: Chicken Minar 
●Bữa trưa: Rajdhani Restaurant 
●Bữa tối: Domino's Pizza 
●Điểm tham quan: Santa Monica Pier; Griffith Park 
●Chỗ ở: Studio tòa nhà sang trọng 
●Đi taxi đến San Diego

●Bữa sáng: Open Yard 
●Bữa trưa: The Lost Mughal 
●Bữa tối: Burger King 
●Điểm tham quan: Cabrillo Monument 
●Chỗ ở: East Side Apartment

●Bữa sáng: Baskin Robbins 
●Bữa trưa: Harry's Bar 
●Bữa tối: Dragon Way 
●Điểm tham quan: La Jolla Shores Park; California Tower 
●Chỗ ở: East Side Apartment

Los Angeles -> San Diego
San Diego
San Diego -> Seattle
●Chuyến bay: F789 (7:59-10:56), Chi phí: $300

2023-11-07
2023-11-08
2023-11-09
2023-11-10
2023-11-09

Hình 1. Tổng quan về TravelPlanner. Khi nhận được một truy vấn, các agent ngôn ngữ được giao nhiệm vụ sử dụng các công cụ tìm kiếm khác nhau để thu thập thông tin. Dựa trên thông tin đã thu thập, các agent ngôn ngữ được kỳ vọng sẽ đưa ra một kế hoạch không chỉ đáp ứng nhu cầu của người dùng được chỉ định trong truy vấn mà còn tuân thủ các ràng buộc thường thức.

kịch bản lập kế hoạch thế giới thực phổ biến—lập kế hoạch du lịch. Đây là một nhiệm vụ đầy thách thức, tốn thời gian ngay cả đối với con người (nhưng hầu hết mọi người có thể thực hiện thành công, với các công cụ phù hợp và đủ thời gian): 1) Lập kế hoạch hành trình nhiều ngày vốn dĩ là dài hạn, bao gồm một số lượng lớn các quyết định phụ thuộc lẫn nhau về địa điểm, chỗ ở, giao thông, ăn uống, v.v. 2) Lập kế hoạch du lịch bao gồm nhiều ràng buộc, từ các ràng buộc rõ ràng như ngân sách và các nhu cầu khác nhau của người dùng đến các ràng buộc thường thức ngầm định, ví dụ như con người không thể dịch chuyển tức thời đến thành phố khác mà không sử dụng phương tiện vận chuyển nào đó. 3) Lập kế hoạch du lịch đòi hỏi khả năng tác động mạnh mẽ để chủ động thu thập thông tin cần thiết bằng cách sử dụng các công cụ khác nhau (ví dụ, để tìm kiếm chuyến bay và nhà hàng) từ môi trường quan sát một phần và cân nhắc thông tin đã thu thập để thúc đẩy việc lập kế hoạch trong khi lưu ý đến tất cả các ràng buộc rõ ràng và ngầm định. Các nhiệm vụ lập kế hoạch có độ phức tạp như vậy nằm ngoài tầm với của các agent AI trước đây (Russell & Norvig, 2010).

TravelPlanner cung cấp một môi trường sandbox phong phú với khoảng bốn triệu mục dữ liệu được thu thập từ Internet có thể được truy cập thông qua sáu công cụ. Chúng tôi cũng tuyển chọn tỉ mỉ 1.225 truy vấn người dùng đa dạng (cùng với các kế hoạch tham chiếu của chúng), mỗi truy vấn áp đặt một sự kết hợp khác nhau của các ràng buộc. Một ví dụ đại diện được minh họa trong Hình 1.

Chúng tôi đánh giá toàn diện năm LLM, như GPT-4 (OpenAI, 2023), Gemini (G Team et al., 2023), và Mixtral (Jiang et al., 2024), và bốn chiến lược lập kế hoạch, như ReAct (Yao et al., 2022) và Reflexion (Shinn et al., 2023), về khả năng đưa ra các kế hoạch hoàn chỉnh và tuân theo các ràng buộc. Các phát hiện chính như sau:

•Các LLM tiên tiến nhất không thể xử lý các nhiệm vụ lập kế hoạch phức tạp như những nhiệm vụ trong TravelPlanner. GPT-4 thành công tạo ra một kế hoạch đáp ứng tất cả các ràng buộc cho một số ít nhiệm vụ (0.6%), trong khi tất cả các LLM khác đều không thể hoàn thành bất kỳ nhiệm vụ nào.

•Các chiến lược lập kế hoạch hiện có như ReAct và Reflexion, có thể hiệu quả cho các môi trường lập kế hoạch đơn giản hơn, là không đủ cho các nhiệm vụ đa ràng buộc trong TravelPlanner. Chúng thường không thể chuyển đổi lý luận của mình thành các hành động đúng một cách chính xác và theo dõi các ràng buộc toàn cục hoặc nhiều ràng buộc. Các agent ngôn ngữ cần các chiến lược lập kế hoạch tinh vi hơn để tiếp cận việc lập kế hoạch ở mức độ con người.

•Các phân tích sâu hơn tiết lộ nhiều chế độ thất bại phổ biến của các agent ngôn ngữ hiện có, như lỗi đối số trong việc sử dụng công cụ, bị mắc kẹt trong các vòng lặp chết, và ảo giác.

Mặc dù hầu hết các phát hiện của chúng tôi nghiêng về phía tiêu cực đối với các agent ngôn ngữ hiện tại, chúng tôi nên lưu ý rằng khả năng đơn thuần để một agent nhân tạo giải quyết một nhiệm vụ phức tạp như vậy bản thân nó đã là tiến bộ không tầm thường. TravelPlanner cung cấp một nền tảng thử nghiệm đầy thách thức nhưng có ý nghĩa cho các agent trong tương lai để leo lên hướng tới việc lập kế hoạch ở mức độ con người trong các môi trường phức tạp.

Cuối cùng, một tia sáng: trong khi các chú thích viên con người được đào tạo tốt của chúng tôi trung bình mất 12 phút để chú thích thủ công một kế hoạch, một agent ngôn ngữ có thể tạo ra một kế hoạch chỉ trong 1-2 phút một cách tự động. Có lẽ một ngày nào đó, các agent ngôn ngữ sẽ trở nên đủ khả năng để giúp tự động hóa nhiều nhiệm vụ tẻ nhạt như vậy cho chúng ta.

--- TRANG 3 ---
TravelPlanner: Một Benchmark cho Lập Kế Hoạch Thế Giới Thực với Các Agent Ngôn Ngữ

2. Công trình liên quan
2.1. Các Agent dựa trên Mô hình Ngôn ngữ Lớn
Được trao quyền bởi các mô hình ngôn ngữ lớn (LLM), các agent ngôn ngữ có khả năng phân tách các nhiệm vụ phức tạp và đạt được các giải pháp thông qua một loạt các hành động có lý. Các ví dụ đáng chú ý như AutoGPT (AutoGPT, 2023), BabyAGI (Nakajima, 2023), và HuggingGPT (Shen et al., 2023) đã chiếu sáng cộng đồng với những khả năng ấn tượng của chúng. Các agent ngôn ngữ được hỗ trợ bởi LLM hiện tại, được trang bị các mô-đun Bộ nhớ, Sử dụng công cụ và Lập kế hoạch, đã thấy sự cải thiện đáng kể trong khả năng tổng quát của chúng (Weng, 2023). Bộ nhớ trong các agent ngôn ngữ đề cập đến khả năng thu thập và xử lý thông tin của chúng. Nó được chia thành hai loại: bộ nhớ dài hạn, là bộ nhớ tham số vốn có trong LLM, và bộ nhớ ngắn hạn, còn được gọi là học tập trong ngữ cảnh (Brown et al., 2020) hoặc bộ nhớ làm việc. Các kỹ thuật như tóm tắt bộ nhớ (Chen et al., 2023; Zhou et al., 2023; Liang et al., 2023) và truy xuất (Andreas, 2022; Park et al., 2023; Zhong et al., 2023) được sử dụng rộng rãi để tăng cường khả năng bộ nhớ của các agent ngôn ngữ. Hơn nữa, bằng cách tương tác với các công cụ bên ngoài, các agent ngôn ngữ mở rộng đáng kể tiềm năng khả năng của chúng. Mô hình tăng cường công cụ này đã được xác nhận là hiệu quả trong công việc trước đây (Nakano et al., 2021; Lu et al., 2023; Ge et al., 2023; Xie et al., 2023). Chúng tôi thảo luận thêm về mô-đun lập kế hoạch trong Phần 2.2.

2.2. Lập kế hoạch
Lập kế hoạch, một dấu hiệu đặc trưng của trí thông minh con người, đòi hỏi một chuỗi các hành động bao gồm phân tách nhiệm vụ, tìm kiếm giải pháp và đưa ra quyết định cuối cùng (Hayes-Roth & Hayes-Roth, 1979; Grafman et al., 2004; Su, 2023). Kỹ năng này rất quan trọng để đạt được trí thông minh ở mức độ con người và đã được nghiên cứu rộng rãi trong các lĩnh vực như robot học (McDermott, 1992; Alterovitz et al., 2016) và lập lịch vận chuyển (Cross & Estrada, 1994; Pinedo, 2005). Sự xuất hiện của các agent ngôn ngữ được hỗ trợ bởi LLM đã làm tăng thêm các cuộc thảo luận xung quanh khả năng lập kế hoạch của chúng (Liu et al., 2023a; Valmeekam et al., 2023). Nghiên cứu trước đây đã chứng minh rằng các agent ngôn ngữ có thể phân tách nhiệm vụ một cách hiệu quả và tham gia vào lý luận từng bước, dẫn đến những cải thiện đáng kể (Wei et al., 2022; Yuan et al., 2023; Zheng et al., 2024). Hơn nữa, để tối ưu hóa việc tìm kiếm giải pháp trong ít bước hơn, các cấu trúc dữ liệu cổ điển như cây và đồ thị đã được sử dụng trong các nghiên cứu trước (Yao et al., 2023; Besta et al., 2023), tăng cường khả năng lập kế hoạch của các agent ngôn ngữ. Ngoài ra, các phương pháp liên quan đến phản hồi từ môi trường (Yao et al., 2022; Shinn et al., 2023) cũng đã được chứng minh là có lợi. Tuy nhiên, trong khi những khả năng lập kế hoạch này đã cho thấy triển vọng trong các nhiệm vụ cụ thể, hiệu quả của các chiến lược lập kế hoạch này trong các kịch bản với nhiều ràng buộc vẫn chưa chắc chắn.

2.3. Đánh giá các Agent Ngôn ngữ
Các nghiên cứu trước đây thường đánh giá các agent ngôn ngữ được hỗ trợ bởi LLM trong các lĩnh vực tập trung: lý luận số học nhắm đến các giải pháp chính xác (Roy & Roth, 2015; Cobbe et al., 2021; Patel et al., 2021); sử dụng công cụ đánh giá thành thạo của các agent trong việc sử dụng công cụ và báo cáo kết quả (Li et al., 2023; Xu et al., 2023; Zhuang et al., 2023); và điều hướng web, kiểm tra khả năng của các agent trong việc xác định vị trí các trang web cụ thể (Deng et al., 2023; Zhou et al., 2024; Liu et al., 2024). Tuy nhiên, sự phức tạp của thế giới thực ngụ ý rằng các phương pháp đánh giá trước đây, tập trung vào mục tiêu đơn và sự thật cố định, có thể không đủ để nắm bắt toàn bộ phạm vi khả năng của các agent. Để giải quyết điều này, chúng tôi giới thiệu TravelPlanner cho các đánh giá toàn diện, đánh giá liệu các agent ngôn ngữ có thể tạo ra các giải pháp khả thi khi đối mặt với các mục tiêu khác nhau, được gọi là ràng buộc trong bài báo này.

3. TravelPlanner
3.1. Tổng quan
Chúng tôi giới thiệu TravelPlanner, một benchmark được thiết kế để đánh giá các agent ngôn ngữ trong việc sử dụng công cụ và lập kế hoạch phức tạp trong nhiều ràng buộc. Dựa trên việc lập kế hoạch du lịch, một trường hợp sử dụng thế giới thực bao gồm tự nhiên các ràng buộc đa dạng như nhu cầu người dùng và ràng buộc thường thức, TravelPlanner đánh giá liệu các agent có thể phát triển các kế hoạch du lịch linh hoạt bằng cách thu thập thông tin qua các công cụ đa dạng và đưa ra quyết định trong khi đáp ứng các ràng buộc.

TravelPlanner bao gồm tổng cộng 1.225 truy vấn. Các truy vấn trong TravelPlanner được chia thành chín nhóm. Phân loại này dựa trên hai tiêu chí: thời gian du lịch và số lượng ràng buộc cứng. Tập dữ liệu được chia thành tập huấn luyện, tập xác thực và tập kiểm tra. Tập huấn luyện bao gồm 5 truy vấn cho mỗi nhóm với các kế hoạch được chú thích bởi con người (tổng cộng 45 cặp), tập xác thực bao gồm 20 truy vấn cho mỗi nhóm (tổng cộng 180), và tập kiểm tra bao gồm 1.000 truy vấn. Phân phối chi tiết được hiển thị trong Bảng A.1.

3.2. Giới thiệu Ràng buộc
Để đánh giá liệu các agent có thể nhận thức, hiểu và đáp ứng các ràng buộc khác nhau để xây dựng một kế hoạch khả thi, như được nêu trong Bảng 1, chúng tôi bao gồm ba loại ràng buộc:

•Ràng buộc Môi trường: Thế giới thực là động, đòi hỏi các agent phải có khả năng thích ứng. Ví dụ, các chuyến bay đến một điểm đến cụ thể có thể không có sẵn vào những thời điểm nhất định (ví dụ, không có chuyến bay từ Seattle đến San Francisco trong Hình 1), có thể là do vé đã bán hết. Trong những trường hợp như vậy, agent phải tìm kiếm một giải pháp thay thế một cách linh hoạt, như thay đổi điểm đến của chuyến bay hoặc phương thức vận chuyển. Để mô phỏng điều này, chúng tôi đưa ra các ràng buộc môi trường trong TravelPlanner để kiểm tra khả năng thích ứng của các agent trong việc lập kế hoạch.

--- TRANG 4 ---
TravelPlanner: Một Benchmark cho Lập Kế Hoạch Thế Giới Thực với Các Agent Ngôn Ngữ

Bảng 1. Mô tả ràng buộc. Các ràng buộc môi trường được thể hiện thông qua phản hồi nhận được từ môi trường, đánh giá liệu agent ngôn ngữ có thể điều chỉnh kế hoạch của mình một cách thích hợp. Các ràng buộc thường thức và ràng buộc cứng được đánh giá dựa trên mức độ kế hoạch của agent ngôn ngữ phù hợp với các tiêu chí cụ thể này.

Ràng buộc | Mô tả
Ràng buộc Môi trường
Giao thông không khả dụng | Không có thông tin chuyến bay hoặc lái xe khả dụng giữa hai thành phố.
Điểm tham quan không khả dụng | Không có thông tin điểm tham quan khả dụng trong thành phố được truy vấn.

Ràng buộc Thường thức
Trong Sandbox | Tất cả thông tin trong kế hoạch phải nằm trong sandbox đóng; nếu không, nó sẽ được coi là ảo giác.
Thông tin Hoàn chỉnh | Không có thông tin quan trọng nào nên bị bỏ sót khỏi kế hoạch, như thiếu chỗ ở trong chuyến đi.
Trong Thành phố Hiện tại | Tất cả các hoạt động được lên lịch trong ngày phải nằm trong (các) thành phố của ngày đó.
Tuyến đường Thành phố Hợp lý | Việc thay đổi thành phố trong chuyến đi phải hợp lý.
Nhà hàng Đa dạng | Lựa chọn nhà hàng không nên lặp lại trong suốt chuyến đi.
Điểm tham quan Đa dạng | Lựa chọn điểm tham quan không nên lặp lại trong suốt chuyến đi.
Giao thông Không xung đột | Lựa chọn giao thông trong chuyến đi phải hợp lý. Ví dụ, có cả "tự lái" và "chuyến bay" sẽ được coi là xung đột.
Lưu trú Số đêm Tối thiểu | Số ngày liên tiếp ở một chỗ ở cụ thể trong chuyến đi phải đáp ứng số đêm lưu trú tối thiểu tương ứng.

Ràng buộc Cứng
Ngân sách | Tổng ngân sách của chuyến đi.
Quy định Phòng | Quy định phòng bao gồm "Không tiệc tùng", "Không hút thuốc", "Không trẻ em dưới 10 tuổi", "Không thú cưng", và "Không khách".
Loại Phòng | Loại phòng bao gồm "Phòng Riêng", "Phòng Tư nhân", "Phòng Chung", và "Không Phòng Chung".
Ẩm thực | Ẩm thực bao gồm "Trung Quốc", "Mỹ", "Ý", "Mexico", "Ấn Độ", "Địa Trung Hải", và "Pháp".
Giao thông | Các lựa chọn giao thông bao gồm "Không chuyến bay" và "Không tự lái".

Bảng 2. Số lượng mục dữ liệu trong cơ sở dữ liệu.
Công cụ | Mục Dữ liệu (#)
CitySearch | 312
FlightSearch | 3,827,361
DistanceMatrix | 17,603
RestaurantSearch | 9,552
AttractionSearch | 5,303
AccommodationSearch | 5,064

•Ràng buộc Thường thức: Các agent, hoạt động trong thế giới thực và phục vụ con người, nên xem xét thường thức khi thiết kế kế hoạch. Ví dụ, việc lặp đi lặp lại thăm cùng một điểm tham quan là không điển hình. Để đánh giá sự hiểu biết và sử dụng thường thức của các agent trong việc lập kế hoạch, chúng tôi bao gồm ràng buộc thường thức trong TravelPlanner.

•Ràng buộc Cứng: Một khả năng quan trọng đối với các agent là đáp ứng hiệu quả các nhu cầu cá nhân hóa của người dùng. Để đánh giá điều này, TravelPlanner kết hợp các nhu cầu người dùng khác nhau, như ràng buộc ngân sách. Những nhu cầu người dùng này được gọi là ràng buộc cứng. Ràng buộc cứng đo lường khả năng tổng quát hóa của agent đối với các nhu cầu người dùng khác nhau.

3.3. Quy trình Xây dựng Benchmark
Phần này nêu ra quy trình xây dựng TravelPlanner, bao gồm các bước sau: 1) Thiết lập môi trường và đánh giá. 2) Thiết kế truy vấn du lịch đa dạng. 3) Chú thích kế hoạch tham chiếu. 4) Kiểm tra chất lượng.

Thiết lập Môi trường. Trong TravelPlanner, chúng tôi tạo ra một môi trường sandbox tĩnh và đóng để đánh giá nhất quán và không thiên vị. Thiết lập này đảm bảo rằng tất cả các agent truy cập cùng một thông tin không thay đổi từ các cơ sở dữ liệu tĩnh của chúng tôi, tránh sự biến động và thiên vị tiềm ẩn được giới thiệu bởi dữ liệu động. Để cung cấp các lựa chọn du lịch đa dạng phù hợp với thế giới thực, chúng tôi đảm bảo cơ sở dữ liệu cho mỗi công cụ trong TravelPlanner chứa thông tin phong phú. Kích thước cơ sở dữ liệu của mỗi công cụ được liệt kê trong Bảng 2. Để biết thêm chi tiết về công cụ, vui lòng tham khảo Phụ lục A.2 và A.3. Ngoài ra, các agent được hướng dẫn sử dụng công cụ "NotebookWrite" để ghi lại thông tin cần thiết cho việc lập kế hoạch. Công cụ này được tích hợp để đánh giá quản lý bộ nhớ làm việc của các agent và ngăn ngừa giới hạn token tối đa do tích tụ ngữ cảnh.

Xây dựng Truy vấn. Để tạo ra các truy vấn đa dạng cho TravelPlanner, chúng tôi bắt đầu với một số yếu tố cơ bản, bao gồm thành phố khởi hành, điểm đến và phạm vi ngày cụ thể, được chọn ngẫu nhiên để tạo thành khung của mỗi truy vấn. Sau đó, chúng tôi điều chỉnh thời gian du lịch và số lượng ràng buộc cứng để tạo ra các mức độ phức tạp khác nhau.

Thời gian du lịch—3, 5, hoặc 7 ngày—xác định số lượng thành phố được bao gồm trong kế hoạch. Cụ thể, kế hoạch 3 ngày tập trung vào một thành phố, trong khi 5 ngày và 7 ngày bao gồm việc thăm một bang được chọn ngẫu nhiên, với các chuyến đi đến 2 thành phố cho kế hoạch 5 ngày và 3 thành phố cho kế hoạch 7 ngày tương ứng. Số ngày lớn hơn đòi hỏi việc sử dụng công cụ thường xuyên hơn bởi các agent ngôn ngữ, do đó tăng độ khó của việc quản lý khía cạnh dài hạn của việc lập kế hoạch. Điểm đến không chắc chắn thách thức các agent quyết định về nhiều thành phố, nơi chúng phải xem xét các yếu tố như kết nối giữa các thành phố.

--- TRANG 5 ---
TravelPlanner: Một Benchmark cho Lập Kế Hoạch Thế Giới Thực với Các Agent Ngôn Ngữ

Hơn nữa, chúng tôi giới thiệu các nhu cầu người dùng đa dạng như ràng buộc cứng để thêm độ phức tạp và tính thực tế. Các mức độ khó được phân loại như sau:

•Dễ: Các truy vấn ở mức này chủ yếu bị ràng buộc ngân sách cho một người. Ngân sách ban đầu cho mỗi truy vấn được xác định bằng cách sử dụng một tập hợp các quy tắc heuristic được thiết kế.

•Trung bình: Ngoài các ràng buộc ngân sách, các truy vấn trung bình giới thiệu một ràng buộc cứng bổ sung, được chọn ngẫu nhiên từ một nhóm ràng buộc bao gồm loại ẩm thực, loại phòng và quy định phòng. Hơn nữa, số lượng người dao động từ 2 đến 8, điều này ảnh hưởng đến việc tính toán chi phí cho cả giao thông và chỗ ở.

•Khó: Các truy vấn khó bao gồm sở thích giao thông bổ sung vào nhóm ràng buộc, cùng với tất cả các ràng buộc trong các truy vấn trung bình. Mỗi truy vấn khó chứa ba ràng buộc cứng được chọn ngẫu nhiên từ nhóm ràng buộc.

Phương pháp này đảm bảo sự đa dạng của các truy vấn. Những thay đổi nhỏ trong các yếu tố này có thể dẫn đến các kế hoạch khác nhau đáng kể. Cuối cùng, dựa trên các yếu tố, chúng tôi sử dụng GPT-4 (OpenAI, 2023) để tạo ra các truy vấn ngôn ngữ tự nhiên.

Chú thích của Con người. Để đảm bảo mỗi truy vấn có ít nhất một kế hoạch khả thi, chúng tôi mời 20 sinh viên sau đại học chú thích tỉ mỉ các kế hoạch cho các truy vấn được tổng hợp. Một kế hoạch được coi là đủ điều kiện chỉ khi nó đáp ứng tất cả các ràng buộc được nêu trong script đánh giá của chúng tôi, được chi tiết trong Phần 3.4. Quy trình nghiêm ngặt này đã tạo ra 1.225 cặp truy vấn-kế hoạch được xác thực. Chúng tôi trả cho người chú thích trung bình $0.80 cho mỗi kế hoạch họ chú thích.

Kiểm soát Chất lượng. Để đảm bảo chất lượng của mỗi truy vấn ngôn ngữ tự nhiên và kế hoạch chú thích tương ứng, các tác giả đã thực hiện một đánh giá chi tiết về mỗi truy vấn và kế hoạch, sửa chữa mọi lỗi được tìm thấy. Ngoài ra, để đảm bảo các thách thức, chúng tôi tái hiệu chỉnh ngân sách của mỗi truy vấn bằng cách sử dụng chi phí từ các kế hoạch được chú thích bởi con người tương ứng. Cách tiếp cận này thay thế các ngân sách được tạo bởi heuristic ban đầu, có thể quá cao, do đó giảm số lượng kế hoạch khả thi. Thông qua nhiều giai đoạn xác minh của con người, chúng tôi đảm bảo chất lượng cao của mỗi truy vấn trong TravelPlanner và sự hiện diện của ít nhất một giải pháp khả thi.

3.4. Đánh giá
Để đảm bảo đánh giá toàn diện các kế hoạch được cung cấp bởi các agent, chúng tôi đánh giá chúng từ nhiều khía cạnh. Cụ thể, trước tiên chúng tôi trích xuất các thành phần chính¹, bao gồm giao thông, nhà hàng, điểm tham quan và chỗ ở, ban đầu được trình bày dưới dạng ngôn ngữ tự nhiên. Các thành phần này sau đó được tổ chức thành một kế hoạch có cấu trúc chính thức, sẽ được đánh giá tự động thông qua các script được định trước. Các tiêu chí đánh giá bao gồm:

•Tỷ lệ Giao hàng: Chỉ số này đánh giá liệu các agent có thể giao thành công một kế hoạch cuối cùng trong một số lượng bước giới hạn. Rơi vào các vòng lặp chết, trải qua nhiều lần thử thất bại, hoặc đạt đến số bước tối đa (30 bước trong thiết lập thí nghiệm của chúng tôi) sẽ dẫn đến thất bại.

•Tỷ lệ Vượt qua Ràng buộc Thường thức: Bao gồm tám khía cạnh thường thức, chỉ số này đánh giá liệu một agent ngôn ngữ có thể kết hợp thường thức vào kế hoạch của chúng mà không có hướng dẫn rõ ràng.

•Tỷ lệ Vượt qua Ràng buộc Cứng: Chỉ số này đo lường liệu một kế hoạch có đáp ứng tất cả các ràng buộc cứng được đưa ra một cách rõ ràng trong truy vấn, nhằm kiểm tra khả năng thích ứng kế hoạch của các agent với các nhu cầu người dùng đa dạng.

•Tỷ lệ Vượt qua Cuối cùng: Chỉ số này đại diện cho tỷ lệ các kế hoạch khả thi đáp ứng tất cả các ràng buộc nói trên trong số tất cả các kế hoạch được kiểm tra. Nó phục vụ như một chỉ báo về thành thạo của các agent trong việc tạo ra các kế hoạch đáp ứng tiêu chuẩn thực tế.

Chúng tôi không đánh giá riêng các ràng buộc môi trường vì tác động của chúng được phản ánh vốn có trong các chỉ số "Trong Sandbox" và "Thông tin Hoàn chỉnh". Ví dụ, khi các thành phố thiếu giao thông hoặc điểm tham quan, các agent thường viện đến ảo giác hoặc chọn không cung cấp câu trả lời, phản ánh tác động của các ràng buộc môi trường.

Đối với Tỷ lệ Vượt qua Ràng buộc Thường thức và Tỷ lệ Vượt qua Ràng buộc Cứng, chúng tôi sử dụng hai chiến lược đánh giá: vi mô và vĩ mô. Chiến lược vi mô tính toán tỷ lệ các ràng buộc được vượt qua trên tổng số ràng buộc. Tỷ lệ Vượt qua Vi mô được định nghĩa là:

Tỷ lệ Vượt qua Vi mô = (∑p∈P ∑c∈Cp 1passed(c,p)) / (∑p∈P |Cp|), (1)

trong đó P đại diện cho tập hợp tất cả các kế hoạch được đánh giá, Cp biểu thị tập hợp các ràng buộc áp dụng cho một kế hoạch cụ thể p trong P, và passed(X, Y) là một hàm xác định liệu Y có đáp ứng ràng buộc X.

Chiến lược vĩ mô tính toán tỷ lệ các kế hoạch vượt qua tất cả các ràng buộc thường thức hoặc cứng trong số tất cả các kế hoạch được kiểm tra. Chúng tôi định nghĩa Tỷ lệ Vượt qua Vĩ mô là:

Tỷ lệ Vượt qua Vĩ mô = (∑p∈P 1passed(Cp,p)) / |P|. (2)

Hai chỉ số này đánh giá khả năng của một agent trong việc tuân theo các ràng buộc riêng lẻ so với tất cả các ràng buộc một cách toàn diện.

3.5. Thiết lập Chỉ-Lập-kế-hoạch
Trong khi TravelPlanner được thiết kế để đánh giá khả năng tổng thể của các agent trong việc sử dụng công cụ và lập kế hoạch (chế độ hai giai đoạn),

--- TRANG 6 ---
TravelPlanner: Một Benchmark cho Lập Kế Hoạch Thế Giới Thực với Các Agent Ngôn Ngữ

Bảng 3. Kết quả chính của các LLM và chiến lược lập kế hoạch khác nhau trên tập xác thực và tập kiểm tra TravelPlanner. Các kết quả tốt nhất được đánh dấu in đậm. Khi thông tin thu thập được không đủ, Gemini Pro có xu hướng từ chối trực tiếp cung cấp kế hoạch. Phỏng vấn với các người chú thích tiết lộ rằng việc chú thích thủ công một kế hoạch trung bình mất khoảng 12 phút. Tuy nhiên, các agent ngôn ngữ, như GPT-3.5-Turbo, có thể hoàn thành nhiệm vụ này chỉ trong 1 đến 2 phút, cho thấy hiệu quả của chúng.

[Bảng với các kết quả chi tiết về Tỷ lệ Giao hàng, Tỷ lệ Vượt qua Ràng buộc Thường thức, Tỷ lệ Vượt qua Ràng buộc Cứng, và Tỷ lệ Vượt qua Cuối cùng cho cả tập Xác thực (#180) và tập Kiểm tra (#1,000)]

chúng tôi cũng thiết lập một chế độ đơn giản hóa chỉ đánh giá kỹ năng lập kế hoạch của các agent (chế độ chỉ-lập-kế-hoạch). Trong thiết lập này, chúng tôi sử dụng các kế hoạch được chú thích bởi con người để xác định trước các thành phố đích, và cung cấp thông tin chi tiết và cần thiết trực tiếp cho các agent, như các nhà hàng trong các thành phố được cung cấp. Điều này loại bỏ nhu cầu gọi công cụ vì các agent không cần thu thập thông tin từ đầu qua các công cụ nữa.

4. Thí nghiệm
Chúng tôi đánh giá hiệu suất của các LLM và chiến lược lập kế hoạch khác nhau trên TravelPlanner. Trong chế độ hai giai đoạn, chúng tôi sử dụng khung ReAct (Yao et al., 2022) để thu thập thông tin, được công nhận vì khả năng lặp hiệu quả với các công cụ (Zhuang et al., 2023) trong khi thay đổi các LLM nền tảng. Cách tiếp cận này cho phép chúng tôi đánh giá cách các LLM khác nhau hoạt động dưới một khung sử dụng công cụ thống nhất. Các agent được yêu cầu đưa ra kế hoạch trực tiếp dựa trên thông tin do chính chúng thu thập, mà không sử dụng bất kỳ chiến lược lập kế hoạch nào khác. Trong chế độ chỉ-lập-kế-hoạch, đánh giá của chúng tôi vượt ra ngoài việc thay đổi LLM để bao gồm các chiến lược lập kế hoạch khác nhau. Điều này nhằm đánh giá liệu các chiến lược được chứng minh hiệu quả trong các benchmark lập kế hoạch khác có duy trì hiệu quả của chúng trong TravelPlanner. Tất cả các thí nghiệm được tiến hành trong thiết lập zero-shot.

4.1. Baseline
Tìm kiếm Tham lam. Để đánh giá hiệu quả của các chiến lược dựa trên quy tắc truyền thống trong TravelPlanner, chúng tôi bao gồm tìm kiếm tham lam như một baseline và đặt chi phí làm mục tiêu tối ưu hóa. Vui lòng tham khảo Phụ lục B.1 để biết thêm chi tiết.

LLM. Do yêu cầu cửa sổ ngữ cảnh dài của ReAct và thông tin khổng lồ dưới dạng văn bản, chúng tôi giới hạn xem xét các LLM có khả năng xử lý đầu vào vượt quá 8K độ dài. Kết quả là, lựa chọn của chúng tôi bao gồm ba LLM mã nguồn đóng: GPT-3.5-Turbo (OpenAI, 2022), GPT-4-Turbo (OpenAI, 2023), và Gemini Pro (G Team et al., 2023), cũng như hai LLM mã nguồn mở: Mistral-7B-32K (Jiang et al., 2023) và Mixtral-8x7B-MoE (Jiang et al., 2024). Đối với tất cả các mô hình này, chúng tôi áp dụng các định dạng hướng dẫn chính thức bất cứ khi nào có sẵn.

Chiến lược Lập kế hoạch. Để khám phá hiệu quả của các chiến lược lập kế hoạch hiện tại, chúng tôi đánh giá bốn chiến lược đại diện: Direct, ZS-CoT (Wei et al., 2022), ReAct (Yao et al., 2022), và Reflexion (Shinn et al., 2023). Để biết chi tiết triển khai, vui lòng tham khảo Phụ lục B.1. Chúng tôi không bao gồm ToT (Yao et al., 2023) và GoT (Besta et al., 2023) vì chúng đòi hỏi khám phá rộng rãi không gian tìm kiếm, quá tốn kém cho các vấn đề phức tạp như TravelPlanner. Ngoài ra, với hiệu suất gần tương đương ReAct trong các nhiệm vụ phức tạp (Zhuang et al., 2024), lợi ích tiềm năng của các phương pháp này có thể bị hạn chế.

4.2. Kết quả Chính
Trong phần này, chúng tôi thảo luận về hiệu suất của các LLM và chiến lược lập kế hoạch khác nhau trên TravelPlanner (Bảng 3). Chúng tôi có các quan sát sau:

TravelPlanner đặt ra một thách thức đáng kể. Trong chế độ hai giai đoạn, GPT-4-Turbo với ReAct chỉ đạt được 0.6% trong tỷ lệ vượt qua cuối cùng, và không có LLM nào khác có thể vượt qua bất kỳ

--- TRANG 7 ---
TravelPlanner: Một Benchmark cho Lập Kế Hoạch Thế Giới Thực với Các Agent Ngôn Ngữ

Giới hạn Bước Tối đa
Lỗi Đối số
Hành động Không hợp lệ Vòng lặp Chết
Vòng lặp Chết Cùng Hành động

Mixtral-7×8B-MoE | Gemini Pro | GPT-3.5-Turbo | GPT-4-Turbo
39.7% | 66.7% | 56.8% | 56.7%
12.8% | 8.3% | 20.3% | 37.3%
30.4% | 20.1% | 17.6% | 6.0%
17.1% | 4.9% | 5.4% | 

Hình 2. Phân phối lỗi sử dụng công cụ trên tập kiểm tra. Một lần dừng sớm sẽ được kích hoạt nếu agent thực hiện ba lần thử liên tiếp thất bại hoặc các hành động lặp lại, cho thấy một vòng lặp chết.

nhiệm vụ nào. Ngay cả khi được cung cấp tất cả thông tin cần thiết trong chế độ chỉ-lập-kế-hoạch, các chiến lược lập kế hoạch hiện có như ReAct và Reflexion vẫn gặp khó khăn với việc lập kế hoạch trong TravelPlanner, mặc dù chúng đã cho thấy hiệu quả trong các nhiệm vụ lập kế hoạch thông thường hơn. Đáng chú ý là agent có hiệu suất tốt nhất vẫn thiếu sót về các ràng buộc cứng ngay cả khi so sánh với tìm kiếm tham lam. Hiệu suất kém này nhấn mạnh độ khó của TravelPlanner và cho thấy rằng các agent hiện tại vẫn gặp khó khăn với việc lập kế hoạch phức tạp.

Các agent cho thấy khoảng cách đáng kể giữa hai chế độ. So sánh hai chế độ tiết lộ cuộc đấu tranh của các agent trong việc xử lý cả việc thu thập thông tin và lập kế hoạch. Trên tất cả các chỉ số, điểm số của bất kỳ mô hình nào trong chế độ hai giai đoạn đều thấp hơn so với chế độ chỉ-lập-kế-hoạch, với khoảng cách lớn nhất lên đến hơn 30%. Tương tự như con người, các agent ngôn ngữ cũng dường như có "khả năng nhận thức" hạn chế và hiệu suất của chúng giảm khi làm nhiều việc cùng lúc. Chúng tôi cung cấp phân tích sâu hơn trong Phần 5.2.

Các agent gặp khó khăn trong việc đạt được tỷ lệ vượt qua vĩ mô cao. Trong khi một số agent đạt được điểm vi mô cao, điểm vĩ mô của chúng vẫn thấp. Mô hình này cho thấy rằng mặc dù các agent quản lý để đáp ứng một số ràng buộc, chúng thường bỏ qua một số ràng buộc khác cùng lúc. Do đó, điều này chỉ ra rằng các agent hiện tại không thể xem xét nhiều ràng buộc một cách toàn diện, một yêu cầu quan trọng để điều hướng các nhiệm vụ phức tạp trong TravelPlanner.

Tóm lại, TravelPlanner đặt ra một thách thức lớn cho các agent hiện tại. Các LLM và chiến lược lập kế hoạch SoTA, thường cho thấy hiệu suất bằng hoặc vượt trội so với mức độ con người trên nhiều nhiệm vụ truyền thống, vẫn còn xa mới đủ cho các nhiệm vụ lập kế hoạch phức tạp mà con người có khả năng thực hiện. TravelPlanner cung cấp một benchmark đầy thách thức nhưng có ý nghĩa cho việc phát triển các agent ngôn ngữ có khả năng hơn.

5. Phân tích Sâu
5.1. Phân tích Lỗi Sử dụng Công cụ
Như được hiển thị trong Bảng 3, ngay cả dựa trên GPT-4-Turbo, các agent vẫn mắc lỗi trong quá trình thu thập thông tin và do đó không thể giao một kế hoạch. Vấn đề này nghiêm trọng hơn ở Gemini Pro và Mixtral. Để đi sâu vào nguyên nhân cơ bản, chúng tôi phân loại tất cả các loại lỗi trong Hình 2. Chúng tôi thấy:

1) Các agent sử dụng công cụ không chính xác. Ngoại trừ GPT-4-Turbo, tất cả các agent dựa trên LLM khác đều có vấn đề lỗi đối số ở các mức độ khác nhau. Điều này soi sáng rằng việc sử dụng các công cụ đơn giản vẫn đặt ra một thách thức đáng kể cho các agent. 2) Các agent mắc kẹt trong các vòng lặp chết. Ngay cả với GPT-4-Turbo, các hành động không hợp lệ và các vòng lặp hành động lặp lại đóng góp vào 37.3% và 6.0% lỗi tương ứng. Mặc dù nhận được phản hồi rằng các hành động không hợp lệ hoặc mang lại kết quả null, các agent vẫn kiên trì lặp lại các hành động này. Điều này gợi ý rằng các agent không thể điều chỉnh kế hoạch của chúng một cách động dựa trên phản hồi môi trường.

5.2. Phân tích Lỗi Lập kế hoạch
Chúng tôi chi tiết từng tỷ lệ vượt qua ràng buộc trong Bảng 4, từ đó chúng tôi có các quan sát sau:

Số lượng ràng buộc cứng ảnh hưởng đến hiệu suất của các agent. Các agent nhất quán thể hiện tỷ lệ vượt qua dưới 10% trên tất cả các mức độ khó, và hiệu suất này giảm sút hơn nữa khi thêm nhiều ràng buộc. Xu hướng này nhấn mạnh rằng các agent hiện tại gặp khó khăn với các nhiệm vụ đa ràng buộc, một khía cạnh chính của TravelPlanner.

Thu thập thông tin toàn diện là cần thiết để các agent lập kế hoạch hiệu quả. Trong chế độ chỉ-lập-kế-hoạch, hiệu suất agent cải thiện so với chế độ hai giai đoạn. Để điều tra điều này, Bảng 5 cho thấy các agent trong chế độ hai giai đoạn sử dụng công cụ kém hiệu quả hơn so với các kế hoạch tham chiếu. So sánh này chỉ ra rằng các agent thường không thể hoàn thành việc thu thập thông tin hoàn chỉnh. Do đó, chúng tạo ra thông tin giả mạo hoặc bỏ sót các chi tiết cụ thể. Điều này dẫn đến tỷ lệ vượt qua thấp cho các ràng buộc "Trong Sandbox" và "Thông tin Hoàn chỉnh". Ngoài ra, sự khác biệt này trở nên rõ ràng hơn với sự gia tăng thời gian du lịch. Điều này nhấn mạnh nhu cầu cải thiện khả năng của các agent trong các nhiệm vụ dài hạn.

Các agent gặp khó khăn với các kịch bản lập kế hoạch toàn cục. Các ràng buộc toàn cục "Lưu trú Số đêm Tối thiểu" và "Ngân sách" đòi hỏi một cách tiếp cận toàn diện đối với việc lập kế hoạch, đòi hỏi các agent không chỉ đánh giá quyết định hiện tại của chúng mà còn dự đoán những tác động trong tương lai. Bản chất tự hồi quy của các LLM hiện tại hạn chế chúng độc lập thu được kết quả từ nhiều nhánh tương lai. Điều này nhấn mạnh sự cần thiết và nhu cầu cấp bách của các chiến lược mới, như backtracking để điều chỉnh hoặc sử dụng các phương pháp heuristic cho việc lập kế hoạch nhìn về phía trước.

--- TRANG 8 ---
TravelPlanner: Một Benchmark cho Lập Kế Hoạch Thế Giới Thực với Các Agent Ngôn Ngữ

Bảng 4. Tỷ lệ vượt qua ràng buộc của GPT-4-Turbo trên tập kiểm tra. Kết quả của chế độ chỉ-lập-kế-hoạch dựa trên chiến lược Direct.

[Bảng chi tiết với các tỷ lệ vượt qua ràng buộc khác nhau cho các mức độ Dễ, Trung bình, Khó]

Bảng 5. So sánh số lượng sử dụng công cụ khác nhau giữa agent (GPT-4-Turbo) và tham chiếu. Kết quả của agent dựa trên số lượng mục được ghi vào "Notebook".

[Bảng so sánh việc sử dụng các công cụ khác nhau]

5.3. Nghiên cứu Trường hợp
Để điều tra những khuyết điểm của các agent hiện tại một cách sâu sắc, chúng tôi cung cấp một số trường hợp thất bại trong Hình 3. Chúng tôi kết luận với các đặc điểm sau:

Các agent không thể hoàn thành kế hoạch do không có khả năng khắc phục các lỗi dai dẳng. Trong các kịch bản sử dụng công cụ, các agent thường không thể giao một kế hoạch ngay cả khi tất cả các bước trước đó được thực hiện chính xác. Điều tra sâu hơn tiết lộ rằng vấn đề này thường xuất phát từ đầu vào ngày không chính xác. Như được hiển thị trong phần bên trái của Hình 3, mặc dù thực hiện chính xác, các agent liên tục sử dụng ngày không chính xác. Điều này dẫn đến kết quả null, vì dữ liệu trong sandbox TravelPlanner dựa trên năm 2022. Những thất bại lặp đi lặp lại như vậy cuối cùng khiến các agent ngừng lập kế hoạch. Điều này chỉ ra một hạn chế đáng kể: các agent hiện tại không thể tự sửa các giả định ban đầu và không chính xác của chúng.

Các agent tạo ra câu trả lời ảo giác do nhầm lẫn thông tin. Để hiểu tại sao các agent cung cấp câu trả lời ảo giác ngay cả khi được cung cấp đủ thông tin trong chế độ chỉ-lập-kế-hoạch, chúng tôi tiến hành phân tích chi tiết. Chúng tôi quan sát xu hướng các agent nhầm lẫn một phần thông tin với phần khác. Như được hiển thị trong phần giữa của Hình 3, các agent nhầm lẫn sử dụng cùng một số hiệu chuyến bay cho cả chuyến bay khởi hành và trở về. Những lỗi như vậy dẫn đến ảo giác, vì thông tin được cung cấp trong kế hoạch không phù hợp với dữ liệu trong sandbox. Điều này gợi ý rằng các agent có thể bị lạc khi đối mặt với khối lượng thông tin lớn, được biết đến là "Lost in the Middle" (Liu et al., 2023b).

Các agent gặp khó khăn trong việc căn chỉnh hành động của chúng với lý luận của chúng. Để hiểu lý do đằng sau tỷ lệ giao hàng thấp hơn của Reflexion (Shinn et al., 2023), chúng tôi kiểm tra các ví dụ cụ thể. Như được minh họa trong phần bên phải của Hình 3, chúng tôi quan sát sự khác biệt giữa những gì các agent nghĩ và những gì chúng làm. Mặc dù nhận ra sự cần thiết để giảm thiểu chi phí, chúng có xu hướng chọn ngẫu nhiên các mục, một số trong đó có thể đắt hơn. Sự khác biệt này chứng minh rằng các agent gặp khó khăn trong việc đồng bộ hóa hành động của chúng với lý luận phân tích của chúng, cản trở nghiêm trọng tỷ lệ giao hàng của chúng.

6. Kết luận
Chúng tôi giới thiệu TravelPlanner, một benchmark dựa trên các kịch bản thế giới thực, được thiết kế để đánh giá khả năng lập kế hoạch đa ràng buộc và sử dụng công cụ của các agent ngôn ngữ hiện tại. Benchmark của chúng tôi đặt ra một thách thức đáng kể: ngay cả các khung agent ngôn ngữ tiên tiến nhất cũng chỉ đạt được 0.6% điểm trong tỷ lệ vượt qua cuối cùng. Phân tích sâu hơn cho thấy rằng các agent này không thể xem xét tất cả các ràng buộc để giao các kế hoạch khả thi.

Logic phức tạp và khả năng áp dụng tổng quát của TravelPlanner đóng vai trò là các thành phần quan trọng trong việc phát triển tiến bộ của các agent ngôn ngữ, do đó đóng góp vào nhiệm vụ rộng lớn hơn cho các khả năng AI. Chúng tôi hình dung TravelPlanner như một chất xúc tác cho nghiên cứu tương lai, nhằm tăng cường hiệu suất của các agent trong các kịch bản ngày càng phức tạp, leo lên hướng tới khả năng nhận thức ở mức độ con người.

7. Tuyên bố Tác động
TravelPlanner nhằm cung cấp một benchmark hiệu quả cho việc lập kế hoạch phức tạp trong nghiên cứu tương lai. Một số dữ liệu trong môi trường TravelPlanner được lấy từ dữ liệu có sẵn công khai trên Internet, và nội dung liên quan không đại diện cho quan điểm của các tác giả. Chúng tôi nhận ra rằng định nghĩa thường thức của mỗi người có thể khác nhau. Các tiêu chí đánh giá hiện tại của chúng tôi dựa trên sự đồng thuận của các tác giả, và chúng tôi khuyến khích các cuộc thảo luận bổ sung để làm phong phú khía cạnh thường thức của chúng tôi, nhằm đánh giá kỹ lưỡng hơn. Chúng tôi sẽ phát hành các script đánh giá của chúng tôi để thúc đẩy đổi mới và hỗ trợ phát triển các phương pháp mới. Chúng tôi khuyến khích việc sử dụng phản hồi đánh giá trong tập huấn luyện, như triển khai các kỹ thuật học tăng cường, để tăng cường học tập. Tuy nhiên, chúng tôi nghiêm cấm mọi hình thức gian lận trong các tập xác thực và kiểm tra để duy trì tính công bằng và độ tin cậy của quy trình đánh giá của benchmark.

Tài liệu tham khảo
[Các tài liệu tham khảo được liệt kê với định dạng học thuật]

--- TRANG 9-24 ---
[Tiếp tục với các phần Phụ lục, nghiên cứu trường hợp chi tiết, và các thông tin bổ sung khác của bài báo]
