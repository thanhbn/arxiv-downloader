Phụ lục A. Thống kê Bộ dữ liệu
Thống kê của MSC và Carecall được thể hiện trong Bảng A.10 và Bảng A.11. ID phiên i cho biết có i−1 phiên hội thoại lịch sử xảy ra trước phiên cuối cùng. "#Ave. Tokens" và "#Max. Tokens" đề cập đến số lượng token trung bình và tối đa của các cuộc đối thoại, tương ứng.

Bảng A.10: Thống kê của Bộ dữ liệu MSC.
ID Phiên #Đối thoại #Phản hồi #Token TB #Token Tối đa
Phiên 2 501 5,939 444.84 951
Phiên 3 501 5,924 810.19 1733
Phiên 4 501 5,940 1195.08 2234
Phiên 5 501 5,945 1598.78 2613

Bảng A.11: Thống kê của Bộ dữ liệu Carecall.
ID Phiên #Đối thoại #Phản hồi #Token TB #Token Tối đa
Phiên 2 2798 7826 285.03 692
Phiên 3 743 7693 459.63 1093
Phiên 4 674 7065 636.55 1418
Phiên 5 638 6553 809.45 1744

Phụ lục B. Thiết kế Lời nhắc
Sau đây là tất cả các lời nhắc được sử dụng trong các thí nghiệm của chúng tôi:

• LLM chỉ sử dụng ngữ cảnh (Llama-7B, ChatGLM-6B, và ChatGPT): Bảng B.12
• LLM dựa trên truy xuất (ChatGPT-BM25 & ChatGPT-DPR): Bảng B.13

Bảng B.12: Lời nhắc cho LLM chỉ sử dụng ngữ cảnh.
Lời nhắc
Bạn là một mô hình ngôn ngữ AI tiên tiến có khả năng tham gia vào các cuộc hội thoại dựa trên nhân vật. Phản hồi cho người dùng dựa trên ngữ cảnh đối thoại được cung cấp. Tạo ra một phản hồi tự nhiên và mang tính hội thoại.
Ngữ cảnh đối thoại: [đối thoại]
Phản hồi cho người dùng là:
Đầu ra [phản hồi]

Bảng B.13: Lời nhắc cho LLM dựa trên truy xuất.
Lời nhắc
Bạn là một AI tiên tiến được thiết kế để tham gia vào các cuộc hội thoại tự nhiên, dựa trên nhân vật. Bạn sẽ được cung cấp bộ nhớ đối thoại, ngữ cảnh lịch sử liên quan và ngữ cảnh đối thoại.
Bộ nhớ đối thoại chứa nhân vật, sở thích và trải nghiệm của các diễn giả (người dùng và trợ lý). Khi phản hồi, hãy xem xét việc duy trì giọng điệu hội thoại và trôi chảy.
Các phản hồi nên liên quan đến ngữ cảnh và nhằm mục đích duy trì dòng chảy của cuộc hội thoại.
Ngữ cảnh liên quan: [các phát ngôn được truy xuất]. Ngữ cảnh đối thoại: [đối thoại].
Vậy phản hồi cho người dùng là:
Đầu ra [phản hồi]

• LLM dựa trên truy xuất được tăng cường bởi framework của chúng tôi (ChatGPT-BM25 + Framework của chúng tôi & ChatGPT-DPR + Framework của chúng tôi): Bảng B.14
• Phương pháp của chúng tôi được tăng cường bởi học trong ngữ cảnh (Lấy one-shot làm ví dụ): Bảng B.15
• Đánh giá LLM: Bảng B.16 và Bảng B.17

Bảng B.14: Lời nhắc cho LLM dựa trên truy xuất được tăng cường bởi framework của chúng tôi.
Lời nhắc
Bạn là một AI tiên tiến được thiết kế để tham gia vào các cuộc hội thoại tự nhiên, dựa trên nhân vật. Bạn sẽ được cung cấp bộ nhớ đối thoại, ngữ cảnh lịch sử liên quan và ngữ cảnh đối thoại.
Bộ nhớ đối thoại chứa nhân vật, sở thích và trải nghiệm của các diễn giả (trợ lý và người dùng). Khi phản hồi, hãy xem xét việc duy trì giọng điệu hội thoại và trôi chảy.
Các phản hồi nên liên quan đến ngữ cảnh và nhằm mục đích duy trì dòng chảy của cuộc hội thoại.
Ngữ cảnh liên quan: [các phát ngôn truy xuất]
Bộ nhớ: [bộ nhớ mới nhất]
Đối thoại: [ngữ cảnh hiện tại]
Đầu ra [phản hồi]

Bảng B.15: Lời nhắc cho phương pháp của chúng tôi với học trong ngữ cảnh.
Lời nhắc
Bạn là một AI tiên tiến được thiết kế để tham gia vào các cuộc hội thoại tự nhiên, dựa trên nhân vật. Bạn sẽ được cung cấp một bộ nhớ, chứa sở thích cá nhân và trải nghiệm của các diễn giả (trợ lý và người dùng), cũng như một ngữ cảnh đối thoại. Khi phản hồi, hãy xem xét việc duy trì giọng điệu hội thoại và trôi chảy. Các phản hồi nên liên quan đến ngữ cảnh, nhất quán với bộ nhớ được cung cấp, nhằm mục đích duy trì dòng chảy của cuộc hội thoại. Mục tiêu của bạn là cung cấp các phản hồi hấp dẫn và mạch lạc dựa trên ngữ cảnh đối thoại được cung cấp. Để giúp bạn hiểu nhiệm vụ này, chúng tôi cung cấp 1 ví dụ bên dưới.
VÍ DỤ 1: Bộ nhớ ví dụ là:
Người dùng: - Đã ly hôn - Nuôi một đứa trẻ - Nhập cư từ Anh năm ngoái - Thợ kim loại
Trợ lý: - Chưa kết hôn - Bạn gái có 2 đứa con - Làm việc trên mTurk, cảnh quan, bán hàng, nhồi phong bì, sơn - Từng yêu thích mùa đông, nhưng đã trở nên không chịu nổi nó - Làm việc với một người bạn sở hữu "John of all trades"
Ngữ cảnh đối thoại ví dụ là:
Người dùng: Hôm nay là ngày nóng nhất tôi từng trải qua ở Florida!
Vậy phản hồi cho người dùng là: bạn có thích cái nóng hơn cái lạnh ở Anh không?
Sau đây là trường hợp bạn cần kiểm tra: Bộ nhớ kiểm tra là:[bộ nhớ trước đó]
Ngữ cảnh đối thoại kiểm tra là:[đối thoại] Vậy phản hồi cho người dùng là:
Đầu ra [phản hồi]

Bảng B.16: Lời nhắc cho đánh giá mô hình đơn.
Lời nhắc
Bạn là một thẩm phán công bằng. Bạn sẽ được hiển thị Ngữ cảnh Hội thoại, Nhân vật của Diễn giả và Phản hồi của Trợ lý.
#Tính trôi chảy: Vui lòng đánh giá liệu phản hồi của Trợ lý có tự nhiên, trôi chảy và giống với giao tiếp của con người hay không, tránh lặp lại và đảm bảo một phạm vi đầu ra đa dạng.
#Tính nhất quán: Vui lòng đánh giá liệu phản hồi của Trợ lý có nhất quán với thông tin của danh sách nhân vật hay không. Bất kỳ sự lệch lạc nào từ nhân vật mong đợi có thể chỉ ra sự thiếu mạch lạc.
#Tính mạch lạc: Vui lòng đánh giá liệu phản hồi của Trợ lý có duy trì dòng chảy mạch lạc và logic của cuộc hội thoại dựa trên ngữ cảnh đang phát triển hay không. Một phản hồi có tính mạch lạc ngữ cảnh tốt có thể hiểu và phản hồi phù hợp với những thay đổi trong chủ đề hội thoại, cung cấp các tương tác mượt mà và hợp lý.
Ngữ cảnh Hội thoại:[đối thoại] Nhân vật:[nhân vật] Phản hồi của Trợ lý: [phản hồi]
Bắt đầu đánh giá của bạn bằng cách cung cấp một giải thích ngắn, sau đó bạn phải đánh giá Phản hồi của Trợ lý trên thang điểm số nguyên từ 1 (rất tệ) đến 100 (rất tốt) bằng cách tuân thủ nghiêm ngặt định dạng này: [[điểm]].
Đầu ra [đầu ra]

Bảng B.17: Lời nhắc của đánh giá mô hình so sánh cặp.
Lời nhắc
Chào! Chúng tôi là một nhóm nhà nghiên cứu làm việc về Trí tuệ Nhân tạo. Trong nhiệm vụ này, chúng tôi sẽ yêu cầu bạn giúp chúng tôi đánh giá các phản hồi của trợ lý. Trong khu vực bên dưới, trước tiên bạn sẽ đọc:
1. Một ngữ cảnh hội thoại đến từ hai diễn giả (người dùng và bot)
2. Nhân vật của hai diễn giả (người dùng và bot) được trích xuất từ các cuộc đối thoại trong quá khứ.
3. Hai phản hồi từ các hệ thống AI. Nhiệm vụ của bạn là quyết định phản hồi nào tốt hơn. Có một số khía cạnh mà bạn có thể suy nghĩ. Hãy xem xét các câu hỏi sau:
1. Phản hồi có mạch lạc không? Một phản hồi với tính mạch lạc ngữ cảnh tốt có thể hiểu và phản hồi phù hợp với những thay đổi trong chủ đề hội thoại, cung cấp các tương tác mượt mà và hợp lý.
2. Phản hồi có nhất quán không? Đánh giá liệu phản hồi có nhất quán với thông tin của danh sách nhân vật hay không. Bất kỳ sự lệch lạc nào từ nhân vật mong đợi có thể chỉ ra sự thiếu nhất quán.
3. Phản hồi có tự nhiên và trôi chảy không? Vui lòng đánh giá liệu phản hồi có tự nhiên, trôi chảy và giống với giao tiếp của con người hay không, tránh lặp lại quá mức và đảm bảo một phạm vi đầu ra đa dạng.
Dựa trên thẩm mỹ của bạn, bạn thích cái nào hơn? Ví dụ, bạn có thể thích một bài thơ hơn một bài thơ khác. Cuối cùng, bạn nên quyết định phản hồi nào tốt hơn dựa trên phán đoán và sở thích của riêng bạn. Có bốn tùy chọn để bạn lựa chọn:
1.Phản hồi 1 tốt hơn: Nếu bạn nghĩ phản hồi 1 có lợi thế, hãy chọn tùy chọn này.
2.Phản hồi 1 tốt hơn một chút: Phản hồi 1 tốt hơn phản hồi 2 một cách rất nhỏ và sự khác biệt là nhỏ.
3.Phản hồi 2 tốt hơn một chút: Phản hồi 2 tốt hơn phản hồi 1 một cách rất nhỏ và sự khác biệt là nhỏ.
4.Phản hồi 2 tốt hơn: Nếu bạn nghĩ phản hồi 2 có lợi thế, hãy chọn tùy chọn này.
Có những trường hợp mà sự khác biệt giữa hai phản hồi không rõ ràng. Trong trường hợp này, bạn có thể chọn tùy chọn thứ hai hoặc thứ ba. Tuy nhiên, nói chung, chúng tôi yêu cầu bạn chọn những tùy chọn đó càng ít càng tốt.
phản hồi 1: [phản hồi1] phản hồi 2: [phản hồi2]
Đầu ra [phản hồi]

Tài liệu tham khảo
[Danh sách đầy đủ các tài liệu tham khảo được dịch tiếp theo với định dạng và thông tin đầy đủ]
